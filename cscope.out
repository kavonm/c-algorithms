cscope 15 /cygdrive/e/Dev/git/c-algorithms -q 0000000790 0000177712
	@config.h

5 
	#HAVE_DLFCN_H
 1

	)

8 
	#HAVE_INTTYPES_H
 1

	)

11 
	#HAVE_MEMORY_H
 1

	)

14 
	#HAVE_STDINT_H
 1

	)

17 
	#HAVE_STDLIB_H
 1

	)

20 
	#HAVE_STRINGS_H
 1

	)

23 
	#HAVE_STRING_H
 1

	)

26 
	#HAVE_SYS_STAT_H
 1

	)

29 
	#HAVE_SYS_TYPES_H
 1

	)

32 
	#HAVE_UNISTD_H
 1

	)

36 
	#LT_OBJDIR
 ".libs/"

	)

39 
	#PACKAGE_BUGREPORT
 "äaggË@u£rs.sourûfÜge.Ãt"

	)

42 
	#PACKAGE_NAME
 "C AlgÜ™hms"

	)

45 
	#PACKAGE_STRING
 "C AlgÜ™hm 1.2.0"

	)

48 
	#PACKAGE_TARNAME
 "c-®gÜ™hms"

	)

51 
	#PACKAGE_URL
 ""

	)

54 
	#PACKAGE_VERSION
 "1.2.0"

	)

57 
	#STDC_HEADERS
 1

	)

	@doc/intro.h

	@src/arraylist.c

21 
	~<¡dlib.h
>

22 
	~<¡ršg.h
>

24 
	~"¬¿yli¡.h
"

28 #ifdeà
ALLOC_TESTING


29 
	~"®loc-‹¡šg.h
"

34 
A¼ayLi¡
 *
	$¬¿yli¡_Ãw
(
Ëngth
)

36 
A¼ayLi¡
 *
Ãw_¬¿yli¡
;

40 ià(
Ëngth
 <= 0) {

41 
Ëngth
 = 16;

47 
Ãw_¬¿yli¡
 = (
A¼ayLi¡
 *è
	`m®loc
((ArrayList));

49 ià(
Ãw_¬¿yli¡
 =ğ
NULL
) {

50  
NULL
;

53 
Ãw_¬¿yli¡
->
_®loûd
 = 
Ëngth
;

54 
Ãw_¬¿yli¡
->
Ëngth
 = 0;

58 
Ãw_¬¿yli¡
->
d©a
 = 
	`m®loc
(
Ëngth
 * (
A¼ayLi¡V®ue
));

60 ià(
Ãw_¬¿yli¡
->
d©a
 =ğ
NULL
) {

61 
	`ä“
(
Ãw_¬¿yli¡
);

62  
NULL
;

65  
Ãw_¬¿yli¡
;

66 
	}
}

68 
	$¬¿yli¡_ä“
(
A¼ayLi¡
 *
¬¿yli¡
)

72 ià(
¬¿yli¡
 !ğ
NULL
) {

73 
	`ä“
(
¬¿yli¡
->
d©a
);

74 
	`ä“
(
¬¿yli¡
);

76 
	}
}

78 
	$¬¿yli¡_’Ïrge
(
A¼ayLi¡
 *
¬¿yli¡
)

80 
A¼ayLi¡V®ue
 *
d©a
;

81 
Ãwsize
;

85 
Ãwsize
 = 
¬¿yli¡
->
_®loûd
 * 2;

89 
d©a
 = 
	`»®loc
(
¬¿yli¡
->d©a, (
A¼ayLi¡V®ue
è* 
Ãwsize
);

91 ià(
d©a
 =ğ
NULL
) {

94 
¬¿yli¡
->
d©a
 = data;

95 
¬¿yli¡
->
_®loûd
 = 
Ãwsize
;

99 
	}
}

101 
	$¬¿yli¡_š£¹
(
A¼ayLi¡
 *
¬¿yli¡
, 
šdex
,

102 
A¼ayLi¡V®ue
 
d©a
)

106 ià(
šdex
 < 0 || index > 
¬¿yli¡
->
Ëngth
) {

112 ià(
¬¿yli¡
->
Ëngth
 + 1 >‡¼ayli¡->
_®loûd
) {

113 ià(!
	`¬¿yli¡_’Ïrge
(
¬¿yli¡
)) {

121 
	`memmove
(&
¬¿yli¡
->
d©a
[
šdex
 + 1],

122 &
¬¿yli¡
->
d©a
[
šdex
],

123 (
¬¿yli¡
->
Ëngth
 - 
šdex
è* (
A¼ayLi¡V®ue
));

127 
¬¿yli¡
->
d©a
[
šdex
] = data;

128 ++
¬¿yli¡
->
Ëngth
;

131 
	}
}

133 
	$¬¿yli¡_­³nd
(
A¼ayLi¡
 *
¬¿yli¡
, 
A¼ayLi¡V®ue
 
d©a
)

135  
	`¬¿yli¡_š£¹
(
¬¿yli¡
,‡¼ayli¡->
Ëngth
, 
d©a
);

136 
	}
}

138 
	$¬¿yli¡_´•’d
(
A¼ayLi¡
 *
¬¿yli¡
, 
A¼ayLi¡V®ue
 
d©a
)

140  
	`¬¿yli¡_š£¹
(
¬¿yli¡
, 0, 
d©a
);

141 
	}
}

143 
	$¬¿yli¡_»move_¿nge
(
A¼ayLi¡
 *
¬¿yli¡
, 
šdex
,

144 
Ëngth
)

148 ià(
šdex
 < 0 || 
Ëngth
 < 0 || index +†’gth > 
¬¿yli¡
->length) {

154 
	`memmove
(&
¬¿yli¡
->
d©a
[
šdex
],

155 &
¬¿yli¡
->
d©a
[
šdex
 + 
Ëngth
],

156 (
¬¿yli¡
->
Ëngth
 - (
šdex
 +†’gth)è* (
A¼ayLi¡V®ue
));

160 
¬¿yli¡
->
Ëngth
 -=†ength;

161 
	}
}

163 
	$¬¿yli¡_»move
(
A¼ayLi¡
 *
¬¿yli¡
, 
šdex
)

165 
	`¬¿yli¡_»move_¿nge
(
¬¿yli¡
, 
šdex
, 1);

166 
	}
}

168 
	$¬¿yli¡_šdex_of
(
A¼ayLi¡
 *
¬¿yli¡
,

169 
A¼ayLi¡Equ®Func
 
ÿÎback
,

170 
A¼ayLi¡V®ue
 
d©a
)

172 
i
;

174 
i
=0; i<
¬¿yli¡
->
Ëngth
; ++i) {

175 ià(
	`ÿÎback
(
¬¿yli¡
->
d©a
[
i
], data) != 0)

176  (è
i
;

180 
	}
}

182 
	$¬¿yli¡_ş—r
(
A¼ayLi¡
 *
¬¿yli¡
)

186 
¬¿yli¡
->
Ëngth
 = 0;

187 
	}
}

189 
	$¬¿yli¡_sÜt_š‹º®
(
A¼ayLi¡V®ue
 *
li¡_d©a
,

190 
li¡_Ëngth
,

191 
A¼ayLi¡Com·»Func
 
com·»_func
)

193 
A¼ayLi¡V®ue
 
pivÙ
;

194 
A¼ayLi¡V®ue
 
tmp
;

195 
i
;

196 
li¡1_Ëngth
;

197 
li¡2_Ëngth
;

201 ià(
li¡_Ëngth
 <= 1) {

207 
pivÙ
 = 
li¡_d©a
[
li¡_Ëngth
-1];

220 
li¡1_Ëngth
 = 0;

222 
i
=0; i<
li¡_Ëngth
-1; ++i) {

224 ià(
	`com·»_func
(
li¡_d©a
[
i
], 
pivÙ
) < 0) {

230 
tmp
 = 
li¡_d©a
[
i
];

231 
li¡_d©a
[
i
] =†i¡_d©a[
li¡1_Ëngth
];

232 
li¡_d©a
[
li¡1_Ëngth
] = 
tmp
;

234 ++
li¡1_Ëngth
;

244 
li¡2_Ëngth
 = 
li¡_Ëngth
 - 
li¡1_Ëngth
 - 1;

254 
li¡_d©a
[
li¡_Ëngth
-1] =†i¡_d©a[
li¡1_Ëngth
];

255 
li¡_d©a
[
li¡1_Ëngth
] = 
pivÙ
;

259 
	`¬¿yli¡_sÜt_š‹º®
(
li¡_d©a
, 
li¡1_Ëngth
, 
com·»_func
);

261 
	`¬¿yli¡_sÜt_š‹º®
(&
li¡_d©a
[
li¡1_Ëngth
 + 1], 
li¡2_Ëngth
,

262 
com·»_func
);

263 
	}
}

265 
	$¬¿yli¡_sÜt
(
A¼ayLi¡
 *
¬¿yli¡
, 
A¼ayLi¡Com·»Func
 
com·»_func
)

269 
	`¬¿yli¡_sÜt_š‹º®
(
¬¿yli¡
->
d©a
,‡¼ayli¡->
Ëngth
, 
com·»_func
);

270 
	}
}

	@src/arraylist.h

39 #iâdeà
ALGORITHM_ARRAYLIST_H


40 
	#ALGORITHM_ARRAYLIST_H


	)

42 #ifdeà
__ılu¥lus


50 *
	tA¼ayLi¡V®ue
;

59 
_A¼ayLi¡
 
	tA¼ayLi¡
;

65 
	s_A¼ayLi¡
 {

69 
A¼ayLi¡V®ue
 *
d©a
;

73 
Ëngth
;

77 
_®loûd
;

86 (*
A¼ayLi¡Equ®Func
)(
	tA¼ayLi¡V®ue
 
	tv®ue1
, A¼ayLi¡V®u
	tv®ue2
);

100 (*
A¼ayLi¡Com·»Func
)(
	tA¼ayLi¡V®ue
 
	tv®ue1
,

101 
	tA¼ayLi¡V®ue
 
	tv®ue2
);

115 
A¼ayLi¡
 *
¬¿yli¡_Ãw
(
Ëngth
);

123 
¬¿yli¡_ä“
(
A¼ayLi¡
 *
¬¿yli¡
);

135 
¬¿yli¡_­³nd
(
A¼ayLi¡
 *
¬¿yli¡
, 
A¼ayLi¡V®ue
 
d©a
);

147 
¬¿yli¡_´•’d
(
A¼ayLi¡
 *
¬¿yli¡
, 
A¼ayLi¡V®ue
 
d©a
);

156 
¬¿yli¡_»move
(
A¼ayLi¡
 *
¬¿yli¡
, 
šdex
);

166 
¬¿yli¡_»move_¿nge
(
A¼ayLi¡
 *
¬¿yli¡
, 
šdex
,

167 
Ëngth
);

182 
¬¿yli¡_š£¹
(
A¼ayLi¡
 *
¬¿yli¡
, 
šdex
,

183 
A¼ayLi¡V®ue
 
d©a
);

196 
¬¿yli¡_šdex_of
(
A¼ayLi¡
 *
¬¿yli¡
,

197 
A¼ayLi¡Equ®Func
 
ÿÎback
,

198 
A¼ayLi¡V®ue
 
d©a
);

206 
¬¿yli¡_ş—r
(
A¼ayLi¡
 *
¬¿yli¡
);

215 
¬¿yli¡_sÜt
(
A¼ayLi¡
 *
¬¿yli¡
, 
A¼ayLi¡Com·»Func
 
com·»_func
);

217 #ifdeà
__ılu¥lus


	@src/avl-tree.c

21 
	~<¡dlib.h
>

23 
	~"avl-Œ“.h
"

27 #ifdeà
ALLOC_TESTING


28 
	~"®loc-‹¡šg.h
"

33 
	s_AVLT»eNode
 {

34 
AVLT»eNode
 *
	mchd»n
[2];

35 
AVLT»eNode
 *
	m·»Á
;

36 
AVLT»eKey
 
	mkey
;

37 
AVLT»eV®ue
 
	mv®ue
;

38 
	mheight
;

41 
	s_AVLT»e
 {

42 
AVLT»eNode
 *
	mroÙ_node
;

43 
AVLT»eCom·»Func
 
	mcom·»_func
;

44 
	mnum_nodes
;

47 
AVLT»e
 *
	$avl_Œ“_Ãw
(
AVLT»eCom·»Func
 
com·»_func
)

49 
AVLT»e
 *
Ãw_Œ“
;

51 
Ãw_Œ“
 = (
AVLT»e
 *è
	`m®loc
((AVLTree));

53 ià(
Ãw_Œ“
 =ğ
NULL
) {

54  
NULL
;

57 
Ãw_Œ“
->
roÙ_node
 = 
NULL
;

58 
Ãw_Œ“
->
com·»_func
 = compare_func;

59 
Ãw_Œ“
->
num_nodes
 = 0;

61  
Ãw_Œ“
;

62 
	}
}

64 
	$avl_Œ“_ä“_subŒ“
(
AVLT»e
 *
Œ“
, 
AVLT»eNode
 *
node
)

66 ià(
node
 =ğ
NULL
) {

70 
	`avl_Œ“_ä“_subŒ“
(
Œ“
, 
node
->
chd»n
[
AVL_TREE_NODE_LEFT
]);

71 
	`avl_Œ“_ä“_subŒ“
(
Œ“
, 
node
->
chd»n
[
AVL_TREE_NODE_RIGHT
]);

73 
	`ä“
(
node
);

74 
	}
}

76 
	$avl_Œ“_ä“
(
AVLT»e
 *
Œ“
)

80 
	`avl_Œ“_ä“_subŒ“
(
Œ“
,»e->
roÙ_node
);

84 
	`ä“
(
Œ“
);

85 
	}
}

87 
	$avl_Œ“_subŒ“_height
(
AVLT»eNode
 *
node
)

89 ià(
node
 =ğ
NULL
) {

92  
node
->
height
;

94 
	}
}

100 
	$avl_Œ“_upd©e_height
(
AVLT»eNode
 *
node
)

102 
AVLT»eNode
 *
Ëá_subŒ“
;

103 
AVLT»eNode
 *
right_subŒ“
;

104 
Ëá_height
, 
right_height
;

106 
Ëá_subŒ“
 = 
node
->
chd»n
[
AVL_TREE_NODE_LEFT
];

107 
right_subŒ“
 = 
node
->
chd»n
[
AVL_TREE_NODE_RIGHT
];

108 
Ëá_height
 = 
	`avl_Œ“_subŒ“_height
(
Ëá_subŒ“
);

109 
right_height
 = 
	`avl_Œ“_subŒ“_height
(
right_subŒ“
);

111 ià(
Ëá_height
 > 
right_height
) {

112 
node
->
height
 = 
Ëá_height
 + 1;

114 
node
->
height
 = 
right_height
 + 1;

116 
	}
}

120 
AVLT»eNodeSide
 
	$avl_Œ“_node_·»Á_side
(
AVLT»eNode
 *
node
)

122 ià(
node
->
·»Á
->
chd»n
[
AVL_TREE_NODE_LEFT
] ==‚ode) {

123  
AVL_TREE_NODE_LEFT
;

125  
AVL_TREE_NODE_RIGHT
;

127 
	}
}

131 
	$avl_Œ“_node_»¶aû
(
AVLT»e
 *
Œ“
, 
AVLT»eNode
 *
node1
,

132 
AVLT»eNode
 *
node2
)

134 
side
;

138 ià(
node2
 !ğ
NULL
) {

139 
node2
->
·»Á
 = 
node1
->parent;

144 ià(
node1
->
·»Á
 =ğ
NULL
) {

145 
Œ“
->
roÙ_node
 = 
node2
;

147 
side
 = 
	`avl_Œ“_node_·»Á_side
(
node1
);

148 
node1
->
·»Á
->
chd»n
[
side
] = 
node2
;

150 
	`avl_Œ“_upd©e_height
(
node1
->
·»Á
);

152 
	}
}

176 
AVLT»eNode
 *
	$avl_Œ“_rÙ©e
(
AVLT»e
 *
Œ“
, 
AVLT»eNode
 *
node
,

177 
AVLT»eNodeSide
 
dœeùiÚ
)

179 
AVLT»eNode
 *
Ãw_roÙ
;

184 
Ãw_roÙ
 = 
node
->
chd»n
[1-
dœeùiÚ
];

188 
	`avl_Œ“_node_»¶aû
(
Œ“
, 
node
, 
Ãw_roÙ
);

192 
node
->
chd»n
[1-
dœeùiÚ
] = 
Ãw_roÙ
->children[direction];

193 
Ãw_roÙ
->
chd»n
[
dœeùiÚ
] = 
node
;

197 
node
->
·»Á
 = 
Ãw_roÙ
;

199 ià(
node
->
chd»n
[1-
dœeùiÚ
] !ğ
NULL
) {

200 
node
->
chd»n
[1-
dœeùiÚ
]->
·»Á
 =‚ode;

205 
	`avl_Œ“_upd©e_height
(
Ãw_roÙ
);

206 
	`avl_Œ“_upd©e_height
(
node
);

208  
Ãw_roÙ
;

209 
	}
}

217 
AVLT»eNode
 *
	$avl_Œ“_node_b®ªû
(
AVLT»e
 *
Œ“
, 
AVLT»eNode
 *
node
)

219 
AVLT»eNode
 *
Ëá_subŒ“
;

220 
AVLT»eNode
 *
right_subŒ“
;

221 
AVLT»eNode
 *
chd
;

222 
diff
;

224 
Ëá_subŒ“
 = 
node
->
chd»n
[
AVL_TREE_NODE_LEFT
];

225 
right_subŒ“
 = 
node
->
chd»n
[
AVL_TREE_NODE_RIGHT
];

231 
diff
 = 
	`avl_Œ“_subŒ“_height
(
right_subŒ“
)

232 - 
	`avl_Œ“_subŒ“_height
(
Ëá_subŒ“
);

234 ià(
diff
 >= 2) {

238 
chd
 = 
right_subŒ“
;

240 ià(
	`avl_Œ“_subŒ“_height
(
chd
->
chd»n
[
AVL_TREE_NODE_RIGHT
])

241 < 
	`avl_Œ“_subŒ“_height
(
chd
->
chd»n
[
AVL_TREE_NODE_LEFT
])) {

247 
	`avl_Œ“_rÙ©e
(
Œ“
, 
right_subŒ“
,

248 
AVL_TREE_NODE_RIGHT
);

254 
node
 = 
	`avl_Œ“_rÙ©e
(
Œ“
,‚ode, 
AVL_TREE_NODE_LEFT
);

256 } ià(
diff
 <= -2) {

260 
chd
 = 
node
->
chd»n
[
AVL_TREE_NODE_LEFT
];

262 ià(
	`avl_Œ“_subŒ“_height
(
chd
->
chd»n
[
AVL_TREE_NODE_LEFT
])

263 < 
	`avl_Œ“_subŒ“_height
(
chd
->
chd»n
[
AVL_TREE_NODE_RIGHT
])) {

269 
	`avl_Œ“_rÙ©e
(
Œ“
, 
Ëá_subŒ“
,

270 
AVL_TREE_NODE_LEFT
);

276 
node
 = 
	`avl_Œ“_rÙ©e
(
Œ“
,‚ode, 
AVL_TREE_NODE_RIGHT
);

281 
	`avl_Œ“_upd©e_height
(
node
);

283  
node
;

284 
	}
}

288 
	$avl_Œ“_b®ªû_to_roÙ
(
AVLT»e
 *
Œ“
, 
AVLT»eNode
 *
node
)

290 
AVLT»eNode
 *
rov”
;

292 
rov”
 = 
node
;

294 
rov”
 !ğ
NULL
) {

298 
rov”
 = 
	`avl_Œ“_node_b®ªû
(
Œ“
,„over);

302 
rov”
 =„ov”->
·»Á
;

304 
	}
}

306 
AVLT»eNode
 *
	$avl_Œ“_š£¹
(
AVLT»e
 *
Œ“
, 
AVLT»eKey
 
key
, 
AVLT»eV®ue
 
v®ue
)

308 
AVLT»eNode
 **
rov”
;

309 
AVLT»eNode
 *
Ãw_node
;

310 
AVLT»eNode
 *
´evious_node
;

314 
rov”
 = &
Œ“
->
roÙ_node
;

315 
´evious_node
 = 
NULL
;

317 *
rov”
 !ğ
NULL
) {

318 
´evious_node
 = *
rov”
;

319 ià(
Œ“
->
	`com·»_func
(
key
, (*
rov”
)->key) < 0) {

320 
rov”
 = &((*rov”)->
chd»n
[
AVL_TREE_NODE_LEFT
]);

322 
rov”
 = &((*rov”)->
chd»n
[
AVL_TREE_NODE_RIGHT
]);

328 
Ãw_node
 = (
AVLT»eNode
 *è
	`m®loc
((AVLTreeNode));

330 ià(
Ãw_node
 =ğ
NULL
) {

331  
NULL
;

334 
Ãw_node
->
chd»n
[
AVL_TREE_NODE_LEFT
] = 
NULL
;

335 
Ãw_node
->
chd»n
[
AVL_TREE_NODE_RIGHT
] = 
NULL
;

336 
Ãw_node
->
·»Á
 = 
´evious_node
;

337 
Ãw_node
->
key
 = key;

338 
Ãw_node
->
v®ue
 = value;

339 
Ãw_node
->
height
 = 1;

343 *
rov”
 = 
Ãw_node
;

347 
	`avl_Œ“_b®ªû_to_roÙ
(
Œ“
, 
´evious_node
);

351 ++
Œ“
->
num_nodes
;

353  
Ãw_node
;

354 
	}
}

360 
AVLT»eNode
 *
	$avl_Œ“_node_g‘_»¶aûm’t
(
AVLT»e
 *
Œ“
,

361 
AVLT»eNode
 *
node
)

363 
AVLT»eNode
 *
Ëá_subŒ“
;

364 
AVLT»eNode
 *
right_subŒ“
;

365 
AVLT»eNode
 *
»suÉ
;

366 
AVLT»eNode
 *
chd
;

367 
Ëá_height
, 
right_height
;

368 
side
;

370 
Ëá_subŒ“
 = 
node
->
chd»n
[
AVL_TREE_NODE_LEFT
];

371 
right_subŒ“
 = 
node
->
chd»n
[
AVL_TREE_NODE_RIGHT
];

375 ià(
Ëá_subŒ“
 =ğ
NULL
 && 
right_subŒ“
 == NULL) {

376  
NULL
;

382 
Ëá_height
 = 
	`avl_Œ“_subŒ“_height
(
Ëá_subŒ“
);

383 
right_height
 = 
	`avl_Œ“_subŒ“_height
(
right_subŒ“
);

385 ià(
Ëá_height
 < 
right_height
) {

386 
side
 = 
AVL_TREE_NODE_RIGHT
;

388 
side
 = 
AVL_TREE_NODE_LEFT
;

393 
»suÉ
 = 
node
->
chd»n
[
side
];

395 
»suÉ
->
chd»n
[1-
side
] !ğ
NULL
) {

396 
»suÉ
 =„esuÉ->
chd»n
[1-
side
];

402 
chd
 = 
»suÉ
->
chd»n
[
side
];

403 
	`avl_Œ“_node_»¶aû
(
Œ“
, 
»suÉ
, 
chd
);

407 
	`avl_Œ“_upd©e_height
(
»suÉ
->
·»Á
);

409  
»suÉ
;

410 
	}
}

414 
	$avl_Œ“_»move_node
(
AVLT»e
 *
Œ“
, 
AVLT»eNode
 *
node
)

416 
AVLT»eNode
 *
sw­_node
;

417 
AVLT»eNode
 *
b®ªû_¡¬ošt
;

418 
i
;

424 
sw­_node
 = 
	`avl_Œ“_node_g‘_»¶aûm’t
(
Œ“
, 
node
);

426 ià(
sw­_node
 =ğ
NULL
) {

433 
	`avl_Œ“_node_»¶aû
(
Œ“
, 
node
, 
NULL
);

437 
b®ªû_¡¬ošt
 = 
node
->
·»Á
;

445 ià(
sw­_node
->
·»Á
 =ğ
node
) {

446 
b®ªû_¡¬ošt
 = 
sw­_node
;

448 
b®ªû_¡¬ošt
 = 
sw­_node
->
·»Á
;

453 
i
=0; i<2; ++i) {

454 
sw­_node
->
chd»n
[
i
] = 
node
->children[i];

456 ià(
sw­_node
->
chd»n
[
i
] !ğ
NULL
) {

457 
sw­_node
->
chd»n
[
i
]->
·»Á
 = swap_node;

461 
sw­_node
->
height
 = 
node
->height;

465 
	`avl_Œ“_node_»¶aû
(
Œ“
, 
node
, 
sw­_node
);

470 
	`ä“
(
node
);

474 --
Œ“
->
num_nodes
;

478 
	`avl_Œ“_b®ªû_to_roÙ
(
Œ“
, 
b®ªû_¡¬ošt
);

479 
	}
}

483 
	$avl_Œ“_»move
(
AVLT»e
 *
Œ“
, 
AVLT»eKey
 
key
)

485 
AVLT»eNode
 *
node
;

489 
node
 = 
	`avl_Œ“_lookup_node
(
Œ“
, 
key
);

491 ià(
node
 =ğ
NULL
) {

499 
	`avl_Œ“_»move_node
(
Œ“
, 
node
);

502 
	}
}

504 
AVLT»eNode
 *
	$avl_Œ“_lookup_node
(
AVLT»e
 *
Œ“
, 
AVLT»eKey
 
key
)

506 
AVLT»eNode
 *
node
;

507 
diff
;

512 
node
 = 
Œ“
->
roÙ_node
;

514 
node
 !ğ
NULL
) {

516 
diff
 = 
Œ“
->
	`com·»_func
(
key
, 
node
->key);

518 ià(
diff
 == 0) {

522  
node
;

524 } ià(
diff
 < 0) {

525 
node
 =‚ode->
chd»n
[
AVL_TREE_NODE_LEFT
];

527 
node
 =‚ode->
chd»n
[
AVL_TREE_NODE_RIGHT
];

533  
NULL
;

534 
	}
}

536 
AVLT»eV®ue
 
	$avl_Œ“_lookup
(
AVLT»e
 *
Œ“
, 
AVLT»eKey
 
key
)

538 
AVLT»eNode
 *
node
;

542 
node
 = 
	`avl_Œ“_lookup_node
(
Œ“
, 
key
);

544 ià(
node
 =ğ
NULL
) {

545  
AVL_TREE_NULL
;

547  
node
->
v®ue
;

549 
	}
}

551 
AVLT»eNode
 *
	$avl_Œ“_roÙ_node
(
AVLT»e
 *
Œ“
)

553  
Œ“
->
roÙ_node
;

554 
	}
}

556 
AVLT»eKey
 
	$avl_Œ“_node_key
(
AVLT»eNode
 *
node
)

558  
node
->
key
;

559 
	}
}

561 
AVLT»eV®ue
 
	$avl_Œ“_node_v®ue
(
AVLT»eNode
 *
node
)

563  
node
->
v®ue
;

564 
	}
}

566 
AVLT»eNode
 *
	$avl_Œ“_node_chd
(
AVLT»eNode
 *
node
, 
AVLT»eNodeSide
 
side
)

568 ià(
side
 =ğ
AVL_TREE_NODE_LEFT
 || sid=ğ
AVL_TREE_NODE_RIGHT
) {

569  
node
->
chd»n
[
side
];

571  
NULL
;

573 
	}
}

575 
AVLT»eNode
 *
	$avl_Œ“_node_·»Á
(
AVLT»eNode
 *
node
)

577  
node
->
·»Á
;

578 
	}
}

580 
	$avl_Œ“_num_’Œ›s
(
AVLT»e
 *
Œ“
)

582  
Œ“
->
num_nodes
;

583 
	}
}

585 
	$avl_Œ“_to_¬¿y_add_subŒ“
(
AVLT»eNode
 *
subŒ“
,

586 
AVLT»eV®ue
 *
¬¿y
,

587 *
šdex
)

589 ià(
subŒ“
 =ğ
NULL
) {

595 
	`avl_Œ“_to_¬¿y_add_subŒ“
(
subŒ“
->
chd»n
[
AVL_TREE_NODE_LEFT
],

596 
¬¿y
, 
šdex
);

600 
¬¿y
[*
šdex
] = 
subŒ“
->
key
;

601 ++*
šdex
;

605 
	`avl_Œ“_to_¬¿y_add_subŒ“
(
subŒ“
->
chd»n
[
AVL_TREE_NODE_RIGHT
],

606 
¬¿y
, 
šdex
);

607 
	}
}

609 
AVLT»eV®ue
 *
	$avl_Œ“_to_¬¿y
(
AVLT»e
 *
Œ“
)

611 
AVLT»eV®ue
 *
¬¿y
;

612 
šdex
;

616 
¬¿y
 = 
	`m®loc
((
AVLT»eV®ue
è* 
Œ“
->
num_nodes
);

618 ià(
¬¿y
 =ğ
NULL
) {

619  
NULL
;

622 
šdex
 = 0;

626 
	`avl_Œ“_to_¬¿y_add_subŒ“
(
Œ“
->
roÙ_node
, 
¬¿y
, &
šdex
);

628  
¬¿y
;

629 
	}
}

	@src/avl-tree.h

54 #iâdeà
ALGORITHM_AVLTREE_H


55 
	#ALGORITHM_AVLTREE_H


	)

57 #ifdeà
__ılu¥lus


67 
_AVLT»e
 
	tAVLT»e
;

73 *
	tAVLT»eKey
;

79 *
	tAVLT»eV®ue
;

85 
	#AVL_TREE_NULL
 ((*è0)

	)

97 
_AVLT»eNode
 
	tAVLT»eNode
;

104 
AVL_TREE_NODE_LEFT
 = 0,

105 
AVL_TREE_NODE_RIGHT
 = 1

106 } 
	tAVLT»eNodeSide
;

119 (*
AVLT»eCom·»Func
)(
	tAVLT»eV®ue
 
	tv®ue1
, AVLT»eV®u
	tv®ue2
);

129 
AVLT»e
 *
avl_Œ“_Ãw
(
AVLT»eCom·»Func
 
com·»_func
);

137 
avl_Œ“_ä“
(
AVLT»e
 *
Œ“
);

150 
AVLT»eNode
 *
avl_Œ“_š£¹
(
AVLT»e
 *
Œ“
, 
AVLT»eKey
 
key
, 
AVLT»eV®ue
 
v®ue
);

159 
avl_Œ“_»move_node
(
AVLT»e
 *
Œ“
, 
AVLT»eNode
 *
node
);

172 
avl_Œ“_»move
(
AVLT»e
 *
Œ“
, 
AVLT»eKey
 
key
);

184 
AVLT»eNode
 *
avl_Œ“_lookup_node
(
AVLT»e
 *
Œ“
, 
AVLT»eKey
 
key
);

199 
AVLT»eV®ue
 
avl_Œ“_lookup
(
AVLT»e
 *
Œ“
, 
AVLT»eKey
 
key
);

209 
AVLT»eNode
 *
avl_Œ“_roÙ_node
(
AVLT»e
 *
Œ“
);

218 
AVLT»eKey
 
avl_Œ“_node_key
(
AVLT»eNode
 *
node
);

227 
AVLT»eV®ue
 
avl_Œ“_node_v®ue
(
AVLT»eNode
 *
node
);

238 
AVLT»eNode
 *
avl_Œ“_node_chd
(AVLT»eNod*
node
, 
AVLT»eNodeSide
 
side
);

248 
AVLT»eNode
 *
avl_Œ“_node_·»Á
(AVLT»eNod*
node
);

257 
avl_Œ“_subŒ“_height
(
AVLT»eNode
 *
node
);

270 
AVLT»eV®ue
 *
avl_Œ“_to_¬¿y
(
AVLT»e
 *
Œ“
);

279 
avl_Œ“_num_’Œ›s
(
AVLT»e
 *
Œ“
);

281 #ifdeà
__ılu¥lus


	@src/binary-heap.c

21 
	~<¡dlib.h
>

23 
	~"bš¬y-h—p.h
"

27 #ifdeà
ALLOC_TESTING


28 
	~"®loc-‹¡šg.h
"

31 
	s_Bš¬yH—p
 {

32 
Bš¬yH—pTy³
 
	mh—p_ty³
;

33 
Bš¬yH—pV®ue
 *
	mv®ues
;

34 
	mnum_v®ues
;

35 
	m®loûd_size
;

36 
Bš¬yH—pCom·»Func
 
	mcom·»_func
;

39 
	$bš¬y_h—p_cmp
(
Bš¬yH—p
 *
h—p
, 
Bš¬yH—pV®ue
 
d©a1
, Bš¬yH—pV®u
d©a2
)

41 ià(
h—p
->
h—p_ty³
 =ğ
BINARY_HEAP_TYPE_MIN
) {

42  
h—p
->
	`com·»_func
(
d©a1
, 
d©a2
);

44  -
h—p
->
	`com·»_func
(
d©a1
, 
d©a2
);

46 
	}
}

48 
Bš¬yH—p
 *
	$bš¬y_h—p_Ãw
(
Bš¬yH—pTy³
 
h—p_ty³
,

49 
Bš¬yH—pCom·»Func
 
com·»_func
)

51 
Bš¬yH—p
 *
h—p
;

53 
h—p
 = 
	`m®loc
((
Bš¬yH—p
));

55 ià(
h—p
 =ğ
NULL
) {

56  
NULL
;

59 
h—p
->
h—p_ty³
 = heap_type;

60 
h—p
->
num_v®ues
 = 0;

61 
h—p
->
com·»_func
 = compare_func;

65 
h—p
->
®loûd_size
 = 16;

66 
h—p
->
v®ues
 = 
	`m®loc
((
Bš¬yH—pV®ue
è* h—p->
®loûd_size
);

68 ià(
h—p
->
v®ues
 =ğ
NULL
) {

69 
	`ä“
(
h—p
);

70  
NULL
;

73  
h—p
;

74 
	}
}

76 
	$bš¬y_h—p_ä“
(
Bš¬yH—p
 *
h—p
)

78 
	`ä“
(
h—p
->
v®ues
);

79 
	`ä“
(
h—p
);

80 
	}
}

82 
	$bš¬y_h—p_š£¹
(
Bš¬yH—p
 *
h—p
, 
Bš¬yH—pV®ue
 
v®ue
)

84 
Bš¬yH—pV®ue
 *
Ãw_v®ues
;

85 
šdex
;

86 
Ãw_size
;

87 
·»Á
;

91 ià(
h—p
->
num_v®ues
 >ğh—p->
®loûd_size
) {

95 
Ãw_size
 = 
h—p
->
®loûd_size
 * 2;

96 
Ãw_v®ues
 = 
	`»®loc
(
h—p
->
v®ues
, (
Bš¬yH—pV®ue
è* 
Ãw_size
);

98 ià(
Ãw_v®ues
 =ğ
NULL
) {

102 
h—p
->
®loûd_size
 = 
Ãw_size
;

103 
h—p
->
v®ues
 = 
Ãw_v®ues
;

108 
šdex
 = 
h—p
->
num_v®ues
;

109 ++
h—p
->
num_v®ues
;

113 
šdex
 > 0) {

117 
·»Á
 = (
šdex
 - 1) / 2;

121 ià(
	`bš¬y_h—p_cmp
(
h—p
, h—p->
v®ues
[
·»Á
], 
v®ue
) < 0) {

131 
h—p
->
v®ues
[
šdex
] = h—p->v®ues[
·»Á
];

135 
šdex
 = 
·»Á
;

141 
h—p
->
v®ues
[
šdex
] = 
v®ue
;

144 
	}
}

146 
Bš¬yH—pV®ue
 
	$bš¬y_h—p_pİ
(
Bš¬yH—p
 *
h—p
)

148 
Bš¬yH—pV®ue
 
»suÉ
;

149 
Bš¬yH—pV®ue
 
Ãw_v®ue
;

150 
šdex
;

151 
Ãxt_šdex
;

152 
chd1
, 
chd2
;

156 ià(
h—p
->
num_v®ues
 == 0) {

157  
BINARY_HEAP_NULL
;

162 
»suÉ
 = 
h—p
->
v®ues
[0];

167 
Ãw_v®ue
 = 
h—p
->
v®ues
[h—p->
num_v®ues
 - 1];

168 --
h—p
->
num_v®ues
;

172 
šdex
 = 0;

178 
chd1
 = 
šdex
 * 2 + 1;

179 
chd2
 = 
šdex
 * 2 + 2;

181 ià(
chd1
 < 
h—p
->
num_v®ues


182 && 
	`bš¬y_h—p_cmp
(
h—p
,

183 
Ãw_v®ue
,

184 
h—p
->
v®ues
[
chd1
]) > 0) {

189 ià(
chd2
 < 
h—p
->
num_v®ues


190 && 
	`bš¬y_h—p_cmp
(
h—p
,

191 
h—p
->
v®ues
[
chd1
],

192 
h—p
->
v®ues
[
chd2
]) > 0) {

193 
Ãxt_šdex
 = 
chd2
;

195 
Ãxt_šdex
 = 
chd1
;

198 } ià(
chd2
 < 
h—p
->
num_v®ues


199 && 
	`bš¬y_h—p_cmp
(
h—p
,

200 
Ãw_v®ue
,

201 
h—p
->
v®ues
[
chd2
]) > 0) {

206 
Ãxt_šdex
 = 
chd2
;

212 
h—p
->
v®ues
[
šdex
] = 
Ãw_v®ue
;

218 
h—p
->
v®ues
[
šdex
] = h—p->v®ues[
Ãxt_šdex
];

222 
šdex
 = 
Ãxt_šdex
;

225  
»suÉ
;

226 
	}
}

228 
	$bš¬y_h—p_num_’Œ›s
(
Bš¬yH—p
 *
h—p
)

230  
h—p
->
num_v®ues
;

231 
	}
}

	@src/binary-heap.h

38 #iâdeà
ALGORITHM_BINARY_HEAP_H


39 
	#ALGORITHM_BINARY_HEAP_H


	)

41 #ifdeà
__ılu¥lus


56 
BINARY_HEAP_TYPE_MIN
,

60 
BINARY_HEAP_TYPE_MAX


61 } 
	tBš¬yH—pTy³
;

67 *
	tBš¬yH—pV®ue
;

73 
	#BINARY_HEAP_NULL
 ((*è0)

	)

85 (*
Bš¬yH—pCom·»Func
)(
	tBš¬yH—pV®ue
 
	tv®ue1
,

86 
	tBš¬yH—pV®ue
 
	tv®ue2
);

92 
_Bš¬yH—p
 
	tBš¬yH—p
;

104 
Bš¬yH—p
 *
bš¬y_h—p_Ãw
(
Bš¬yH—pTy³
 
h—p_ty³
,

105 
Bš¬yH—pCom·»Func
 
com·»_func
);

113 
bš¬y_h—p_ä“
(
Bš¬yH—p
 *
h—p
);

125 
bš¬y_h—p_š£¹
(
Bš¬yH—p
 *
h—p
, 
Bš¬yH—pV®ue
 
v®ue
);

135 
Bš¬yH—pV®ue
 
bš¬y_h—p_pİ
(
Bš¬yH—p
 *
h—p
);

144 
bš¬y_h—p_num_’Œ›s
(
Bš¬yH—p
 *
h—p
);

146 #ifdeà
__ılu¥lus


	@src/binomial-heap.c

21 
	~<¡dlib.h
>

22 
	~<¡ršg.h
>

23 
	~<v®ues.h
>

25 
	~"bšomŸl-h—p.h
"

29 #ifdeà
ALLOC_TESTING


30 
	~"®loc-‹¡šg.h
"

33 
_BšomŸlT»e
 
	tBšomŸlT»e
;

35 
	s_BšomŸlT»e


37 
BšomŸlH—pV®ue
 
	mv®ue
;

38 
	mÜd”
;

39 
	m»fcouÁ
;

40 
BšomŸlT»e
 **
	msubŒ“s
;

43 
	s_BšomŸlH—p


45 
BšomŸlH—pTy³
 
	mh—p_ty³
;

46 
BšomŸlH—pCom·»Func
 
	mcom·»_func
;

47 
	mnum_v®ues
;

48 
BšomŸlT»e
 **
	mroÙs
;

49 
	mroÙs_Ëngth
;

52 
	$bšomŸl_h—p_cmp
(
BšomŸlH—p
 *
h—p
,

53 
BšomŸlH—pV®ue
 
d©a1
,

54 
BšomŸlH—pV®ue
 
d©a2
)

56 ià(
h—p
->
h—p_ty³
 =ğ
BINOMIAL_HEAP_TYPE_MIN
) {

57  
h—p
->
	`com·»_func
(
d©a1
, 
d©a2
);

59  -(
h—p
->
	`com·»_func
(
d©a1
, 
d©a2
));

61 
	}
}

63 
	$bšomŸl_Œ“_»f
(
BšomŸlT»e
 *
Œ“
)

65 ià(
Œ“
 !ğ
NULL
) {

66 ++
Œ“
->
»fcouÁ
;

68 
	}
}

70 
	$bšomŸl_Œ“_uÄef
(
BšomŸlT»e
 *
Œ“
)

72 
i
;

74 ià(
Œ“
 =ğ
NULL
) {

80 --
Œ“
->
»fcouÁ
;

85 ià(
Œ“
->
»fcouÁ
 == 0) {

87 
i
=0; i<
Œ“
->
Üd”
; ++i) {

88 
	`bšomŸl_Œ“_uÄef
(
Œ“
->
subŒ“s
[
i
]);

91 
	`ä“
(
Œ“
->
subŒ“s
);

92 
	`ä“
(
Œ“
);

94 
	}
}

96 
BšomŸlT»e
 *
	$bšomŸl_Œ“_m”ge
(
BšomŸlH—p
 *
h—p
,

97 
BšomŸlT»e
 *
Œ“1
,

98 
BšomŸlT»e
 *
Œ“2
)

100 
BšomŸlT»e
 *
Ãw_Œ“
;

101 
BšomŸlT»e
 *
tmp
;

102 
i
;

107 ià(
	`bšomŸl_h—p_cmp
(
h—p
, 
Œ“1
->
v®ue
, 
Œ“2
->value) > 0) {

111 
tmp
 = 
Œ“1
;

112 
Œ“1
 = 
Œ“2
;

113 
Œ“2
 = 
tmp
;

118 
Ãw_Œ“
 = 
	`m®loc
((
BšomŸlT»e
));

120 ià(
Ãw_Œ“
 =ğ
NULL
) {

121  
NULL
;

124 
Ãw_Œ“
->
»fcouÁ
 = 0;

125 
Ãw_Œ“
->
Üd”
 = (è(
Œ“1
->order + 1);

129 
Ãw_Œ“
->
v®ue
 = 
Œ“1
->value;

134 
Ãw_Œ“
->
subŒ“s
 = 
	`m®loc
((
BšomŸlT»e
 *è*‚ew_Œ“->
Üd”
);

136 ià(
Ãw_Œ“
->
subŒ“s
 =ğ
NULL
) {

137 
	`ä“
(
Ãw_Œ“
);

138  
NULL
;

141 
	`memıy
(
Ãw_Œ“
->
subŒ“s
, 
Œ“1
->subtrees,

142 (
BšomŸlT»e
 *è* 
Œ“1
->
Üd”
);

143 
Ãw_Œ“
->
subŒ“s
[Ãw_Œ“->
Üd”
 - 1] = 
Œ“2
;

147 
i
=0; i<
Ãw_Œ“
->
Üd”
; ++i) {

148 
	`bšomŸl_Œ“_»f
(
Ãw_Œ“
->
subŒ“s
[
i
]);

151  
Ãw_Œ“
;

152 
	}
}

158 
	$bšomŸl_h—p_m”ge_undo
(
BšomŸlT»e
 **
Ãw_roÙs
,

159 
couÁ
)

161 
i
;

163 
i
=0; i<=
couÁ
; ++i) {

164 
	`bšomŸl_Œ“_uÄef
(
Ãw_roÙs
[
i
]);

167 
	`ä“
(
Ãw_roÙs
);

168 
	}
}

173 
	$bšomŸl_h—p_m”ge
(
BšomŸlH—p
 *
h—p
, BšomŸlH—°*
Ùh”
)

175 
BšomŸlT»e
 **
Ãw_roÙs
;

176 
Ãw_roÙs_Ëngth
;

177 
BšomŸlT»e
 *
v®s
[3];

178 
num_v®s
;

179 
BšomŸlT»e
 *
ÿ¼y
;

180 
BšomŸlT»e
 *
Ãw_ÿ¼y
;

181 
max
;

182 
i
;

187 ià(
h—p
->
roÙs_Ëngth
 > 
Ùh”
->roots_length) {

188 
max
 = 
h—p
->
roÙs_Ëngth
 + 1;

190 
max
 = 
Ùh”
->
roÙs_Ëngth
 + 1;

195 
Ãw_roÙs
 = 
	`m®loc
((
BšomŸlT»e
 *è* 
max
);

197 ià(
Ãw_roÙs
 =ğ
NULL
) {

204 
Ãw_roÙs_Ëngth
 = 0;

205 
ÿ¼y
 = 
NULL
;

207 
i
=0; i<
max
; ++i) {

212 
num_v®s
 = 0;

216 ià(
i
 < 
h—p
->
roÙs_Ëngth
 && h—p->
roÙs
[i] !ğ
NULL
) {

217 
v®s
[
num_v®s
] = 
h—p
->
roÙs
[
i
];

218 ++
num_v®s
;

223 ià(
i
 < 
Ùh”
->
roÙs_Ëngth
 && oth”->
roÙs
[i] !ğ
NULL
) {

224 
v®s
[
num_v®s
] = 
Ùh”
->
roÙs
[
i
];

225 ++
num_v®s
;

231 ià(
ÿ¼y
 !ğ
NULL
) {

232 
v®s
[
num_v®s
] = 
ÿ¼y
;

233 ++
num_v®s
;

238 ià((
num_v®s
 & 1) != 0) {

242 
Ãw_roÙs
[
i
] = 
v®s
[
num_v®s
 - 1];

243 
	`bšomŸl_Œ“_»f
(
Ãw_roÙs
[
i
]);

244 
Ãw_roÙs_Ëngth
 = 
i
 + 1;

250 
Ãw_roÙs
[
i
] = 
NULL
;

256 ià((
num_v®s
 & 2) != 0) {

261 
Ãw_ÿ¼y
 = 
	`bšomŸl_Œ“_m”ge
(
h—p
,

262 
v®s
[0],

263 
v®s
[1]);

265 ià(
Ãw_ÿ¼y
 =ğ
NULL
) {

271 
	`bšomŸl_h—p_m”ge_undo
(
Ãw_roÙs
, 
i
);

275 
	`bšomŸl_Œ“_uÄef
(
ÿ¼y
);

284 
Ãw_ÿ¼y
 = 
NULL
;

289 
	`bšomŸl_Œ“_uÄef
(
ÿ¼y
);

293 
ÿ¼y
 = 
Ãw_ÿ¼y
;

295 
	`bšomŸl_Œ“_»f
(
ÿ¼y
);

301 
i
=0; i<
h—p
->
roÙs_Ëngth
; ++i) {

302 ià(
h—p
->
roÙs
[
i
] !ğ
NULL
) {

303 
	`bšomŸl_Œ“_uÄef
(
h—p
->
roÙs
[
i
]);

309 
	`ä“
(
h—p
->
roÙs
);

310 
h—p
->
roÙs
 = 
Ãw_roÙs
;

311 
h—p
->
roÙs_Ëngth
 = 
Ãw_roÙs_Ëngth
;

316 
	}
}

318 
BšomŸlH—p
 *
	$bšomŸl_h—p_Ãw
(
BšomŸlH—pTy³
 
h—p_ty³
,

319 
BšomŸlH—pCom·»Func
 
com·»_func
)

321 
BšomŸlH—p
 *
Ãw_h—p
;

325 
Ãw_h—p
 = 
	`ÿÎoc
(1, (
BšomŸlH—p
));

327 ià(
Ãw_h—p
 =ğ
NULL
) {

328  
NULL
;

333 
Ãw_h—p
->
h—p_ty³
 = heap_type;

334 
Ãw_h—p
->
com·»_func
 = compare_func;

336  
Ãw_h—p
;

337 
	}
}

339 
	$bšomŸl_h—p_ä“
(
BšomŸlH—p
 *
h—p
)

341 
i
;

346 
i
=0; i<
h—p
->
roÙs_Ëngth
; ++i) {

347 
	`bšomŸl_Œ“_uÄef
(
h—p
->
roÙs
[
i
]);

352 
	`ä“
(
h—p
->
roÙs
);

353 
	`ä“
(
h—p
);

354 
	}
}

356 
	$bšomŸl_h—p_š£¹
(
BšomŸlH—p
 *
h—p
, 
BšomŸlH—pV®ue
 
v®ue
)

358 
BšomŸlH—p
 
çke_h—p
;

359 
BšomŸlT»e
 *
Ãw_Œ“
;

360 
»suÉ
;

364 
Ãw_Œ“
 = 
	`m®loc
((
BšomŸlT»e
));

366 ià(
Ãw_Œ“
 =ğ
NULL
) {

374 
Ãw_Œ“
->
v®ue
 = value;

375 
Ãw_Œ“
->
Üd”
 = 0;

376 
Ãw_Œ“
->
»fcouÁ
 = 1;

377 
Ãw_Œ“
->
subŒ“s
 = 
NULL
;

381 
çke_h—p
.
h—p_ty³
 = 
h—p
->heap_type;

382 
çke_h—p
.
com·»_func
 = 
h—p
->compare_func;

383 
çke_h—p
.
num_v®ues
 = 1;

384 
çke_h—p
.
roÙs
 = &
Ãw_Œ“
;

385 
çke_h—p
.
roÙs_Ëngth
 = 1;

389 
»suÉ
 = 
	`bšomŸl_h—p_m”ge
(
h—p
, &
çke_h—p
);

391 ià(
»suÉ
 != 0) {

392 ++
h—p
->
num_v®ues
;

397 
	`bšomŸl_Œ“_uÄef
(
Ãw_Œ“
);

399  
»suÉ
;

400 
	}
}

402 
BšomŸlH—pV®ue
 
	$bšomŸl_h—p_pİ
(
BšomŸlH—p
 *
h—p
)

404 
BšomŸlT»e
 *
Ëa¡_Œ“
;

405 
BšomŸlH—p
 
çke_h—p
;

406 
BšomŸlH—pV®ue
 
»suÉ
;

407 
i
;

408 
Ëa¡_šdex
;

410 ià(
h—p
->
num_v®ues
 == 0) {

411  
BINOMIAL_HEAP_NULL
;

416 
Ëa¡_šdex
 = 
UINT_MAX
;

418 
i
=0; i<
h—p
->
roÙs_Ëngth
; ++i) {

420 ià(
h—p
->
roÙs
[
i
] =ğ
NULL
) {

424 ià(
Ëa¡_šdex
 =ğ
UINT_MAX


425 || 
	`bšomŸl_h—p_cmp
(
h—p
,

426 
h—p
->
roÙs
[
i
]->
v®ue
,

427 
h—p
->
roÙs
[
Ëa¡_šdex
]->
v®ue
) < 0) {

428 
Ëa¡_šdex
 = 
i
;

434 
Ëa¡_Œ“
 = 
h—p
->
roÙs
[
Ëa¡_šdex
];

435 
h—p
->
roÙs
[
Ëa¡_šdex
] = 
NULL
;

439 
çke_h—p
.
h—p_ty³
 = 
h—p
->heap_type;

440 
çke_h—p
.
com·»_func
 = 
h—p
->compare_func;

441 
çke_h—p
.
roÙs
 = 
Ëa¡_Œ“
->
subŒ“s
;

442 
çke_h—p
.
roÙs_Ëngth
 = 
Ëa¡_Œ“
->
Üd”
;

446 ià(
	`bšomŸl_h—p_m”ge
(
h—p
, &
çke_h—p
)) {

452 
»suÉ
 = 
Ëa¡_Œ“
->
v®ue
;

453 
	`bšomŸl_Œ“_uÄef
(
Ëa¡_Œ“
);

457 --
h—p
->
num_v®ues
;

459  
»suÉ
;

465 
h—p
->
roÙs
[
Ëa¡_šdex
] = 
Ëa¡_Œ“
;

469  
BINOMIAL_HEAP_NULL
;

471 
	}
}

473 
	$bšomŸl_h—p_num_’Œ›s
(
BšomŸlH—p
 *
h—p
)

475  
h—p
->
num_v®ues
;

476 
	}
}

	@src/binomial-heap.h

38 #iâdeà
ALGORITHM_BINOMIAL_HEAP_H


39 
	#ALGORITHM_BINOMIAL_HEAP_H


	)

41 #ifdeà
__ılu¥lus


56 
BINOMIAL_HEAP_TYPE_MIN
,

60 
BINOMIAL_HEAP_TYPE_MAX


61 } 
	tBšomŸlH—pTy³
;

67 *
	tBšomŸlH—pV®ue
;

73 
	#BINOMIAL_HEAP_NULL
 ((*è0)

	)

85 (*
BšomŸlH—pCom·»Func
)(
	tBšomŸlH—pV®ue
 
	tv®ue1
,

86 
	tBšomŸlH—pV®ue
 
	tv®ue2
);

92 
_BšomŸlH—p
 
	tBšomŸlH—p
;

104 
BšomŸlH—p
 *
bšomŸl_h—p_Ãw
(
BšomŸlH—pTy³
 
h—p_ty³
,

105 
BšomŸlH—pCom·»Func
 
com·»_func
);

113 
bšomŸl_h—p_ä“
(
BšomŸlH—p
 *
h—p
);

125 
bšomŸl_h—p_š£¹
(
BšomŸlH—p
 *
h—p
, 
BšomŸlH—pV®ue
 
v®ue
);

135 
BšomŸlH—pV®ue
 
bšomŸl_h—p_pİ
(
BšomŸlH—p
 *
h—p
);

144 
bšomŸl_h—p_num_’Œ›s
(
BšomŸlH—p
 *
h—p
);

146 #ifdeà
__ılu¥lus


	@src/bloom-filter.c

21 
	~<¡dlib.h
>

22 
	~<¡ršg.h
>

24 
	~"bloom-f‹r.h
"

28 #ifdeà
ALLOC_TESTING


29 
	~"®loc-‹¡šg.h
"

32 
	s_BloomF‹r
 {

33 
BloomF‹rHashFunc
 
	mhash_func
;

34 *
	mbË
;

35 
	mbË_size
;

36 
	mnum_funùiÚs
;

52 cÚ¡ 
	g§És
[] = {

71 
BloomF‹r
 *
	$bloom_f‹r_Ãw
(
bË_size
,

72 
BloomF‹rHashFunc
 
hash_func
,

73 
num_funùiÚs
)

75 
BloomF‹r
 *
f‹r
;

80 ià(
num_funùiÚs
 > (
§És
) / (*salts)) {

81  
NULL
;

86 
f‹r
 = 
	`m®loc
((
BloomF‹r
));

88 ià(
f‹r
 =ğ
NULL
) {

89  
NULL
;

96 
f‹r
->
bË
 = 
	`ÿÎoc
((
bË_size
 + 7) / 8, 1);

98 ià(
f‹r
->
bË
 =ğ
NULL
) {

99 
	`ä“
(
f‹r
);

100  
NULL
;

103 
f‹r
->
hash_func
 = hash_func;

104 
f‹r
->
num_funùiÚs
 =‚um_functions;

105 
f‹r
->
bË_size
 =able_size;

107  
f‹r
;

108 
	}
}

110 
	$bloom_f‹r_ä“
(
BloomF‹r
 *
bloomf‹r
)

112 
	`ä“
(
bloomf‹r
->
bË
);

113 
	`ä“
(
bloomf‹r
);

114 
	}
}

116 
	$bloom_f‹r_š£¹
(
BloomF‹r
 *
bloomf‹r
, 
BloomF‹rV®ue
 
v®ue
)

118 
hash
;

119 
subhash
;

120 
šdex
;

121 
i
;

122 
b
;

126 
hash
 = 
bloomf‹r
->
	`hash_func
(
v®ue
);

131 
i
=0; i<
bloomf‹r
->
num_funùiÚs
; ++i) {

135 
subhash
 = 
hash
 ^ 
§És
[
i
];

139 
šdex
 = 
subhash
 % 
bloomf‹r
->
bË_size
;

145 
b
 = (è(1 << (
šdex
 % 8));

146 
bloomf‹r
->
bË
[
šdex
 / 8] |ğ
b
;

148 
	}
}

150 
	$bloom_f‹r_qu”y
(
BloomF‹r
 *
bloomf‹r
, 
BloomF‹rV®ue
 
v®ue
)

152 
hash
;

153 
subhash
;

154 
šdex
;

155 
i
;

156 
b
;

157 
b™
;

161 
hash
 = 
bloomf‹r
->
	`hash_func
(
v®ue
);

166 
i
=0; i<
bloomf‹r
->
num_funùiÚs
; ++i) {

170 
subhash
 = 
hash
 ^ 
§És
[
i
];

174 
šdex
 = 
subhash
 % 
bloomf‹r
->
bË_size
;

178 
b
 = 
bloomf‹r
->
bË
[
šdex
 / 8];

179 
b™
 = 1 << (
šdex
 % 8);

184 ià((
b
 & 
b™
) == 0) {

194 
	}
}

196 
	$bloom_f‹r_»ad
(
BloomF‹r
 *
bloomf‹r
, *
¬¿y
)

198 
¬¿y_size
;

203 
¬¿y_size
 = (
bloomf‹r
->
bË_size
 + 7) / 8;

207 
	`memıy
(
¬¿y
, 
bloomf‹r
->
bË
, 
¬¿y_size
);

208 
	}
}

210 
	$bloom_f‹r_lßd
(
BloomF‹r
 *
bloomf‹r
, *
¬¿y
)

212 
¬¿y_size
;

217 
¬¿y_size
 = (
bloomf‹r
->
bË_size
 + 7) / 8;

221 
	`memıy
(
bloomf‹r
->
bË
, 
¬¿y
, 
¬¿y_size
);

222 
	}
}

224 
BloomF‹r
 *
	$bloom_f‹r_uniÚ
(
BloomF‹r
 *
f‹r1
, BloomF‹¸*
f‹r2
)

226 
BloomF‹r
 *
»suÉ
;

227 
i
;

228 
¬¿y_size
;

233 ià(
f‹r1
->
bË_size
 !ğ
f‹r2
->table_size

234 || 
f‹r1
->
num_funùiÚs
 !ğ
f‹r2
->num_functions

235 || 
f‹r1
->
hash_func
 !ğ
f‹r2
->hash_func) {

236  
NULL
;

241 
»suÉ
 = 
	`bloom_f‹r_Ãw
(
f‹r1
->
bË_size
,

242 
f‹r1
->
hash_func
,

243 
f‹r1
->
num_funùiÚs
);

245 ià(
»suÉ
 =ğ
NULL
) {

246  
NULL
;

252 
¬¿y_size
 = (
f‹r1
->
bË_size
 + 7) / 8;

256 
i
=0; i<
¬¿y_size
; ++i) {

257 
»suÉ
->
bË
[
i
] = 
f‹r1
->bË[i] | 
f‹r2
->table[i];

260  
»suÉ
;

261 
	}
}

263 
BloomF‹r
 *
	$bloom_f‹r_š‹r£ùiÚ
(
BloomF‹r
 *
f‹r1
,

264 
BloomF‹r
 *
f‹r2
)

266 
BloomF‹r
 *
»suÉ
;

267 
i
;

268 
¬¿y_size
;

273 ià(
f‹r1
->
bË_size
 !ğ
f‹r2
->table_size

274 || 
f‹r1
->
num_funùiÚs
 !ğ
f‹r2
->num_functions

275 || 
f‹r1
->
hash_func
 !ğ
f‹r2
->hash_func) {

276  
NULL
;

281 
»suÉ
 = 
	`bloom_f‹r_Ãw
(
f‹r1
->
bË_size
,

282 
f‹r1
->
hash_func
,

283 
f‹r1
->
num_funùiÚs
);

285 ià(
»suÉ
 =ğ
NULL
) {

286  
NULL
;

292 
¬¿y_size
 = (
f‹r1
->
bË_size
 + 7) / 8;

296 
i
=0; i<
¬¿y_size
; ++i) {

297 
»suÉ
->
bË
[
i
] = 
f‹r1
->bË[i] & 
f‹r2
->table[i];

300  
»suÉ
;

301 
	}
}

	@src/bloom-filter.h

40 #iâdeà
ALGORITHM_BLOOM_FILTER_H


41 
	#ALGORITHM_BLOOM_FILTER_H


	)

43 #ifdeà
__ılu¥lus


51 
_BloomF‹r
 
	tBloomF‹r
;

57 *
	tBloomF‹rV®ue
;

67 (*
	tBloomF‹rHashFunc
)(
	tBloomF‹rV®ue
 
	td©a
);

89 
BloomF‹r
 *
bloom_f‹r_Ãw
(
bË_size
,

90 
BloomF‹rHashFunc
 
hash_func
,

91 
num_funùiÚs
);

99 
bloom_f‹r_ä“
(
BloomF‹r
 *
bloomf‹r
);

108 
bloom_f‹r_š£¹
(
BloomF‹r
 *
bloomf‹r
, 
BloomF‹rV®ue
 
v®ue
);

121 
bloom_f‹r_qu”y
(
BloomF‹r
 *
bloomf‹r
, 
BloomF‹rV®ue
 
v®ue
);

132 
bloom_f‹r_»ad
(
BloomF‹r
 *
bloomf‹r
, *
¬¿y
);

146 
bloom_f‹r_lßd
(
BloomF‹r
 *
bloomf‹r
, *
¬¿y
);

165 
BloomF‹r
 *
bloom_f‹r_uniÚ
(BloomF‹¸*
f‹r1
,

166 
BloomF‹r
 *
f‹r2
);

185 
BloomF‹r
 *
bloom_f‹r_š‹r£ùiÚ
(BloomF‹¸*
f‹r1
,

186 
BloomF‹r
 *
f‹r2
);

188 #ifdeà
__ılu¥lus


	@src/compare-int.c

21 
	~"com·»-št.h
"

25 
	$št_equ®
(*
vloÿtiÚ1
, *
vloÿtiÚ2
)

27 *
loÿtiÚ1
;

28 *
loÿtiÚ2
;

30 
loÿtiÚ1
 = (*è
vloÿtiÚ1
;

31 
loÿtiÚ2
 = (*è
vloÿtiÚ2
;

33  *
loÿtiÚ1
 =ğ*
loÿtiÚ2
;

34 
	}
}

36 
	$št_com·»
(*
vloÿtiÚ1
, *
vloÿtiÚ2
)

38 *
loÿtiÚ1
;

39 *
loÿtiÚ2
;

41 
loÿtiÚ1
 = (*è
vloÿtiÚ1
;

42 
loÿtiÚ2
 = (*è
vloÿtiÚ2
;

44 ià(*
loÿtiÚ1
 < *
loÿtiÚ2
) {

46 } ià(*
loÿtiÚ1
 > *
loÿtiÚ2
) {

51 
	}
}

	@src/compare-int.h

32 #iâdeà
ALGORITHM_COMPARE_INT_H


33 
	#ALGORITHM_COMPARE_INT_H


	)

35 #ifdeà
__ılu¥lus


49 
št_equ®
(*
loÿtiÚ1
, *
loÿtiÚ2
);

62 
št_com·»
(*
loÿtiÚ1
, *
loÿtiÚ2
);

64 #ifdeà
__ılu¥lus


	@src/compare-pointer.c

21 
	~"com·»-poš‹r.h
"

25 
	$poš‹r_equ®
(*
loÿtiÚ1
, *
loÿtiÚ2
)

27  
loÿtiÚ1
 =ğ
loÿtiÚ2
;

28 
	}
}

30 
	$poš‹r_com·»
(*
loÿtiÚ1
, *
loÿtiÚ2
)

32 ià(
loÿtiÚ1
 < 
loÿtiÚ2
) {

34 } ià(
loÿtiÚ1
 > 
loÿtiÚ2
) {

39 
	}
}

	@src/compare-pointer.h

31 #iâdeà
ALGORITHM_COMPARE_POINTER_H


32 
	#ALGORITHM_COMPARE_POINTER_H


	)

34 #ifdeà
__ılu¥lus


47 
poš‹r_equ®
(*
loÿtiÚ1
, *
loÿtiÚ2
);

60 
poš‹r_com·»
(*
loÿtiÚ1
, *
loÿtiÚ2
);

62 #ifdeà
__ılu¥lus


	@src/compare-string.c

21 
	~<ùy³.h
>

22 
	~<¡dlib.h
>

23 
	~<¡ršg.h
>

25 
	~"com·»-¡ršg.h
"

29 
	$¡ršg_equ®
(*
¡ršg1
, *
¡ršg2
)

31  
	`¡rcmp
((*è
¡ršg1
, (*è
¡ršg2
) == 0;

32 
	}
}

34 
	$¡ršg_com·»
(*
¡ršg1
, *
¡ršg2
)

36 
»suÉ
;

38 
»suÉ
 = 
	`¡rcmp
((*è
¡ršg1
, (*è
¡ršg2
);

40 ià(
»suÉ
 < 0) {

42 } ià(
»suÉ
 > 0) {

47 
	}
}

51 
	$¡ršg_noÿ£_equ®
(*
¡ršg1
, *
¡ršg2
)

53  
	`¡ršg_noÿ£_com·»
((*è
¡ršg1
, (*è
¡ršg2
) == 0;

54 
	}
}

60 
	$¡ršg_noÿ£_com·»
(*
¡ršg1
, *
¡ršg2
)

62 *
p1
;

63 *
p2
;

64 
c1
, 
c2
;

68 
p1
 = (*è
¡ršg1
;

69 
p2
 = (*è
¡ršg2
;

73 
c1
 = 
	`tŞow”
(*
p1
);

74 
c2
 = 
	`tŞow”
(*
p2
);

76 ià(
c1
 !ğ
c2
) {

80 ià(
c1
 < 
c2
) {

89 ià(
c1
 == '\0')

94 ++
p1
;

95 ++
p2
;

101 
	}
}

	@src/compare-string.h

34 #iâdeà
ALGORITHM_COMPARE_STRING_H


35 
	#ALGORITHM_COMPARE_STRING_H


	)

37 #ifdeà
__ılu¥lus


50 
¡ršg_equ®
(*
¡ršg1
, *
¡ršg2
);

63 
¡ršg_com·»
(*
¡ršg1
, *
¡ršg2
);

75 
¡ršg_noÿ£_equ®
(*
¡ršg1
, *
¡ršg2
);

88 
¡ršg_noÿ£_com·»
(*
¡ršg1
, *
¡ršg2
);

90 #ifdeà
__ılu¥lus


	@src/hash-int.c

21 
	~"hash-št.h
"

25 
	$št_hash
(*
vloÿtiÚ
)

27 *
loÿtiÚ
;

29 
loÿtiÚ
 = (*è
vloÿtiÚ
;

31  (è*
loÿtiÚ
;

32 
	}
}

	@src/hash-int.h

27 #iâdeà
ALGORITHM_HASH_INT_H


28 
	#ALGORITHM_HASH_INT_H


	)

30 #ifdeà
__ılu¥lus


42 
št_hash
(*
loÿtiÚ
);

44 #ifdeà
__ılu¥lus


	@src/hash-pointer.c

21 
	~<lim™s.h
>

23 
	~"hash-poš‹r.h
"

27 
	$poš‹r_hash
(*
loÿtiÚ
)

29  (è(è
loÿtiÚ
;

30 
	}
}

	@src/hash-pointer.h

27 #iâdeà
ALGORITHM_HASH_POINTER_H


28 
	#ALGORITHM_HASH_POINTER_H


	)

30 #ifdeà
__ılu¥lus


42 
poš‹r_hash
(*
loÿtiÚ
);

44 #ifdeà
__ılu¥lus


	@src/hash-string.c

21 
	~<ùy³.h
>

23 
	~"hash-¡ršg.h
"

27 
	$¡ršg_hash
(*
¡ršg
)

31 
»suÉ
 = 5381;

32 *
p
;

34 
p
 = (*è
¡ršg
;

36 *
p
 != '\0') {

37 
»suÉ
 = (»suÉ << 5è+„esuÉ + *
p
;

38 ++
p
;

41  
»suÉ
;

42 
	}
}

47 
	$¡ršg_noÿ£_hash
(*
¡ršg
)

49 
»suÉ
 = 5381;

50 *
p
;

52 
p
 = (*è
¡ršg
;

54 *
p
 != '\0') {

55 
»suÉ
 = (»suÉ << 5è+„esuÉ + (è
	`tŞow”
(*
p
);

56 ++
p
;

59  
»suÉ
;

60 
	}
}

	@src/hash-string.h

28 #iâdeà
ALGORITHM_HASH_STRING_H


29 
	#ALGORITHM_HASH_STRING_H


	)

31 #ifdeà
__ılu¥lus


42 
¡ršg_hash
(*
¡ršg
);

51 
¡ršg_noÿ£_hash
(*
¡ršg
);

53 #ifdeà
__ılu¥lus


	@src/hash-table.c

23 
	~<¡dlib.h
>

24 
	~<¡ršg.h
>

26 
	~"hash-bË.h
"

30 #ifdeà
ALLOC_TESTING


31 
	~"®loc-‹¡šg.h
"

34 
	s_HashTabËEÁry
 {

35 
HashTabËKey
 
	mkey
;

36 
HashTabËV®ue
 
	mv®ue
;

37 
HashTabËEÁry
 *
	mÃxt
;

40 
	s_HashTabË
 {

41 
HashTabËEÁry
 **
	mbË
;

42 
	mbË_size
;

43 
HashTabËHashFunc
 
	mhash_func
;

44 
HashTabËEqu®Func
 
	mequ®_func
;

45 
HashTabËKeyF»eFunc
 
	mkey_ä“_func
;

46 
HashTabËV®ueF»eFunc
 
	mv®ue_ä“_func
;

47 
	m’Œ›s
;

48 
	m´ime_šdex
;

56 cÚ¡ 
	ghash_bË_´imes
[] = {

63 cÚ¡ 
	ghash_bË_num_´imes


64 ğ(
hash_bË_´imes
) / ();

69 
	$hash_bË_®loÿ‹_bË
(
HashTabË
 *
hash_bË
)

71 
Ãw_bË_size
;

78 ià(
hash_bË
->
´ime_šdex
 < 
hash_bË_num_´imes
) {

79 
Ãw_bË_size
 = 
hash_bË_´imes
[
hash_bË
->
´ime_šdex
];

81 
Ãw_bË_size
 = 
hash_bË
->
’Œ›s
 * 10;

84 
hash_bË
->
bË_size
 = 
Ãw_bË_size
;

88 
hash_bË
->
bË
 = 
	`ÿÎoc
(hash_bË->
bË_size
,

89 (
HashTabËEÁry
 *));

91  
hash_bË
->
bË
 !ğ
NULL
;

92 
	}
}

96 
	$hash_bË_ä“_’Œy
(
HashTabË
 *
hash_bË
, 
HashTabËEÁry
 *
’Œy
)

101 ià(
hash_bË
->
key_ä“_func
 !ğ
NULL
) {

102 
hash_bË
->
	`key_ä“_func
(
’Œy
->
key
);

107 ià(
hash_bË
->
v®ue_ä“_func
 !ğ
NULL
) {

108 
hash_bË
->
	`v®ue_ä“_func
(
’Œy
->
v®ue
);

113 
	`ä“
(
’Œy
);

114 
	}
}

116 
HashTabË
 *
	$hash_bË_Ãw
(
HashTabËHashFunc
 
hash_func
,

117 
HashTabËEqu®Func
 
equ®_func
)

119 
HashTabË
 *
hash_bË
;

123 
hash_bË
 = (
HashTabË
 *è
	`m®loc
((HashTable));

125 ià(
hash_bË
 =ğ
NULL
) {

126  
NULL
;

129 
hash_bË
->
hash_func
 = hash_func;

130 
hash_bË
->
equ®_func
 =ƒqual_func;

131 
hash_bË
->
key_ä“_func
 = 
NULL
;

132 
hash_bË
->
v®ue_ä“_func
 = 
NULL
;

133 
hash_bË
->
’Œ›s
 = 0;

134 
hash_bË
->
´ime_šdex
 = 0;

138 ià(!
	`hash_bË_®loÿ‹_bË
(
hash_bË
)) {

139 
	`ä“
(
hash_bË
);

141  
NULL
;

144  
hash_bË
;

145 
	}
}

147 
	$hash_bË_ä“
(
HashTabË
 *
hash_bË
)

149 
HashTabËEÁry
 *
rov”
;

150 
HashTabËEÁry
 *
Ãxt
;

151 
i
;

155 
i
=0; i<
hash_bË
->
bË_size
; ++i) {

156 
rov”
 = 
hash_bË
->
bË
[
i
];

157 
rov”
 !ğ
NULL
) {

158 
Ãxt
 = 
rov”
->next;

159 
	`hash_bË_ä“_’Œy
(
hash_bË
, 
rov”
);

160 
rov”
 = 
Ãxt
;

166 
	`ä“
(
hash_bË
->
bË
);

170 
	`ä“
(
hash_bË
);

171 
	}
}

173 
	$hash_bË_»gi¡”_ä“_funùiÚs
(
HashTabË
 *
hash_bË
,

174 
HashTabËKeyF»eFunc
 
key_ä“_func
,

175 
HashTabËV®ueF»eFunc
 
v®ue_ä“_func
)

177 
hash_bË
->
key_ä“_func
 = key_free_func;

178 
hash_bË
->
v®ue_ä“_func
 = value_free_func;

179 
	}
}

182 
	$hash_bË_’Ïrge
(
HashTabË
 *
hash_bË
)

184 
HashTabËEÁry
 **
Şd_bË
;

185 
Şd_bË_size
;

186 
Şd_´ime_šdex
;

187 
HashTabËEÁry
 *
rov”
;

188 
HashTabËEÁry
 *
Ãxt
;

189 
šdex
;

190 
i
;

194 
Şd_bË
 = 
hash_bË
->
bË
;

195 
Şd_bË_size
 = 
hash_bË
->
bË_size
;

196 
Şd_´ime_šdex
 = 
hash_bË
->
´ime_šdex
;

200 ++
hash_bË
->
´ime_šdex
;

202 ià(!
	`hash_bË_®loÿ‹_bË
(
hash_bË
)) {

206 
hash_bË
->
bË
 = 
Şd_bË
;

207 
hash_bË
->
bË_size
 = 
Şd_bË_size
;

208 
hash_bË
->
´ime_šdex
 = 
Şd_´ime_šdex
;

215 
i
=0; i<
Şd_bË_size
; ++i) {

216 
rov”
 = 
Şd_bË
[
i
];

218 
rov”
 !ğ
NULL
) {

219 
Ãxt
 = 
rov”
->next;

223 
šdex
 = 
hash_bË
->
	`hash_func
(
rov”
->
key
è% hash_bË->
bË_size
;

227 
rov”
->
Ãxt
 = 
hash_bË
->
bË
[
šdex
];

228 
hash_bË
->
bË
[
šdex
] = 
rov”
;

232 
rov”
 = 
Ãxt
;

238 
	`ä“
(
Şd_bË
);

241 
	}
}

243 
	$hash_bË_š£¹
(
HashTabË
 *
hash_bË
, 
HashTabËKey
 
key
, 
HashTabËV®ue
 
v®ue
)

245 
HashTabËEÁry
 *
rov”
;

246 
HashTabËEÁry
 *
Ãw’Œy
;

247 
šdex
;

253 ià((
hash_bË
->
’Œ›s
 * 3è/ hash_bË->
bË_size
 > 0) {

257 ià(!
	`hash_bË_’Ïrge
(
hash_bË
)) {

267 
šdex
 = 
hash_bË
->
	`hash_func
(
key
è% hash_bË->
bË_size
;

272 
rov”
 = 
hash_bË
->
bË
[
šdex
];

274 
rov”
 !ğ
NULL
) {

275 ià(
hash_bË
->
	`equ®_func
(
rov”
->
key
, key) != 0) {

282 ià(
hash_bË
->
v®ue_ä“_func
 !ğ
NULL
) {

283 
hash_bË
->
	`v®ue_ä“_func
(
rov”
->
v®ue
);

289 ià(
hash_bË
->
key_ä“_func
 !ğ
NULL
) {

290 
hash_bË
->
	`key_ä“_func
(
rov”
->
key
);

293 
rov”
->
key
 = key;

294 
rov”
->
v®ue
 = value;

300 
rov”
 =„ov”->
Ãxt
;

305 
Ãw’Œy
 = (
HashTabËEÁry
 *è
	`m®loc
((HashTableEntry));

307 ià(
Ãw’Œy
 =ğ
NULL
) {

311 
Ãw’Œy
->
key
 = key;

312 
Ãw’Œy
->
v®ue
 = value;

316 
Ãw’Œy
->
Ãxt
 = 
hash_bË
->
bË
[
šdex
];

317 
hash_bË
->
bË
[
šdex
] = 
Ãw’Œy
;

321 ++
hash_bË
->
’Œ›s
;

326 
	}
}

328 
HashTabËV®ue
 
	$hash_bË_lookup
(
HashTabË
 *
hash_bË
, 
HashTabËKey
 
key
)

330 
HashTabËEÁry
 *
rov”
;

331 
šdex
;

335 
šdex
 = 
hash_bË
->
	`hash_func
(
key
è% hash_bË->
bË_size
;

340 
rov”
 = 
hash_bË
->
bË
[
šdex
];

342 
rov”
 !ğ
NULL
) {

343 ià(
hash_bË
->
	`equ®_func
(
key
, 
rov”
->key) != 0) {

347  
rov”
->
v®ue
;

349 
rov”
 =„ov”->
Ãxt
;

354  
HASH_TABLE_NULL
;

355 
	}
}

357 
	$hash_bË_»move
(
HashTabË
 *
hash_bË
, 
HashTabËKey
 
key
)

359 
HashTabËEÁry
 **
rov”
;

360 
HashTabËEÁry
 *
’Œy
;

361 
šdex
;

362 
»suÉ
;

366 
šdex
 = 
hash_bË
->
	`hash_func
(
key
è% hash_bË->
bË_size
;

373 
»suÉ
 = 0;

374 
rov”
 = &
hash_bË
->
bË
[
šdex
];

376 *
rov”
 !ğ
NULL
) {

378 ià(
hash_bË
->
	`equ®_func
(
key
, (*
rov”
)->key) != 0) {

382 
’Œy
 = *
rov”
;

386 *
rov”
 = 
’Œy
->
Ãxt
;

390 
	`hash_bË_ä“_’Œy
(
hash_bË
, 
’Œy
);

394 --
hash_bË
->
’Œ›s
;

396 
»suÉ
 = 1;

403 
rov”
 = &((*rov”)->
Ãxt
);

406  
»suÉ
;

407 
	}
}

409 
	$hash_bË_num_’Œ›s
(
HashTabË
 *
hash_bË
)

411  
hash_bË
->
’Œ›s
;

412 
	}
}

414 
	$hash_bË_™”©e
(
HashTabË
 *
hash_bË
, 
HashTabËI‹¿tÜ
 *
™”©Ü
)

416 
chaš
;

418 
™”©Ü
->
hash_bË
 = hash_table;

422 
™”©Ü
->
Ãxt_’Œy
 = 
NULL
;

426 
chaš
=0; chaš<
hash_bË
->
bË_size
; ++chain) {

428 ià(
hash_bË
->
bË
[
chaš
] !ğ
NULL
) {

429 
™”©Ü
->
Ãxt_’Œy
 = 
hash_bË
->
bË
[
chaš
];

430 
™”©Ü
->
Ãxt_chaš
 = 
chaš
;

434 
	}
}

436 
	$hash_bË_™”_has_mÜe
(
HashTabËI‹¿tÜ
 *
™”©Ü
)

438  
™”©Ü
->
Ãxt_’Œy
 !ğ
NULL
;

439 
	}
}

441 
HashTabËV®ue
 
	$hash_bË_™”_Ãxt
(
HashTabËI‹¿tÜ
 *
™”©Ü
)

443 
HashTabËEÁry
 *
cu¼’t_’Œy
;

444 
HashTabË
 *
hash_bË
;

445 
HashTabËV®ue
 
»suÉ
;

446 
chaš
;

448 
hash_bË
 = 
™”©Ü
->hash_table;

452 ià(
™”©Ü
->
Ãxt_’Œy
 =ğ
NULL
) {

453  
HASH_TABLE_NULL
;

458 
cu¼’t_’Œy
 = 
™”©Ü
->
Ãxt_’Œy
;

459 
»suÉ
 = 
cu¼’t_’Œy
->
v®ue
;

463 ià(
cu¼’t_’Œy
->
Ãxt
 !ğ
NULL
) {

467 
™”©Ü
->
Ãxt_’Œy
 = 
cu¼’t_’Œy
->
Ãxt
;

473 
chaš
 = 
™”©Ü
->
Ãxt_chaš
 + 1;

477 
™”©Ü
->
Ãxt_’Œy
 = 
NULL
;

479 
chaš
 < 
hash_bË
->
bË_size
) {

483 ià(
hash_bË
->
bË
[
chaš
] !ğ
NULL
) {

484 
™”©Ü
->
Ãxt_’Œy
 = 
hash_bË
->
bË
[
chaš
];

490 ++
chaš
;

493 
™”©Ü
->
Ãxt_chaš
 = 
chaš
;

496  
»suÉ
;

497 
	}
}

	@src/hash-table.h

45 #iâdeà
ALGORITHM_HASH_TABLE_H


46 
	#ALGORITHM_HASH_TABLE_H


	)

48 #ifdeà
__ılu¥lus


56 
_HashTabË
 
	tHashTabË
;

62 
_HashTabËI‹¿tÜ
 
	tHashTabËI‹¿tÜ
;

68 
_HashTabËEÁry
 
	tHashTabËEÁry
;

74 *
	tHashTabËKey
;

80 *
	tHashTabËV®ue
;

86 
	s_HashTabËI‹¿tÜ
 {

87 
HashTabË
 *
hash_bË
;

88 
HashTabËEÁry
 *
Ãxt_’Œy
;

89 
Ãxt_chaš
;

96 
	#HASH_TABLE_NULL
 ((*è0)

	)

106 (*
	tHashTabËHashFunc
)(
	tHashTabËKey
 
	tv®ue
);

115 (*
HashTabËEqu®Func
)(
	tHashTabËKey
 
	tv®ue1
, HashTabËKey 
	tv®ue2
);

122 (*
HashTabËKeyF»eFunc
)(
	tHashTabËKey
 
	tv®ue
);

129 (*
HashTabËV®ueF»eFunc
)(
	tHashTabËV®ue
 
	tv®ue
);

143 
HashTabË
 *
hash_bË_Ãw
(
HashTabËHashFunc
 
hash_func
,

144 
HashTabËEqu®Func
 
equ®_func
);

152 
hash_bË_ä“
(
HashTabË
 *
hash_bË
);

163 
hash_bË_»gi¡”_ä“_funùiÚs
(
HashTabË
 *
hash_bË
,

164 
HashTabËKeyF»eFunc
 
key_ä“_func
,

165 
HashTabËV®ueF»eFunc
 
v®ue_ä“_func
);

179 
hash_bË_š£¹
(
HashTabË
 *
hash_bË
,

180 
HashTabËKey
 
key
,

181 
HashTabËV®ue
 
v®ue
);

192 
HashTabËV®ue
 
hash_bË_lookup
(
HashTabË
 *
hash_bË
,

193 
HashTabËKey
 
key
);

204 
hash_bË_»move
(
HashTabË
 *
hash_bË
, 
HashTabËKey
 
key
);

213 
hash_bË_num_’Œ›s
(
HashTabË
 *
hash_bË
);

223 
hash_bË_™”©e
(
HashTabË
 *
hash_bË
, 
HashTabËI‹¿tÜ
 *
™”
);

235 
hash_bË_™”_has_mÜe
(
HashTabËI‹¿tÜ
 *
™”©Ü
);

246 
HashTabËV®ue
 
hash_bË_™”_Ãxt
(
HashTabËI‹¿tÜ
 *
™”©Ü
);

248 #ifdeà
__ılu¥lus


	@src/libcalg.h

21 #iâdeà
LIBCALG_H


22 
	#LIBCALG_H


	)

24 
	~<libÿlg/com·»-št.h
>

25 
	~<libÿlg/com·»-poš‹r.h
>

26 
	~<libÿlg/com·»-¡ršg.h
>

28 
	~<libÿlg/hash-št.h
>

29 
	~<libÿlg/hash-poš‹r.h
>

30 
	~<libÿlg/hash-¡ršg.h
>

32 
	~<libÿlg/¬¿yli¡.h
>

33 
	~<libÿlg/avl-Œ“.h
>

34 
	~<libÿlg/bš¬y-h—p.h
>

35 
	~<libÿlg/bšomŸl-h—p.h
>

36 
	~<libÿlg/bloom-f‹r.h
>

37 
	~<libÿlg/hash-bË.h
>

38 
	~<libÿlg/li¡.h
>

39 
	~<libÿlg/queue.h
>

40 
	~<libÿlg/rb-Œ“.h
>

41 
	~<libÿlg/£t.h
>

42 
	~<libÿlg/¦i¡.h
>

43 
	~<libÿlg/Œ›.h
>

	@src/list.c

21 
	~<¡dlib.h
>

23 
	~"li¡.h
"

27 #ifdeà
ALLOC_TESTING


28 
	~"®loc-‹¡šg.h
"

33 
	s_Li¡EÁry
 {

34 
Li¡V®ue
 
	md©a
;

35 
Li¡EÁry
 *
	m´ev
;

36 
Li¡EÁry
 *
	mÃxt
;

39 
	$li¡_ä“
(
Li¡EÁry
 *
li¡
)

41 
Li¡EÁry
 *
’Œy
;

46 
’Œy
 = 
li¡
;

48 
’Œy
 !ğ
NULL
) {

49 
Li¡EÁry
 *
Ãxt
;

51 
Ãxt
 = 
’Œy
->next;

53 
	`ä“
(
’Œy
);

55 
’Œy
 = 
Ãxt
;

57 
	}
}

59 
Li¡EÁry
 *
	$li¡_´•’d
(
Li¡EÁry
 **
li¡
, 
Li¡V®ue
 
d©a
)

61 
Li¡EÁry
 *
Ãw’Œy
;

65 
Ãw’Œy
 = 
	`m®loc
((
Li¡EÁry
));

67 ià(
Ãw’Œy
 =ğ
NULL
) {

68  
NULL
;

71 
Ãw’Œy
->
d©a
 = data;

75 ià(*
li¡
 !ğ
NULL
) {

76 (*
li¡
)->
´ev
 = 
Ãw’Œy
;

78 
Ãw’Œy
->
´ev
 = 
NULL
;

79 
Ãw’Œy
->
Ãxt
 = *
li¡
;

80 *
li¡
 = 
Ãw’Œy
;

82  
Ãw’Œy
;

83 
	}
}

85 
Li¡EÁry
 *
	$li¡_­³nd
(
Li¡EÁry
 **
li¡
, 
Li¡V®ue
 
d©a
)

87 
Li¡EÁry
 *
rov”
;

88 
Li¡EÁry
 *
Ãw’Œy
;

92 
Ãw’Œy
 = 
	`m®loc
((
Li¡EÁry
));

94 ià(
Ãw’Œy
 =ğ
NULL
) {

95  
NULL
;

98 
Ãw’Œy
->
d©a
 = data;

99 
Ãw’Œy
->
Ãxt
 = 
NULL
;

103 ià(*
li¡
 =ğ
NULL
) {

107 *
li¡
 = 
Ãw’Œy
;

108 
Ãw’Œy
->
´ev
 = 
NULL
;

114 
rov”
=*
li¡
;„ov”->
Ãxt
 !ğ
NULL
;„over =„over->next);

118 
Ãw’Œy
->
´ev
 = 
rov”
;

119 
rov”
->
Ãxt
 = 
Ãw’Œy
;

122  
Ãw’Œy
;

123 
	}
}

125 
Li¡V®ue
 
	$li¡_d©a
(
Li¡EÁry
 *
li¡’Œy
)

127  
li¡’Œy
->
d©a
;

128 
	}
}

130 
Li¡EÁry
 *
	$li¡_´ev
(
Li¡EÁry
 *
li¡’Œy
)

132  
li¡’Œy
->
´ev
;

133 
	}
}

135 
Li¡EÁry
 *
	$li¡_Ãxt
(
Li¡EÁry
 *
li¡’Œy
)

137  
li¡’Œy
->
Ãxt
;

138 
	}
}

140 
Li¡EÁry
 *
	$li¡_Áh_’Œy
(
Li¡EÁry
 *
li¡
, 
n
)

142 
Li¡EÁry
 *
’Œy
;

143 
i
;

147 ià(
n
 < 0) {

148  
NULL
;

154 
’Œy
 = 
li¡
;

156 
i
=0; i<
n
; ++i) {

158 ià(
’Œy
 =ğ
NULL
) {

159  
NULL
;

161 
’Œy
 =ƒÁry->
Ãxt
;

164  
’Œy
;

165 
	}
}

167 
Li¡V®ue
 
	$li¡_Áh_d©a
(
Li¡EÁry
 *
li¡
, 
n
)

169 
Li¡EÁry
 *
’Œy
;

173 
’Œy
 = 
	`li¡_Áh_’Œy
(
li¡
, 
n
);

177 ià(
’Œy
 =ğ
NULL
) {

178  
LIST_NULL
;

180  
’Œy
->
d©a
;

182 
	}
}

184 
	$li¡_Ëngth
(
Li¡EÁry
 *
li¡
)

186 
Li¡EÁry
 *
’Œy
;

187 
Ëngth
;

189 
Ëngth
 = 0;

190 
’Œy
 = 
li¡
;

192 
’Œy
 !ğ
NULL
) {

196 ++
Ëngth
;

198 
’Œy
 =ƒÁry->
Ãxt
;

201  
Ëngth
;

202 
	}
}

204 
Li¡V®ue
 *
	$li¡_to_¬¿y
(
Li¡EÁry
 *
li¡
)

206 
Li¡EÁry
 *
rov”
;

207 
Li¡V®ue
 *
¬¿y
;

208 
Ëngth
;

209 
i
;

213 
Ëngth
 = 
	`li¡_Ëngth
(
li¡
);

215 
¬¿y
 = 
	`m®loc
((
Li¡V®ue
è* 
Ëngth
);

217 ià(
¬¿y
 =ğ
NULL
) {

218  
NULL
;

223 
rov”
 = 
li¡
;

225 
i
=0; i<
Ëngth
; ++i) {

229 
¬¿y
[
i
] = 
rov”
->
d©a
;

233 
rov”
 =„ov”->
Ãxt
;

236  
¬¿y
;

237 
	}
}

239 
	$li¡_»move_’Œy
(
Li¡EÁry
 **
li¡
, Li¡EÁry *
’Œy
)

243 ià(*
li¡
 =ğ
NULL
 || 
’Œy
 == NULL) {

249 ià(
’Œy
->
´ev
 =ğ
NULL
) {

253 *
li¡
 = 
’Œy
->
Ãxt
;

258 ià(
’Œy
->
Ãxt
 !ğ
NULL
) {

259 
’Œy
->
Ãxt
->
´ev
 = 
NULL
;

268 
’Œy
->
´ev
->
Ãxt
 =ƒntry->next;

273 ià(
’Œy
->
Ãxt
 !ğ
NULL
) {

274 
’Œy
->
Ãxt
->
´ev
 =ƒntry->prev;

280 
	`ä“
(
’Œy
);

285 
	}
}

287 
	$li¡_»move_d©a
(
Li¡EÁry
 **
li¡
, 
Li¡Equ®Func
 
ÿÎback
,

288 
Li¡V®ue
 
d©a
)

290 
’Œ›s_»moved
;

291 
Li¡EÁry
 *
rov”
;

292 
Li¡EÁry
 *
Ãxt
;

294 
’Œ›s_»moved
 = 0;

298 
rov”
 = *
li¡
;

300 
rov”
 !ğ
NULL
) {

302 
Ãxt
 = 
rov”
->next;

304 ià(
	`ÿÎback
(
rov”
->
d©a
, data)) {

309 ià(
rov”
->
´ev
 =ğ
NULL
) {

313 *
li¡
 = 
rov”
->
Ãxt
;

319 
rov”
->
´ev
->
Ãxt
 =„over->next;

322 ià(
rov”
->
Ãxt
 !ğ
NULL
) {

323 
rov”
->
Ãxt
->
´ev
 =„over->prev;

328 
	`ä“
(
rov”
);

330 ++
’Œ›s_»moved
;

335 
rov”
 = 
Ãxt
;

338  
’Œ›s_»moved
;

339 
	}
}

344 
Li¡EÁry
 *
	$li¡_sÜt_š‹º®
(
Li¡EÁry
 **
li¡
,

345 
Li¡Com·»Func
 
com·»_func
)

347 
Li¡EÁry
 *
pivÙ
;

348 
Li¡EÁry
 *
rov”
;

349 
Li¡EÁry
 *
Ëss_li¡
, *
mÜe_li¡
;

350 
Li¡EÁry
 *
Ëss_li¡_’d
, *
mÜe_li¡_’d
;

355 ià(*
li¡
 =ğ
NULL
 || (*li¡)->
Ãxt
 == NULL) {

356  *
li¡
;

361 
pivÙ
 = *
li¡
;

367 
Ëss_li¡
 = 
NULL
;

368 
mÜe_li¡
 = 
NULL
;

369 
rov”
 = (*
li¡
)->
Ãxt
;

371 
rov”
 !ğ
NULL
) {

372 
Li¡EÁry
 *
Ãxt
 = 
rov”
->next;

374 ià(
	`com·»_func
(
rov”
->
d©a
, 
pivÙ
->data) < 0) {

378 
rov”
->
´ev
 = 
NULL
;

379 
rov”
->
Ãxt
 = 
Ëss_li¡
;

380 ià(
Ëss_li¡
 !ğ
NULL
) {

381 
Ëss_li¡
->
´ev
 = 
rov”
;

383 
Ëss_li¡
 = 
rov”
;

389 
rov”
->
´ev
 = 
NULL
;

390 
rov”
->
Ãxt
 = 
mÜe_li¡
;

391 ià(
mÜe_li¡
 !ğ
NULL
) {

392 
mÜe_li¡
->
´ev
 = 
rov”
;

394 
mÜe_li¡
 = 
rov”
;

397 
rov”
 = 
Ãxt
;

402 
Ëss_li¡_’d
 = 
	`li¡_sÜt_š‹º®
(&
Ëss_li¡
, 
com·»_func
);

403 
mÜe_li¡_’d
 = 
	`li¡_sÜt_š‹º®
(&
mÜe_li¡
, 
com·»_func
);

407 *
li¡
 = 
Ëss_li¡
;

412 ià(
Ëss_li¡
 =ğ
NULL
) {

413 
pivÙ
->
´ev
 = 
NULL
;

414 *
li¡
 = 
pivÙ
;

416 
pivÙ
->
´ev
 = 
Ëss_li¡_’d
;

417 
Ëss_li¡_’d
->
Ãxt
 = 
pivÙ
;

422 
pivÙ
->
Ãxt
 = 
mÜe_li¡
;

423 ià(
mÜe_li¡
 !ğ
NULL
) {

424 
mÜe_li¡
->
´ev
 = 
pivÙ
;

431 ià(
mÜe_li¡
 =ğ
NULL
) {

432  
pivÙ
;

434  
mÜe_li¡_’d
;

436 
	}
}

438 
	$li¡_sÜt
(
Li¡EÁry
 **
li¡
, 
Li¡Com·»Func
 
com·»_func
)

440 
	`li¡_sÜt_š‹º®
(
li¡
, 
com·»_func
);

441 
	}
}

443 
Li¡EÁry
 *
	$li¡_fšd_d©a
(
Li¡EÁry
 *
li¡
,

444 
Li¡Equ®Func
 
ÿÎback
,

445 
Li¡V®ue
 
d©a
)

447 
Li¡EÁry
 *
rov”
;

451 
rov”
=
li¡
;„ov” !ğ
NULL
;„ov”ôov”->
Ãxt
) {

452 ià(
	`ÿÎback
(
rov”
->
d©a
, data) != 0) {

453  
rov”
;

459  
NULL
;

460 
	}
}

462 
	$li¡_™”©e
(
Li¡EÁry
 **
li¡
, 
Li¡I‹¿tÜ
 *
™”
)

466 
™”
->
´ev_Ãxt
 = 
li¡
;

470 
™”
->
cu¼’t
 = 
NULL
;

471 
	}
}

473 
	$li¡_™”_has_mÜe
(
Li¡I‹¿tÜ
 *
™”
)

475 ià(
™”
->
cu¼’t
 =ğ
NULL
 || i‹r->cu¼’ˆ!ğ*™”->
´ev_Ãxt
) {

482  *
™”
->
´ev_Ãxt
 !ğ
NULL
;

489  
™”
->
cu¼’t
->
Ãxt
 !ğ
NULL
;

491 
	}
}

493 
Li¡V®ue
 
	$li¡_™”_Ãxt
(
Li¡I‹¿tÜ
 *
™”
)

495 ià(
™”
->
cu¼’t
 =ğ
NULL
 || i‹r->cu¼’ˆ!ğ*™”->
´ev_Ãxt
) {

501 
™”
->
cu¼’t
 = *™”->
´ev_Ãxt
;

508 
™”
->
´ev_Ãxt
 = &™”->
cu¼’t
->
Ãxt
;

509 
™”
->
cu¼’t
 = i‹r->cu¼’t->
Ãxt
;

514 ià(
™”
->
cu¼’t
 =ğ
NULL
) {

515  
LIST_NULL
;

517  
™”
->
cu¼’t
->
d©a
;

519 
	}
}

521 
	$li¡_™”_»move
(
Li¡I‹¿tÜ
 *
™”
)

523 ià(
™”
->
cu¼’t
 =ğ
NULL
 || i‹r->cu¼’ˆ!ğ*™”->
´ev_Ãxt
) {

533 *
™”
->
´ev_Ãxt
 = i‹r->
cu¼’t
->
Ãxt
;

535 ià(
™”
->
cu¼’t
->
Ãxt
 !ğ
NULL
) {

536 
™”
->
cu¼’t
->
Ãxt
->
´ev
 = iter->current->prev;

539 
	`ä“
(
™”
->
cu¼’t
);

540 
™”
->
cu¼’t
 = 
NULL
;

542 
	}
}

	@src/list.h

53 #iâdeà
ALGORITHM_LIST_H


54 
	#ALGORITHM_LIST_H


	)

56 #ifdeà
__ılu¥lus


67 
_Li¡EÁry
 
	tLi¡EÁry
;

73 
_Li¡I‹¿tÜ
 
	tLi¡I‹¿tÜ
;

79 *
	tLi¡V®ue
;

85 
	s_Li¡I‹¿tÜ
 {

86 
Li¡EÁry
 **
´ev_Ãxt
;

87 
Li¡EÁry
 *
cu¼’t
;

94 
	#LIST_NULL
 ((*è0)

	)

106 (*
Li¡Com·»Func
)(
	tLi¡V®ue
 
	tv®ue1
, Li¡V®u
	tv®ue2
);

118 (*
Li¡Equ®Func
)(
	tLi¡V®ue
 
	tv®ue1
, Li¡V®u
	tv®ue2
);

126 
li¡_ä“
(
Li¡EÁry
 *
li¡
);

137 
Li¡EÁry
 *
li¡_´•’d
(Li¡EÁry **
li¡
, 
Li¡V®ue
 
d©a
);

148 
Li¡EÁry
 *
li¡_­³nd
(Li¡EÁry **
li¡
, 
Li¡V®ue
 
d©a
);

158 
Li¡EÁry
 *
li¡_´ev
(Li¡EÁry *
li¡’Œy
);

168 
Li¡EÁry
 *
li¡_Ãxt
(Li¡EÁry *
li¡’Œy
);

177 
Li¡V®ue
 
li¡_d©a
(
Li¡EÁry
 *
li¡’Œy
);

187 
Li¡EÁry
 *
li¡_Áh_’Œy
(Li¡EÁry *
li¡
, 
n
);

198 
Li¡V®ue
 
li¡_Áh_d©a
(
Li¡EÁry
 *
li¡
, 
n
);

207 
li¡_Ëngth
(
Li¡EÁry
 *
li¡
);

219 
Li¡V®ue
 *
li¡_to_¬¿y
(
Li¡EÁry
 *
li¡
);

230 
li¡_»move_’Œy
(
Li¡EÁry
 **
li¡
, Li¡EÁry *
’Œy
);

242 
li¡_»move_d©a
(
Li¡EÁry
 **
li¡
, 
Li¡Equ®Func
 
ÿÎback
,

243 
Li¡V®ue
 
d©a
);

252 
li¡_sÜt
(
Li¡EÁry
 **
li¡
, 
Li¡Com·»Func
 
com·»_func
);

265 
Li¡EÁry
 *
li¡_fšd_d©a
(Li¡EÁry *
li¡
,

266 
Li¡Equ®Func
 
ÿÎback
,

267 
Li¡V®ue
 
d©a
);

276 
li¡_™”©e
(
Li¡EÁry
 **
li¡
, 
Li¡I‹¿tÜ
 *
™”
);

287 
li¡_™”_has_mÜe
(
Li¡I‹¿tÜ
 *
™”©Ü
);

297 
Li¡V®ue
 
li¡_™”_Ãxt
(
Li¡I‹¿tÜ
 *
™”©Ü
);

306 
li¡_™”_»move
(
Li¡I‹¿tÜ
 *
™”©Ü
);

308 #ifdeà
__ılu¥lus


	@src/queue.c

21 
	~<¡dlib.h
>

23 
	~"queue.h
"

27 #ifdeà
ALLOC_TESTING


28 
	~"®loc-‹¡šg.h
"

33 
_QueueEÁry
 
	tQueueEÁry
;

35 
	s_QueueEÁry
 {

36 
QueueV®ue
 
	md©a
;

37 
QueueEÁry
 *
	m´ev
;

38 
QueueEÁry
 *
	mÃxt
;

41 
	s_Queue
 {

42 
QueueEÁry
 *
	mh—d
;

43 
QueueEÁry
 *
	m
;

46 
Queue
 *
	$queue_Ãw
()

48 
Queue
 *
queue
;

50 
queue
 = (
Queue
 *è
	`m®loc
((Queue));

52 ià(
queue
 =ğ
NULL
) {

53  
NULL
;

56 
queue
->
h—d
 = 
NULL
;

57 
queue
->

 = 
NULL
;

59  
queue
;

60 
	}
}

62 
	$queue_ä“
(
Queue
 *
queue
)

66 !
	`queue_is_em±y
(
queue
)) {

67 
	`queue_pİ_h—d
(
queue
);

72 
	`ä“
(
queue
);

73 
	}
}

75 
	$queue_push_h—d
(
Queue
 *
queue
, 
QueueV®ue
 
d©a
)

77 
QueueEÁry
 *
Ãw_’Œy
;

81 
Ãw_’Œy
 = 
	`m®loc
((
QueueEÁry
));

83 ià(
Ãw_’Œy
 =ğ
NULL
) {

87 
Ãw_’Œy
->
d©a
 = data;

88 
Ãw_’Œy
->
´ev
 = 
NULL
;

89 
Ãw_’Œy
->
Ãxt
 = 
queue
->
h—d
;

93 ià(
queue
->
h—d
 =ğ
NULL
) {

98 
queue
->
h—d
 = 
Ãw_’Œy
;

99 
queue
->

 = 
Ãw_’Œy
;

106 
queue
->
h—d
->
´ev
 = 
Ãw_’Œy
;

110 
queue
->
h—d
 = 
Ãw_’Œy
;

114 
	}
}

116 
QueueV®ue
 
	$queue_pİ_h—d
(
Queue
 *
queue
)

118 
QueueEÁry
 *
’Œy
;

119 
QueueV®ue
 
»suÉ
;

123 ià(
	`queue_is_em±y
(
queue
)) {

124  
QUEUE_NULL
;

129 
’Œy
 = 
queue
->
h—d
;

130 
queue
->
h—d
 = 
’Œy
->
Ãxt
;

131 
»suÉ
 = 
’Œy
->
d©a
;

133 ià(
queue
->
h—d
 =ğ
NULL
) {

138 
queue
->

 = 
NULL
;

143 
queue
->
h—d
->
´ev
 = 
NULL
;

148 
	`ä“
(
’Œy
);

150  
»suÉ
;

151 
	}
}

153 
QueueV®ue
 
	$queue_³ek_h—d
(
Queue
 *
queue
)

155 ià(
	`queue_is_em±y
(
queue
)) {

156  
QUEUE_NULL
;

158  
queue
->
h—d
->
d©a
;

160 
	}
}

162 
	$queue_push_
(
Queue
 *
queue
, 
QueueV®ue
 
d©a
)

164 
QueueEÁry
 *
Ãw_’Œy
;

168 
Ãw_’Œy
 = 
	`m®loc
((
QueueEÁry
));

170 ià(
Ãw_’Œy
 =ğ
NULL
) {

174 
Ãw_’Œy
->
d©a
 = data;

175 
Ãw_’Œy
->
´ev
 = 
queue
->

;

176 
Ãw_’Œy
->
Ãxt
 = 
NULL
;

180 ià(
queue
->

 =ğ
NULL
) {

185 
queue
->
h—d
 = 
Ãw_’Œy
;

186 
queue
->

 = 
Ãw_’Œy
;

193 
queue
->

->
Ãxt
 = 
Ãw_’Œy
;

197 
queue
->

 = 
Ãw_’Œy
;

201 
	}
}

203 
QueueV®ue
 
	$queue_pİ_
(
Queue
 *
queue
)

205 
QueueEÁry
 *
’Œy
;

206 
QueueV®ue
 
»suÉ
;

210 ià(
	`queue_is_em±y
(
queue
)) {

211  
QUEUE_NULL
;

216 
’Œy
 = 
queue
->

;

217 
queue
->

 = 
’Œy
->
´ev
;

218 
»suÉ
 = 
’Œy
->
d©a
;

220 ià(
queue
->

 =ğ
NULL
) {

225 
queue
->
h—d
 = 
NULL
;

231 
queue
->

->
Ãxt
 = 
NULL
;

236 
	`ä“
(
’Œy
);

238  
»suÉ
;

239 
	}
}

241 
QueueV®ue
 
	$queue_³ek_
(
Queue
 *
queue
)

243 ià(
	`queue_is_em±y
(
queue
)) {

244  
QUEUE_NULL
;

246  
queue
->

->
d©a
;

248 
	}
}

250 
	$queue_is_em±y
(
Queue
 *
queue
)

252  
queue
->
h—d
 =ğ
NULL
;

253 
	}
}

	@src/queue.h

41 #iâdeà
ALGORITHM_QUEUE_H


42 
	#ALGORITHM_QUEUE_H


	)

44 #ifdeà
__ılu¥lus


52 
_Queue
 
	tQueue
;

58 *
	tQueueV®ue
;

64 
	#QUEUE_NULL
 ((*è0)

	)

73 
Queue
 *
queue_Ãw
();

81 
queue_ä“
(
Queue
 *
queue
);

93 
queue_push_h—d
(
Queue
 *
queue
, 
QueueV®ue
 
d©a
);

103 
QueueV®ue
 
queue_pİ_h—d
(
Queue
 *
queue
);

114 
QueueV®ue
 
queue_³ek_h—d
(
Queue
 *
queue
);

126 
queue_push_
(
Queue
 *
queue
, 
QueueV®ue
 
d©a
);

136 
QueueV®ue
 
queue_pİ_
(
Queue
 *
queue
);

147 
QueueV®ue
 
queue_³ek_
(
Queue
 *
queue
);

157 
queue_is_em±y
(
Queue
 *
queue
);

159 #ifdeà
__ılu¥lus


	@src/rb-tree.c

22 
	~<¡dlib.h
>

24 
	~"rb-Œ“.h
"

28 #ifdeà
ALLOC_TESTING


29 
	~"®loc-‹¡šg.h
"

32 
	s_RBT»eNode
 {

33 
RBT»eNodeCŞÜ
 
	mcŞÜ
;

34 
RBT»eKey
 
	mkey
;

35 
RBT»eV®ue
 
	mv®ue
;

36 
RBT»eNode
 *
	m·»Á
;

37 
RBT»eNode
 *
	mchd»n
[2];

40 
	s_RBT»e
 {

41 
RBT»eNode
 *
	mroÙ_node
;

42 
RBT»eCom·»Func
 
	mcom·»_func
;

43 
	mnum_nodes
;

46 
RBT»eNodeSide
 
	$rb_Œ“_node_side
(
RBT»eNode
 *
node
)

48 ià(
node
->
·»Á
->
chd»n
[
RB_TREE_NODE_LEFT
] ==‚ode) {

49  
RB_TREE_NODE_LEFT
;

51  
RB_TREE_NODE_RIGHT
;

53 
	}
}

55 
RBT»eNode
 *
	$rb_Œ“_node_siblšg
(
RBT»eNode
 *
node
)

57 
RBT»eNodeSide
 
side
;

59 
side
 = 
	`rb_Œ“_node_side
(
node
);

61  
node
->
·»Á
->
chd»n
[1 - 
side
];

62 
	}
}

64 
RBT»eNode
 *
	$rb_Œ“_node_unşe
(
RBT»eNode
 *
node
)

66  
	`rb_Œ“_node_siblšg
(
node
->
·»Á
);

67 
	}
}

71 
	$rb_Œ“_node_»¶aû
(
RBT»e
 *
Œ“
, 
RBT»eNode
 *
node1
,

72 
RBT»eNode
 *
node2
)

74 
side
;

78 ià(
node2
 !ğ
NULL
) {

79 
node2
->
·»Á
 = 
node1
->parent;

84 ià(
node1
->
·»Á
 =ğ
NULL
) {

85 
Œ“
->
roÙ_node
 = 
node2
;

87 
side
 = 
	`rb_Œ“_node_side
(
node1
);

88 
node1
->
·»Á
->
chd»n
[
side
] = 
node2
;

90 
	}
}

114 
RBT»eNode
 *
	$rb_Œ“_rÙ©e
(
RBT»e
 *
Œ“
, 
RBT»eNode
 *
node
,

115 
RBT»eNodeSide
 
dœeùiÚ
)

117 
RBT»eNode
 *
Ãw_roÙ
;

122 
Ãw_roÙ
 = 
node
->
chd»n
[1-
dœeùiÚ
];

126 
	`rb_Œ“_node_»¶aû
(
Œ“
, 
node
, 
Ãw_roÙ
);

130 
node
->
chd»n
[1-
dœeùiÚ
] = 
Ãw_roÙ
->children[direction];

131 
Ãw_roÙ
->
chd»n
[
dœeùiÚ
] = 
node
;

135 
node
->
·»Á
 = 
Ãw_roÙ
;

137 ià(
node
->
chd»n
[1-
dœeùiÚ
] !ğ
NULL
) {

138 
node
->
chd»n
[1-
dœeùiÚ
]->
·»Á
 =‚ode;

141  
Ãw_roÙ
;

142 
	}
}

145 
RBT»e
 *
	$rb_Œ“_Ãw
(
RBT»eCom·»Func
 
com·»_func
)

147 
RBT»e
 *
Ãw_Œ“
;

149 
Ãw_Œ“
 = 
	`m®loc
((
RBT»e
));

151 ià(
Ãw_Œ“
 =ğ
NULL
) {

152  
NULL
;

155 
Ãw_Œ“
->
roÙ_node
 = 
NULL
;

156 
Ãw_Œ“
->
num_nodes
 = 0;

157 
Ãw_Œ“
->
com·»_func
 = compare_func;

159  
Ãw_Œ“
;

160 
	}
}

162 
	$rb_Œ“_ä“_subŒ“
(
RBT»eNode
 *
node
)

164 ià(
node
 !ğ
NULL
) {

167 
	`rb_Œ“_ä“_subŒ“
(
node
->
chd»n
[
RB_TREE_NODE_LEFT
]);

168 
	`rb_Œ“_ä“_subŒ“
(
node
->
chd»n
[
RB_TREE_NODE_RIGHT
]);

172 
	`ä“
(
node
);

174 
	}
}

176 
	$rb_Œ“_ä“
(
RBT»e
 *
Œ“
)

180 
	`rb_Œ“_ä“_subŒ“
(
Œ“
->
roÙ_node
);

184 
	`ä“
(
Œ“
);

185 
	}
}

187 
rb_Œ“_š£¹_ÿ£1
(
RBT»e
 *
Œ“
, 
RBT»eNode
 *
node
);

188 
rb_Œ“_š£¹_ÿ£2
(
RBT»e
 *
Œ“
, 
RBT»eNode
 *
node
);

189 
rb_Œ“_š£¹_ÿ£3
(
RBT»e
 *
Œ“
, 
RBT»eNode
 *
node
);

190 
rb_Œ“_š£¹_ÿ£4
(
RBT»e
 *
Œ“
, 
RBT»eNode
 *
node
);

191 
rb_Œ“_š£¹_ÿ£5
(
RBT»e
 *
Œ“
, 
RBT»eNode
 *
node
);

196 
	$rb_Œ“_š£¹_ÿ£1
(
RBT»e
 *
Œ“
, 
RBT»eNode
 *
node
)

198 ià(
node
->
·»Á
 =ğ
NULL
) {

202 
node
->
cŞÜ
 = 
RB_TREE_NODE_BLACK
;

208 
	`rb_Œ“_š£¹_ÿ£2
(
Œ“
, 
node
);

210 
	}
}

216 
	$rb_Œ“_š£¹_ÿ£2
(
RBT»e
 *
Œ“
, 
RBT»eNode
 *
node
)

221 ià(
node
->
·»Á
->
cŞÜ
 !ğ
RB_TREE_NODE_BLACK
) {

222 
	`rb_Œ“_š£¹_ÿ£3
(
Œ“
, 
node
);

224 
	}
}

229 
	$rb_Œ“_š£¹_ÿ£3
(
RBT»e
 *
Œ“
, 
RBT»eNode
 *
node
)

231 
RBT»eNode
 *
g¿nd·»Á
;

232 
RBT»eNode
 *
unşe
;

237 
g¿nd·»Á
 = 
node
->
·»Á
->parent;

238 
unşe
 = 
	`rb_Œ“_node_unşe
(
node
);

240 ià(
unşe
 !ğ
NULL
 && unşe->
cŞÜ
 =ğ
RB_TREE_NODE_RED
) {

242 
node
->
·»Á
->
cŞÜ
 = 
RB_TREE_NODE_BLACK
;

243 
unşe
->
cŞÜ
 = 
RB_TREE_NODE_BLACK
;

244 
g¿nd·»Á
->
cŞÜ
 = 
RB_TREE_NODE_RED
;

248 
	`rb_Œ“_š£¹_ÿ£1
(
Œ“
, 
g¿nd·»Á
);

251 
	`rb_Œ“_š£¹_ÿ£4
(
Œ“
, 
node
);

253 
	}
}

271 
	$rb_Œ“_š£¹_ÿ£4
(
RBT»e
 *
Œ“
, 
RBT»eNode
 *
node
)

273 
RBT»eNode
 *
Ãxt_node
;

274 
RBT»eNodeSide
 
side
;

282 
side
 = 
	`rb_Œ“_node_side
(
node
);

284 ià(
side
 !ğ
	`rb_Œ“_node_side
(
node
->
·»Á
)) {

289 
Ãxt_node
 = 
node
->
·»Á
;

294 
	`rb_Œ“_rÙ©e
(
Œ“
, 
node
->
·»Á
, 1-
side
);

296 
Ãxt_node
 = 
node
;

299 
	`rb_Œ“_š£¹_ÿ£5
(
Œ“
, 
Ãxt_node
);

300 
	}
}

317 
	$rb_Œ“_š£¹_ÿ£5
(
RBT»e
 *
Œ“
, 
RBT»eNode
 *
node
)

319 
RBT»eNode
 *
·»Á
;

320 
RBT»eNode
 *
g¿nd·»Á
;

321 
RBT»eNodeSide
 
side
;

323 
·»Á
 = 
node
->parent;

324 
g¿nd·»Á
 = 
·»Á
->parent;

329 
side
 = 
	`rb_Œ“_node_side
(
node
);

333 
	`rb_Œ“_rÙ©e
(
Œ“
, 
g¿nd·»Á
, 1-
side
);

337 
·»Á
->
cŞÜ
 = 
RB_TREE_NODE_BLACK
;

338 
g¿nd·»Á
->
cŞÜ
 = 
RB_TREE_NODE_RED
;

339 
	}
}

341 
RBT»eNode
 *
	$rb_Œ“_š£¹
(
RBT»e
 *
Œ“
, 
RBT»eKey
 
key
, 
RBT»eV®ue
 
v®ue
)

343 
RBT»eNode
 *
node
;

344 
RBT»eNode
 **
rov”
;

345 
RBT»eNode
 *
·»Á
;

346 
RBT»eNodeSide
 
side
;

350 
node
 = 
	`m®loc
((
RBT»eNode
));

352 ià(
node
 =ğ
NULL
) {

353  
NULL
;

358 
node
->
key
 = key;

359 
node
->
v®ue
 = value;

360 
node
->
cŞÜ
 = 
RB_TREE_NODE_RED
;

361 
node
->
chd»n
[
RB_TREE_NODE_LEFT
] = 
NULL
;

362 
node
->
chd»n
[
RB_TREE_NODE_RIGHT
] = 
NULL
;

366 
·»Á
 = 
NULL
;

367 
rov”
 = &
Œ“
->
roÙ_node
;

369 *
rov”
 !ğ
NULL
) {

373 
·»Á
 = *
rov”
;

377 ià(
Œ“
->
	`com·»_func
(
v®ue
, (*
rov”
)->value) < 0) {

378 
side
 = 
RB_TREE_NODE_LEFT
;

380 
side
 = 
RB_TREE_NODE_RIGHT
;

383 
rov”
 = &(*rov”)->
chd»n
[
side
];

388 *
rov”
 = 
node
;

389 
node
->
·»Á
 =…arent;

393 
	`rb_Œ“_š£¹_ÿ£1
(
Œ“
, 
node
);

397 ++
Œ“
->
num_nodes
;

399  
node
;

400 
	}
}

402 
RBT»eNode
 *
	$rb_Œ“_lookup_node
(
RBT»e
 *
Œ“
, 
RBT»eKey
 
key
)

404 
RBT»eNode
 *
node
;

405 
RBT»eNodeSide
 
side
;

406 
diff
;

408 
node
 = 
Œ“
->
roÙ_node
;

412 
node
 !ğ
NULL
) {

413 
diff
 = 
Œ“
->
	`com·»_func
(
key
, 
node
->key);

415 ià(
diff
 == 0) {

416  
node
;

417 } ià(
diff
 < 0) {

418 
side
 = 
RB_TREE_NODE_LEFT
;

420 
side
 = 
RB_TREE_NODE_RIGHT
;

423 
node
 =‚ode->
chd»n
[
side
];

428  
NULL
;

429 
	}
}

431 
RBT»eV®ue
 
	$rb_Œ“_lookup
(
RBT»e
 *
Œ“
, 
RBT»eKey
 
key
)

433 
RBT»eNode
 *
node
;

437 
node
 = 
	`rb_Œ“_lookup_node
(
Œ“
, 
key
);

439 ià(
node
 =ğ
NULL
) {

440  
RB_TREE_NULL
;

442  
node
->
v®ue
;

444 
	}
}

446 
	$rb_Œ“_»move_node
(
RBT»e
 *
Œ“
, 
RBT»eNode
 *
node
)

449 
	}
}

451 
	$rb_Œ“_»move
(
RBT»e
 *
Œ“
, 
RBT»eKey
 
key
)

453 
RBT»eNode
 *
node
;

457 
node
 = 
	`rb_Œ“_lookup_node
(
Œ“
, 
key
);

459 ià(
node
 =ğ
NULL
) {

463 
	`rb_Œ“_»move_node
(
Œ“
, 
node
);

466 
	}
}

468 
RBT»eNode
 *
	$rb_Œ“_roÙ_node
(
RBT»e
 *
Œ“
)

470  
Œ“
->
roÙ_node
;

471 
	}
}

473 
RBT»eKey
 
	$rb_Œ“_node_key
(
RBT»eNode
 *
node
)

475  
node
->
key
;

476 
	}
}

478 
RBT»eV®ue
 
	$rb_Œ“_node_v®ue
(
RBT»eNode
 *
node
)

480  
node
->
v®ue
;

481 
	}
}

483 
RBT»eNode
 *
	$rb_Œ“_node_chd
(
RBT»eNode
 *
node
, 
RBT»eNodeSide
 
side
)

485 ià(
side
 =ğ
RB_TREE_NODE_LEFT
 || sid=ğ
RB_TREE_NODE_RIGHT
) {

486  
node
->
chd»n
[
side
];

488  
NULL
;

490 
	}
}

492 
RBT»eNode
 *
	$rb_Œ“_node_·»Á
(
RBT»eNode
 *
node
)

494  
node
->
·»Á
;

495 
	}
}

497 
RBT»eV®ue
 *
	$rb_Œ“_to_¬¿y
(
RBT»e
 *
Œ“
)

500 
	}
}

502 
	$rb_Œ“_num_’Œ›s
(
RBT»e
 *
Œ“
)

504  
Œ“
->
num_nodes
;

505 
	}
}

	@src/rb-tree.h

55 #iâdeà
ALGORITHM_RB_TREE_H


56 
	#ALGORITHM_RB_TREE_H


	)

58 #ifdeà
__ılu¥lus


68 
_RBT»e
 
	tRBT»e
;

74 *
	tRBT»eKey
;

80 *
	tRBT»eV®ue
;

86 
	#RB_TREE_NULL
 ((*è0)

	)

98 
_RBT»eNode
 
	tRBT»eNode
;

111 (*
RBT»eCom·»Func
)(
	tRBT»eV®ue
 
	td©a1
, RBT»eV®u
	td©a2
);

118 
RB_TREE_NODE_RED
,

119 
RB_TREE_NODE_BLACK
,

120 } 
	tRBT»eNodeCŞÜ
;

127 
RB_TREE_NODE_LEFT
 = 0,

128 
RB_TREE_NODE_RIGHT
 = 1

129 } 
	tRBT»eNodeSide
;

139 
RBT»e
 *
rb_Œ“_Ãw
(
RBT»eCom·»Func
 
com·»_func
);

147 
rb_Œ“_ä“
(
RBT»e
 *
Œ“
);

160 
RBT»eNode
 *
rb_Œ“_š£¹
(
RBT»e
 *
Œ“
, 
RBT»eKey
 
key
, 
RBT»eV®ue
 
v®ue
);

169 
rb_Œ“_»move_node
(
RBT»e
 *
Œ“
, 
RBT»eNode
 *
node
);

182 
rb_Œ“_»move
(
RBT»e
 *
Œ“
, 
RBT»eKey
 
key
);

194 
RBT»eNode
 *
rb_Œ“_lookup_node
(
RBT»e
 *
Œ“
, 
RBT»eKey
 
key
);

209 
RBT»eV®ue
 
rb_Œ“_lookup
(
RBT»e
 *
Œ“
, 
RBT»eKey
 
key
);

219 
RBT»eNode
 *
rb_Œ“_roÙ_node
(
RBT»e
 *
Œ“
);

228 
RBT»eKey
 
rb_Œ“_node_key
(
RBT»eNode
 *
node
);

237 
RBT»eV®ue
 
rb_Œ“_node_v®ue
(
RBT»eNode
 *
node
);

248 
RBT»eNode
 *
rb_Œ“_node_chd
(RBT»eNod*
node
, 
RBT»eNodeSide
 
side
);

258 
RBT»eNode
 *
rb_Œ“_node_·»Á
(RBT»eNod*
node
);

267 
rb_Œ“_subŒ“_height
(
RBT»eNode
 *
node
);

280 
RBT»eV®ue
 *
rb_Œ“_to_¬¿y
(
RBT»e
 *
Œ“
);

289 
rb_Œ“_num_’Œ›s
(
RBT»e
 *
Œ“
);

291 #ifdeà
__ılu¥lus


	@src/set.c

21 
	~<¡dlib.h
>

22 
	~<¡ršg.h
>

23 
	~"£t.h
"

27 #ifdeà
ALLOC_TESTING


28 
	~"®loc-‹¡šg.h
"

33 
	s_S‘EÁry
 {

34 
S‘V®ue
 
	md©a
;

35 
S‘EÁry
 *
	mÃxt
;

38 
	s_S‘
 {

39 
S‘EÁry
 **
	mbË
;

40 
	m’Œ›s
;

41 
	mbË_size
;

42 
	m´ime_šdex
;

43 
S‘HashFunc
 
	mhash_func
;

44 
S‘Equ®Func
 
	mequ®_func
;

45 
S‘F»eFunc
 
	mä“_func
;

53 cÚ¡ 
	g£t_´imes
[] = {

60 cÚ¡ 
	g£t_num_´imes
 = (
£t_´imes
) / ();

62 
	$£t_®loÿ‹_bË
(
S‘
 *
£t
)

69 ià(
£t
->
´ime_šdex
 < 
£t_num_´imes
) {

70 
£t
->
bË_size
 = 
£t_´imes
[£t->
´ime_šdex
];

72 
£t
->
bË_size
 = s‘->
’Œ›s
 * 10;

77 
£t
->
bË
 = 
	`ÿÎoc
(£t->
bË_size
, (
S‘EÁry
 *));

79  
£t
->
bË
 !ğ
NULL
;

80 
	}
}

82 
	$£t_ä“_’Œy
(
S‘
 *
£t
, 
S‘EÁry
 *
’Œy
)

87 ià(
£t
->
ä“_func
 !ğ
NULL
) {

88 
£t
->
	`ä“_func
(
’Œy
->
d©a
);

93 
	`ä“
(
’Œy
);

94 
	}
}

96 
S‘
 *
	$£t_Ãw
(
S‘HashFunc
 
hash_func
, 
S‘Equ®Func
 
equ®_func
)

98 
S‘
 *
Ãw_£t
;

102 
Ãw_£t
 = (
S‘
 *è
	`m®loc
((Set));

104 ià(
Ãw_£t
 =ğ
NULL
) {

105  
NULL
;

108 
Ãw_£t
->
hash_func
 = hash_func;

109 
Ãw_£t
->
equ®_func
 =ƒqual_func;

110 
Ãw_£t
->
’Œ›s
 = 0;

111 
Ãw_£t
->
´ime_šdex
 = 0;

112 
Ãw_£t
->
ä“_func
 = 
NULL
;

116 ià(!
	`£t_®loÿ‹_bË
(
Ãw_£t
)) {

117 
	`ä“
(
Ãw_£t
);

118  
NULL
;

121  
Ãw_£t
;

122 
	}
}

124 
	$£t_ä“
(
S‘
 *
£t
)

126 
S‘EÁry
 *
rov”
;

127 
S‘EÁry
 *
Ãxt
;

128 
i
;

132 
i
=0; i<
£t
->
bË_size
; ++i) {

133 
rov”
 = 
£t
->
bË
[
i
];

135 
rov”
 !ğ
NULL
) {

136 
Ãxt
 = 
rov”
->next;

140 
	`£t_ä“_’Œy
(
£t
, 
rov”
);

144 
rov”
 = 
Ãxt
;

150 
	`ä“
(
£t
->
bË
);

154 
	`ä“
(
£t
);

155 
	}
}

157 
	$£t_»gi¡”_ä“_funùiÚ
(
S‘
 *
£t
, 
S‘F»eFunc
 
ä“_func
)

159 
£t
->
ä“_func
 = free_func;

160 
	}
}

162 
	$£t_’Ïrge
(
S‘
 *
£t
)

164 
S‘EÁry
 *
rov”
;

165 
S‘EÁry
 *
Ãxt
;

166 
S‘EÁry
 **
Şd_bË
;

167 
Şd_bË_size
;

168 
Şd_´ime_šdex
;

169 
šdex
;

170 
i
;

174 
Şd_bË
 = 
£t
->
bË
;

175 
Şd_bË_size
 = 
£t
->
bË_size
;

176 
Şd_´ime_šdex
 = 
£t
->
´ime_šdex
;

180 ++
£t
->
´ime_šdex
;

184 ià(!
	`£t_®loÿ‹_bË
(
£t
)) {

185 
£t
->
bË
 = 
Şd_bË
;

186 
£t
->
bË_size
 = 
Şd_bË_size
;

187 
£t
->
´ime_šdex
 = 
Şd_´ime_šdex
;

195 
i
=0; i<
Şd_bË_size
; ++i) {

199 
rov”
 = 
Şd_bË
[
i
];

201 
rov”
 !ğ
NULL
) {

203 
Ãxt
 = 
rov”
->next;

207 
šdex
 = 
£t
->
	`hash_func
(
rov”
->
d©a
è% s‘->
bË_size
;

208 
rov”
->
Ãxt
 = 
£t
->
bË
[
šdex
];

209 
£t
->
bË
[
šdex
] = 
rov”
;

213 
rov”
 = 
Ãxt
;

219 
	`ä“
(
Şd_bË
);

224 
	}
}

226 
	$£t_š£¹
(
S‘
 *
£t
, 
S‘V®ue
 
d©a
)

228 
S‘EÁry
 *
Ãw’Œy
;

229 
S‘EÁry
 *
rov”
;

230 
šdex
;

235 ià((
£t
->
’Œ›s
 * 3è/ s‘->
bË_size
 > 0) {

239 ià(!
	`£t_’Ïrge
(
£t
)) {

247 
šdex
 = 
£t
->
	`hash_func
(
d©a
è% s‘->
bË_size
;

252 
rov”
 = 
£t
->
bË
[
šdex
];

254 
rov”
 !ğ
NULL
) {

256 ià(
£t
->
	`equ®_func
(
d©a
, 
rov”
->data) != 0) {

263 
rov”
 =„ov”->
Ãxt
;

270 
Ãw’Œy
 = (
S‘EÁry
 *è
	`m®loc
((SetEntry));

272 ià(
Ãw’Œy
 =ğ
NULL
) {

276 
Ãw’Œy
->
d©a
 = data;

280 
Ãw’Œy
->
Ãxt
 = 
£t
->
bË
[
šdex
];

281 
£t
->
bË
[
šdex
] = 
Ãw’Œy
;

285 ++
£t
->
’Œ›s
;

290 
	}
}

292 
	$£t_»move
(
S‘
 *
£t
, 
S‘V®ue
 
d©a
)

294 
S‘EÁry
 **
rov”
;

295 
S‘EÁry
 *
’Œy
;

296 
šdex
;

300 
šdex
 = 
£t
->
	`hash_func
(
d©a
è% s‘->
bË_size
;

304 
rov”
 = &
£t
->
bË
[
šdex
];

306 *
rov”
 !ğ
NULL
) {

307 ià(
£t
->
	`equ®_func
(
d©a
, (*
rov”
)->data) != 0) {

311 
’Œy
 = *
rov”
;

315 *
rov”
 = 
’Œy
->
Ãxt
;

319 --
£t
->
’Œ›s
;

323 
	`£t_ä“_’Œy
(
£t
, 
’Œy
);

330 
rov”
 = &((*rov”)->
Ãxt
);

336 
	}
}

338 
	$£t_qu”y
(
S‘
 *
£t
, 
S‘V®ue
 
d©a
)

340 
S‘EÁry
 *
rov”
;

341 
šdex
;

345 
šdex
 = 
£t
->
	`hash_func
(
d©a
è% s‘->
bË_size
;

349 
rov”
 = 
£t
->
bË
[
šdex
];

351 
rov”
 !ğ
NULL
) {

352 ià(
£t
->
	`equ®_func
(
d©a
, 
rov”
->data) != 0) {

361 
rov”
 =„ov”->
Ãxt
;

367 
	}
}

369 
	$£t_num_’Œ›s
(
S‘
 *
£t
)

371  
£t
->
’Œ›s
;

372 
	}
}

374 
S‘V®ue
 *
	$£t_to_¬¿y
(
S‘
 *
£t
)

376 
S‘V®ue
 *
¬¿y
;

377 
¬¿y_couÁ”
;

378 
i
;

379 
S‘EÁry
 *
rov”
;

383 
¬¿y
 = 
	`m®loc
((
S‘V®ue
è* 
£t
->
’Œ›s
);

385 ià(
¬¿y
 =ğ
NULL
) {

386  
NULL
;

389 
¬¿y_couÁ”
 = 0;

393 
i
=0; i<
£t
->
bË_size
; ++i) {

395 
rov”
 = 
£t
->
bË
[
i
];

397 
rov”
 !ğ
NULL
) {

401 
¬¿y
[
¬¿y_couÁ”
] = 
rov”
->
d©a
;

402 ++
¬¿y_couÁ”
;

406 
rov”
 =„ov”->
Ãxt
;

410  
¬¿y
;

411 
	}
}

413 
S‘
 *
	$£t_uniÚ
(
S‘
 *
£t1
, S‘ *
£t2
)

415 
S‘I‹¿tÜ
 
™”©Ü
;

416 
S‘
 *
Ãw_£t
;

417 
S‘V®ue
 
v®ue
;

419 
Ãw_£t
 = 
	`£t_Ãw
(
£t1
->
hash_func
, s‘1->
equ®_func
);

421 ià(
Ãw_£t
 =ğ
NULL
) {

422  
NULL
;

427 
	`£t_™”©e
(
£t1
, &
™”©Ü
);

429 
	`£t_™”_has_mÜe
(&
™”©Ü
)) {

433 
v®ue
 = 
	`£t_™”_Ãxt
(&
™”©Ü
);

437 ià(!
	`£t_š£¹
(
Ãw_£t
, 
v®ue
)) {

441 
	`£t_ä“
(
Ãw_£t
);

442  
NULL
;

448 
	`£t_™”©e
(
£t2
, &
™”©Ü
);

450 
	`£t_™”_has_mÜe
(&
™”©Ü
)) {

454 
v®ue
 = 
	`£t_™”_Ãxt
(&
™”©Ü
);

459 ià(
	`£t_qu”y
(
Ãw_£t
, 
v®ue
) == 0) {

460 ià(!
	`£t_š£¹
(
Ãw_£t
, 
v®ue
)) {

464 
	`£t_ä“
(
Ãw_£t
);

465  
NULL
;

470  
Ãw_£t
;

471 
	}
}

473 
S‘
 *
	$£t_š‹r£ùiÚ
(
S‘
 *
£t1
, S‘ *
£t2
)

475 
S‘
 *
Ãw_£t
;

476 
S‘I‹¿tÜ
 
™”©Ü
;

477 
S‘V®ue
 
v®ue
;

479 
Ãw_£t
 = 
	`£t_Ãw
(
£t1
->
hash_func
, 
£t2
->
equ®_func
);

481 ià(
Ãw_£t
 =ğ
NULL
) {

482  
NULL
;

487 
	`£t_™”©e
(
£t1
, &
™”©Ü
);

489 
	`£t_™”_has_mÜe
(&
™”©Ü
)) {

493 
v®ue
 = 
	`£t_™”_Ãxt
(&
™”©Ü
);

498 ià(
	`£t_qu”y
(
£t2
, 
v®ue
) != 0) {

503 ià(!
	`£t_š£¹
(
Ãw_£t
, 
v®ue
)) {

504 
	`£t_ä“
(
Ãw_£t
);

506  
NULL
;

511  
Ãw_£t
;

512 
	}
}

514 
	$£t_™”©e
(
S‘
 *
£t
, 
S‘I‹¿tÜ
 *
™”
)

516 
chaš
;

518 
™”
->
£t
 = set;

519 
™”
->
Ãxt_’Œy
 = 
NULL
;

523 
chaš
 = 0; chaš < 
£t
->
bË_size
; ++chain) {

527 ià(
£t
->
bË
[
chaš
] !ğ
NULL
) {

528 
™”
->
Ãxt_’Œy
 = 
£t
->
bË
[
chaš
];

533 
™”
->
Ãxt_chaš
 = 
chaš
;

534 
	}
}

536 
S‘V®ue
 
	$£t_™”_Ãxt
(
S‘I‹¿tÜ
 *
™”©Ü
)

538 
S‘
 *
£t
;

539 
S‘V®ue
 
»suÉ
;

540 
S‘EÁry
 *
cu¼’t_’Œy
;

541 
chaš
;

543 
£t
 = 
™”©Ü
->set;

547 ià(
™”©Ü
->
Ãxt_’Œy
 =ğ
NULL
) {

548  
SET_NULL
;

553 
cu¼’t_’Œy
 = 
™”©Ü
->
Ãxt_’Œy
;

554 
»suÉ
 = 
cu¼’t_’Œy
->
d©a
;

558 ià(
cu¼’t_’Œy
->
Ãxt
 !ğ
NULL
) {

562 
™”©Ü
->
Ãxt_’Œy
 = 
cu¼’t_’Œy
->
Ãxt
;

568 
™”©Ü
->
Ãxt_’Œy
 = 
NULL
;

572 
chaš
 = 
™”©Ü
->
Ãxt_chaš
 + 1;

574 
chaš
 < 
£t
->
bË_size
) {

578 ià(
£t
->
bË
[
chaš
] !ğ
NULL
) {

582 
™”©Ü
->
Ãxt_’Œy
 = 
£t
->
bË
[
chaš
];

589 ++
chaš
;

592 
™”©Ü
->
Ãxt_chaš
 = 
chaš
;

595  
»suÉ
;

596 
	}
}

598 
	$£t_™”_has_mÜe
(
S‘I‹¿tÜ
 *
™”©Ü
)

600  
™”©Ü
->
Ãxt_’Œy
 !ğ
NULL
;

601 
	}
}

	@src/set.h

47 #iâdeà
ALGORITHM_SET_H


48 
	#ALGORITHM_SET_H


	)

50 #ifdeà
__ılu¥lus


59 
_S‘
 
	tS‘
;

67 
_S‘I‹¿tÜ
 
	tS‘I‹¿tÜ
;

73 
_S‘EÁry
 
	tS‘EÁry
;

79 *
	tS‘V®ue
;

85 
	s_S‘I‹¿tÜ
 {

86 
S‘
 *
£t
;

87 
S‘EÁry
 *
Ãxt_’Œy
;

88 
Ãxt_chaš
;

95 
	#SET_NULL
 ((*è0)

	)

101 (*
	tS‘HashFunc
)(
	tS‘V®ue
 
	tv®ue
);

108 (*
S‘Equ®Func
)(
	tS‘V®ue
 
	tv®ue1
, S‘V®u
	tv®ue2
);

115 (*
S‘F»eFunc
)(
	tS‘V®ue
 
	tv®ue
);

127 
S‘
 *
£t_Ãw
(
S‘HashFunc
 
hash_func
, 
S‘Equ®Func
 
equ®_func
);

135 
£t_ä“
(
S‘
 *
£t
);

146 
£t_»gi¡”_ä“_funùiÚ
(
S‘
 *
£t
, 
S‘F»eFunc
 
ä“_func
);

159 
£t_š£¹
(
S‘
 *
£t
, 
S‘V®ue
 
d©a
);

171 
£t_»move
(
S‘
 *
£t
, 
S‘V®ue
 
d©a
);

182 
£t_qu”y
(
S‘
 *
£t
, 
S‘V®ue
 
d©a
);

191 
£t_num_’Œ›s
(
S‘
 *
£t
);

202 
S‘V®ue
 *
£t_to_¬¿y
(
S‘
 *
£t
);

214 
S‘
 *
£t_uniÚ
(S‘ *
£t1
, S‘ *
£t2
);

226 
S‘
 *
£t_š‹r£ùiÚ
(S‘ *
£t1
, S‘ *
£t2
);

236 
£t_™”©e
(
S‘
 *
£t
, 
S‘I‹¿tÜ
 *
™”
);

247 
£t_™”_has_mÜe
(
S‘I‹¿tÜ
 *
™”©Ü
);

257 
S‘V®ue
 
£t_™”_Ãxt
(
S‘I‹¿tÜ
 *
™”©Ü
);

259 #ifdeà
__ılu¥lus


	@src/slist.c

21 
	~<¡dlib.h
>

23 
	~"¦i¡.h
"

27 #ifdeà
ALLOC_TESTING


28 
	~"®loc-‹¡šg.h
"

33 
	s_SLi¡EÁry
 {

34 
SLi¡V®ue
 
	md©a
;

35 
SLi¡EÁry
 *
	mÃxt
;

38 
	$¦i¡_ä“
(
SLi¡EÁry
 *
li¡
)

40 
SLi¡EÁry
 *
’Œy
;

45 
’Œy
 = 
li¡
;

47 
’Œy
 !ğ
NULL
) {

48 
SLi¡EÁry
 *
Ãxt
;

50 
Ãxt
 = 
’Œy
->next;

52 
	`ä“
(
’Œy
);

54 
’Œy
 = 
Ãxt
;

56 
	}
}

58 
SLi¡EÁry
 *
	$¦i¡_´•’d
(
SLi¡EÁry
 **
li¡
, 
SLi¡V®ue
 
d©a
)

60 
SLi¡EÁry
 *
Ãw’Œy
;

64 
Ãw’Œy
 = 
	`m®loc
((
SLi¡EÁry
));

66 ià(
Ãw’Œy
 =ğ
NULL
) {

67  
NULL
;

70 
Ãw’Œy
->
d©a
 = data;

74 
Ãw’Œy
->
Ãxt
 = *
li¡
;

75 *
li¡
 = 
Ãw’Œy
;

77  
Ãw’Œy
;

78 
	}
}

80 
SLi¡EÁry
 *
	$¦i¡_­³nd
(
SLi¡EÁry
 **
li¡
, 
SLi¡V®ue
 
d©a
)

82 
SLi¡EÁry
 *
rov”
;

83 
SLi¡EÁry
 *
Ãw’Œy
;

87 
Ãw’Œy
 = 
	`m®loc
((
SLi¡EÁry
));

89 ià(
Ãw’Œy
 =ğ
NULL
) {

90  
NULL
;

93 
Ãw’Œy
->
d©a
 = data;

94 
Ãw’Œy
->
Ãxt
 = 
NULL
;

98 ià(*
li¡
 =ğ
NULL
) {

102 *
li¡
 = 
Ãw’Œy
;

108 
rov”
=*
li¡
;„ov”->
Ãxt
 !ğ
NULL
;„over =„over->next);

112 
rov”
->
Ãxt
 = 
Ãw’Œy
;

115  
Ãw’Œy
;

116 
	}
}

118 
SLi¡V®ue
 
	$¦i¡_d©a
(
SLi¡EÁry
 *
li¡’Œy
)

120  
li¡’Œy
->
d©a
;

121 
	}
}

123 
SLi¡EÁry
 *
	$¦i¡_Ãxt
(
SLi¡EÁry
 *
li¡’Œy
)

125  
li¡’Œy
->
Ãxt
;

126 
	}
}

128 
SLi¡EÁry
 *
	$¦i¡_Áh_’Œy
(
SLi¡EÁry
 *
li¡
, 
n
)

130 
SLi¡EÁry
 *
’Œy
;

131 
i
;

135 ià(
n
 < 0) {

136  
NULL
;

142 
’Œy
 = 
li¡
;

144 
i
=0; i<
n
; ++i) {

146 ià(
’Œy
 =ğ
NULL
) {

147  
NULL
;

149 
’Œy
 =ƒÁry->
Ãxt
;

152  
’Œy
;

153 
	}
}

155 
SLi¡V®ue
 
	$¦i¡_Áh_d©a
(
SLi¡EÁry
 *
li¡
, 
n
)

157 
SLi¡EÁry
 *
’Œy
;

161 
’Œy
 = 
	`¦i¡_Áh_’Œy
(
li¡
, 
n
);

165 ià(
’Œy
 =ğ
NULL
) {

166  
SLIST_NULL
;

168  
’Œy
->
d©a
;

170 
	}
}

172 
	$¦i¡_Ëngth
(
SLi¡EÁry
 *
li¡
)

174 
SLi¡EÁry
 *
’Œy
;

175 
Ëngth
;

177 
Ëngth
 = 0;

178 
’Œy
 = 
li¡
;

180 
’Œy
 !ğ
NULL
) {

184 ++
Ëngth
;

186 
’Œy
 =ƒÁry->
Ãxt
;

189  
Ëngth
;

190 
	}
}

192 
SLi¡V®ue
 *
	$¦i¡_to_¬¿y
(
SLi¡EÁry
 *
li¡
)

194 
SLi¡EÁry
 *
rov”
;

195 
SLi¡V®ue
 *
¬¿y
;

196 
Ëngth
;

197 
i
;

201 
Ëngth
 = 
	`¦i¡_Ëngth
(
li¡
);

203 
¬¿y
 = 
	`m®loc
((
SLi¡V®ue
è* 
Ëngth
);

205 ià(
¬¿y
 =ğ
NULL
) {

206  
NULL
;

211 
rov”
 = 
li¡
;

213 
i
=0; i<
Ëngth
; ++i) {

217 
¬¿y
[
i
] = 
rov”
->
d©a
;

221 
rov”
 =„ov”->
Ãxt
;

224  
¬¿y
;

225 
	}
}

227 
	$¦i¡_»move_’Œy
(
SLi¡EÁry
 **
li¡
, SLi¡EÁry *
’Œy
)

229 
SLi¡EÁry
 *
rov”
;

233 ià(*
li¡
 =ğ
NULL
 || 
’Œy
 == NULL) {

239 ià(*
li¡
 =ğ
’Œy
) {

243 *
li¡
 = 
’Œy
->
Ãxt
;

249 
rov”
 = *
li¡
;

251 
rov”
 !ğ
NULL
 &&„ov”->
Ãxt
 !ğ
’Œy
) {

252 
rov”
 =„ov”->
Ãxt
;

255 ià(
rov”
 =ğ
NULL
) {

266 
rov”
->
Ãxt
 = 
’Œy
->next;

272 
	`ä“
(
’Œy
);

277 
	}
}

279 
	$¦i¡_»move_d©a
(
SLi¡EÁry
 **
li¡
, 
SLi¡Equ®Func
 
ÿÎback
,

280 
SLi¡V®ue
 
d©a
)

282 
SLi¡EÁry
 **
rov”
;

283 
SLi¡EÁry
 *
Ãxt
;

284 
’Œ›s_»moved
;

286 
’Œ›s_»moved
 = 0;

292 
rov”
 = 
li¡
;

294 *
rov”
 !ğ
NULL
) {

298 ià(
	`ÿÎback
((*
rov”
)->
d©a
, data) != 0) {

302 
Ãxt
 = (*
rov”
)->next;

303 
	`ä“
(*
rov”
);

304 *
rov”
 = 
Ãxt
;

308 ++
’Œ›s_»moved
;

313 
rov”
 = &((*rov”)->
Ãxt
);

317  
’Œ›s_»moved
;

318 
	}
}

323 
SLi¡EÁry
 *
	$¦i¡_sÜt_š‹º®
(
SLi¡EÁry
 **
li¡
,

324 
SLi¡Com·»Func
 
com·»_func
)

326 
SLi¡EÁry
 *
pivÙ
;

327 
SLi¡EÁry
 *
rov”
;

328 
SLi¡EÁry
 *
Ëss_li¡
, *
mÜe_li¡
;

329 
SLi¡EÁry
 *
Ëss_li¡_’d
, *
mÜe_li¡_’d
;

334 ià(*
li¡
 =ğ
NULL
 || (*li¡)->
Ãxt
 == NULL) {

335  *
li¡
;

340 
pivÙ
 = *
li¡
;

346 
Ëss_li¡
 = 
NULL
;

347 
mÜe_li¡
 = 
NULL
;

348 
rov”
 = (*
li¡
)->
Ãxt
;

350 
rov”
 !ğ
NULL
) {

351 
SLi¡EÁry
 *
Ãxt
 = 
rov”
->next;

353 ià(
	`com·»_func
(
rov”
->
d©a
, 
pivÙ
->data) < 0) {

357 
rov”
->
Ãxt
 = 
Ëss_li¡
;

358 
Ëss_li¡
 = 
rov”
;

364 
rov”
->
Ãxt
 = 
mÜe_li¡
;

365 
mÜe_li¡
 = 
rov”
;

369 
rov”
 = 
Ãxt
;

374 
Ëss_li¡_’d
 = 
	`¦i¡_sÜt_š‹º®
(&
Ëss_li¡
, 
com·»_func
);

375 
mÜe_li¡_’d
 = 
	`¦i¡_sÜt_š‹º®
(&
mÜe_li¡
, 
com·»_func
);

379 *
li¡
 = 
Ëss_li¡
;

384 ià(
Ëss_li¡
 =ğ
NULL
) {

385 *
li¡
 = 
pivÙ
;

387 
Ëss_li¡_’d
->
Ãxt
 = 
pivÙ
;

392 
pivÙ
->
Ãxt
 = 
mÜe_li¡
;

398 ià(
mÜe_li¡
 =ğ
NULL
) {

399  
pivÙ
;

401  
mÜe_li¡_’d
;

403 
	}
}

405 
	$¦i¡_sÜt
(
SLi¡EÁry
 **
li¡
, 
SLi¡Com·»Func
 
com·»_func
)

407 
	`¦i¡_sÜt_š‹º®
(
li¡
, 
com·»_func
);

408 
	}
}

410 
SLi¡EÁry
 *
	$¦i¡_fšd_d©a
(
SLi¡EÁry
 *
li¡
,

411 
SLi¡Equ®Func
 
ÿÎback
,

412 
SLi¡V®ue
 
d©a
)

414 
SLi¡EÁry
 *
rov”
;

418 
rov”
=
li¡
;„ov” !ğ
NULL
;„ov”ôov”->
Ãxt
) {

419 ià(
	`ÿÎback
(
rov”
->
d©a
, data) != 0) {

420  
rov”
;

426  
NULL
;

427 
	}
}

429 
	$¦i¡_™”©e
(
SLi¡EÁry
 **
li¡
, 
SLi¡I‹¿tÜ
 *
™”
)

433 
™”
->
´ev_Ãxt
 = 
li¡
;

437 
™”
->
cu¼’t
 = 
NULL
;

438 
	}
}

440 
	$¦i¡_™”_has_mÜe
(
SLi¡I‹¿tÜ
 *
™”
)

442 ià(
™”
->
cu¼’t
 =ğ
NULL
 || i‹r->cu¼’ˆ!ğ*™”->
´ev_Ãxt
) {

449  *
™”
->
´ev_Ãxt
 !ğ
NULL
;

456  
™”
->
cu¼’t
->
Ãxt
 !ğ
NULL
;

458 
	}
}

460 
SLi¡V®ue
 
	$¦i¡_™”_Ãxt
(
SLi¡I‹¿tÜ
 *
™”
)

462 ià(
™”
->
cu¼’t
 =ğ
NULL
 || i‹r->cu¼’ˆ!ğ*™”->
´ev_Ãxt
) {

468 
™”
->
cu¼’t
 = *™”->
´ev_Ãxt
;

475 
™”
->
´ev_Ãxt
 = &™”->
cu¼’t
->
Ãxt
;

476 
™”
->
cu¼’t
 = i‹r->cu¼’t->
Ãxt
;

481 ià(
™”
->
cu¼’t
 =ğ
NULL
) {

482  
SLIST_NULL
;

484  
™”
->
cu¼’t
->
d©a
;

486 
	}
}

488 
	$¦i¡_™”_»move
(
SLi¡I‹¿tÜ
 *
™”
)

490 ià(
™”
->
cu¼’t
 =ğ
NULL
 || i‹r->cu¼’ˆ!ğ*™”->
´ev_Ãxt
) {

500 *
™”
->
´ev_Ãxt
 = i‹r->
cu¼’t
->
Ãxt
;

501 
	`ä“
(
™”
->
cu¼’t
);

502 
™”
->
cu¼’t
 = 
NULL
;

504 
	}
}

	@src/slist.h

66 #iâdeà
ALGORITHM_SLIST_H


67 
	#ALGORITHM_SLIST_H


	)

69 #ifdeà
__ılu¥lus


80 
_SLi¡EÁry
 
	tSLi¡EÁry
;

86 
_SLi¡I‹¿tÜ
 
	tSLi¡I‹¿tÜ
;

92 *
	tSLi¡V®ue
;

98 
	s_SLi¡I‹¿tÜ
 {

99 
SLi¡EÁry
 **
´ev_Ãxt
;

100 
SLi¡EÁry
 *
cu¼’t
;

107 
	#SLIST_NULL
 ((*è0)

	)

117 (*
SLi¡Com·»Func
)(
	tSLi¡V®ue
 
	tv®ue1
, SLi¡V®u
	tv®ue2
);

127 (*
SLi¡Equ®Func
)(
	tSLi¡V®ue
 
	tv®ue1
, SLi¡V®u
	tv®ue2
);

135 
¦i¡_ä“
(
SLi¡EÁry
 *
li¡
);

146 
SLi¡EÁry
 *
¦i¡_´•’d
(SLi¡EÁry **
li¡
, 
SLi¡V®ue
 
d©a
);

157 
SLi¡EÁry
 *
¦i¡_­³nd
(SLi¡EÁry **
li¡
, 
SLi¡V®ue
 
d©a
);

166 
SLi¡EÁry
 *
¦i¡_Ãxt
(SLi¡EÁry *
li¡’Œy
);

175 
SLi¡V®ue
 
¦i¡_d©a
(
SLi¡EÁry
 *
li¡’Œy
);

185 
SLi¡EÁry
 *
¦i¡_Áh_’Œy
(SLi¡EÁry *
li¡
, 
n
);

196 
SLi¡V®ue
 
¦i¡_Áh_d©a
(
SLi¡EÁry
 *
li¡
, 
n
);

205 
¦i¡_Ëngth
(
SLi¡EÁry
 *
li¡
);

217 
SLi¡V®ue
 *
¦i¡_to_¬¿y
(
SLi¡EÁry
 *
li¡
);

228 
¦i¡_»move_’Œy
(
SLi¡EÁry
 **
li¡
, SLi¡EÁry *
’Œy
);

240 
¦i¡_»move_d©a
(
SLi¡EÁry
 **
li¡
,

241 
SLi¡Equ®Func
 
ÿÎback
,

242 
SLi¡V®ue
 
d©a
);

251 
¦i¡_sÜt
(
SLi¡EÁry
 **
li¡
, 
SLi¡Com·»Func
 
com·»_func
);

265 
SLi¡EÁry
 *
¦i¡_fšd_d©a
(SLi¡EÁry *
li¡
,

266 
SLi¡Equ®Func
 
ÿÎback
,

267 
SLi¡V®ue
 
d©a
);

277 
¦i¡_™”©e
(
SLi¡EÁry
 **
li¡
, 
SLi¡I‹¿tÜ
 *
™”
);

288 
¦i¡_™”_has_mÜe
(
SLi¡I‹¿tÜ
 *
™”©Ü
);

298 
SLi¡V®ue
 
¦i¡_™”_Ãxt
(
SLi¡I‹¿tÜ
 *
™”©Ü
);

307 
¦i¡_™”_»move
(
SLi¡I‹¿tÜ
 *
™”©Ü
);

309 #ifdeà
__ılu¥lus


	@src/trie.c

23 
	~<¡dlib.h
>

24 
	~<¡ršg.h
>

26 
	~"Œ›.h
"

30 #ifdeà
ALLOC_TESTING


31 
	~"®loc-‹¡šg.h
"

34 
_Tr›Node
 
	tTr›Node
;

36 
	s_Tr›Node
 {

37 
Tr›V®ue
 
	md©a
;

38 
	mu£_couÁ
;

39 
Tr›Node
 *
	mÃxt
[256];

42 
	s_Tr›
 {

43 
Tr›Node
 *
	mroÙ_node
;

46 
Tr›
 *
	$Œ›_Ãw
()

48 
Tr›
 *
Ãw_Œ›
;

50 
Ãw_Œ›
 = (
Tr›
 *è
	`m®loc
((Trie));

52 ià(
Ãw_Œ›
 =ğ
NULL
) {

53  
NULL
;

56 
Ãw_Œ›
->
roÙ_node
 = 
NULL
;

58  
Ãw_Œ›
;

59 
	}
}

61 
	$Œ›_ä“_li¡_push
(
Tr›Node
 **
li¡
, Tr›Nod*
node
)

63 
node
->
d©a
 = *
li¡
;

64 *
li¡
 = 
node
;

65 
	}
}

67 
Tr›Node
 *
	$Œ›_ä“_li¡_pİ
(
Tr›Node
 **
li¡
)

69 
Tr›Node
 *
»suÉ
;

71 
»suÉ
 = *
li¡
;

72 *
li¡
 = 
»suÉ
->
d©a
;

74  
»suÉ
;

75 
	}
}

77 
	$Œ›_ä“
(
Tr›
 *
Œ›
)

79 
Tr›Node
 *
ä“_li¡
;

80 
Tr›Node
 *
node
;

81 
i
;

83 
ä“_li¡
 = 
NULL
;

87 ià(
Œ›
->
roÙ_node
 !ğ
NULL
) {

88 
	`Œ›_ä“_li¡_push
(&
ä“_li¡
, 
Œ›
->
roÙ_node
);

95 
ä“_li¡
 !ğ
NULL
) {

96 
node
 = 
	`Œ›_ä“_li¡_pİ
(&
ä“_li¡
);

100 
i
=0; i<256; ++i) {

101 ià(
node
->
Ãxt
[
i
] !ğ
NULL
) {

102 
	`Œ›_ä“_li¡_push
(&
ä“_li¡
, 
node
->
Ãxt
[
i
]);

108 
	`ä“
(
node
);

113 
	`ä“
(
Œ›
);

114 
	}
}

116 
Tr›Node
 *
	$Œ›_fšd_’d
(
Tr›
 *
Œ›
, *
key
)

118 
Tr›Node
 *
node
;

119 *
p
;

123 
node
 = 
Œ›
->
roÙ_node
;

125 
p
=
key
; *p != '\0'; ++p) {

127 ià(
node
 =ğ
NULL
) {

130  
NULL
;

135 
node
 =‚ode->
Ãxt
[(è*
p
];

140  
node
;

141 
	}
}

143 
Tr›Node
 *
	$Œ›_fšd_’d_bš¬y
(
Tr›
 *
Œ›
, *
key
,

144 
key_Ëngth
)

146 
Tr›Node
 *
node
;

147 
j
;

148 
c
;

152 
node
 = 
Œ›
->
roÙ_node
;

154 
j
=0; j<
key_Ëngth
; j++) {

156 ià(
node
 =ğ
NULL
) {

158  
NULL
;

161 
c
 = (è
key
[
j
];

165 
node
 =‚ode->
Ãxt
[
c
];

170  
node
;

171 
	}
}

175 
	$Œ›_š£¹_rŞlback
(
Tr›
 *
Œ›
, *
key
)

177 
Tr›Node
 *
node
;

178 
Tr›Node
 **
´ev_±r
;

179 
Tr›Node
 *
Ãxt_node
;

180 
Tr›Node
 **
Ãxt_´ev_±r
;

181 *
p
;

188 
node
 = 
Œ›
->
roÙ_node
;

189 
´ev_±r
 = &
Œ›
->
roÙ_node
;

190 
p
 = 
key
;

192 
node
 !ğ
NULL
) {

196 
Ãxt_´ev_±r
 = &
node
->
Ãxt
[(è*
p
];

197 
Ãxt_node
 = *
Ãxt_´ev_±r
;

198 ++
p
;

203 --
node
->
u£_couÁ
;

205 ià(
node
->
u£_couÁ
 == 0) {

206 
	`ä“
(
node
);

208 ià(
´ev_±r
 !ğ
NULL
) {

209 *
´ev_±r
 = 
NULL
;

212 
Ãxt_´ev_±r
 = 
NULL
;

217 
node
 = 
Ãxt_node
;

218 
´ev_±r
 = 
Ãxt_´ev_±r
;

220 
	}
}

222 
	$Œ›_š£¹
(
Tr›
 *
Œ›
, *
key
, 
Tr›V®ue
 
v®ue
)

224 
Tr›Node
 **
rov”
;

225 
Tr›Node
 *
node
;

226 *
p
;

227 
c
;

231 ià(
v®ue
 =ğ
TRIE_NULL
) {

237 
node
 = 
	`Œ›_fšd_’d
(
Œ›
, 
key
);

242 ià(
node
 !ğ
NULL
 &&‚ode->
d©a
 !ğ
TRIE_NULL
) {

243 
node
->
d©a
 = 
v®ue
;

250 
rov”
 = &
Œ›
->
roÙ_node
;

251 
p
 = 
key
;

255 
node
 = *
rov”
;

257 ià(
node
 =ğ
NULL
) {

261 
node
 = (
Tr›Node
 *è
	`ÿÎoc
(1, (TrieNode));

263 ià(
node
 =ğ
NULL
) {

268 
	`Œ›_š£¹_rŞlback
(
Œ›
, (*è
key
);

273 
node
->
d©a
 = 
TRIE_NULL
;

277 *
rov”
 = 
node
;

282 ++
node
->
u£_couÁ
;

286 
c
 = (è*
p
;

290 ià(
c
 == '\0') {

294 
node
->
d©a
 = 
v®ue
;

301 
rov”
 = &
node
->
Ãxt
[
c
];

302 ++
p
;

306 
	}
}

309 
	$Œ›_š£¹_bš¬y
(
Tr›
 *
Œ›
, *
key
, 
key_Ëngth
,

310 
Tr›V®ue
 
v®ue
)

312 
Tr›Node
 **
rov”
;

313 
Tr›Node
 *
node
;

314 
p
,
c
;

318 ià(
v®ue
 =ğ
TRIE_NULL
) {

324 
node
 = 
	`Œ›_fšd_’d_bš¬y
(
Œ›
, 
key
, 
key_Ëngth
);

329 ià(
node
 !ğ
NULL
 &&‚ode->
d©a
 !ğ
TRIE_NULL
) {

330 
node
->
d©a
 = 
v®ue
;

337 
rov”
 = &
Œ›
->
roÙ_node
;

338 
p
 = 0;

342 
node
 = *
rov”
;

344 ià(
node
 =ğ
NULL
) {

348 
node
 = (
Tr›Node
 *è
	`ÿÎoc
(1, (TrieNode));

350 ià(
node
 =ğ
NULL
) {

355 
	`Œ›_š£¹_rŞlback
(
Œ›
, 
key
);

360 
node
->
d©a
 = 
TRIE_NULL
;

364 *
rov”
 = 
node
;

369 ++
node
->
u£_couÁ
;

373 
c
 = (è
key
[
p
];

377 ià(
p
 =ğ
key_Ëngth
) {

381 
node
->
d©a
 = 
v®ue
;

388 
rov”
 = &
node
->
Ãxt
[
c
];

389 ++
p
;

393 
	}
}

395 
	$Œ›_»move_bš¬y
(
Tr›
 *
Œ›
, *
key
, 
key_Ëngth
)

397 
Tr›Node
 *
node
;

398 
Tr›Node
 *
Ãxt
;

399 
Tr›Node
 **
Ï¡_Ãxt_±r
;

400 
p
, 
c
;

404 
node
 = 
	`Œ›_fšd_’d_bš¬y
(
Œ›
, 
key
, 
key_Ëngth
);

406 ià(
node
 !ğ
NULL
 &&‚ode->
d©a
 !ğ
TRIE_NULL
) {

407 
node
->
d©a
 = 
TRIE_NULL
;

415 
node
 = 
Œ›
->
roÙ_node
;

416 
Ï¡_Ãxt_±r
 = &
Œ›
->
roÙ_node
;

417 
p
 = 0;

422 
c
 = (è
key
[
p
];

423 
Ãxt
 = 
node
->Ãxt[
c
];

427 --
node
->
u£_couÁ
;

429 ià(
node
->
u£_couÁ
 <= 0) {

430 
	`ä“
(
node
);

438 ià(
Ï¡_Ãxt_±r
 !ğ
NULL
) {

439 *
Ï¡_Ãxt_±r
 = 
NULL
;

440 
Ï¡_Ãxt_±r
 = 
NULL
;

445 ià(
p
 =ğ
key_Ëngth
) {

448 ++
p
;

455 ià(
Ï¡_Ãxt_±r
 !ğ
NULL
) {

456 
Ï¡_Ãxt_±r
 = &
node
->
Ãxt
[
c
];

461 
node
 = 
Ãxt
;

467 
	}
}

469 
	$Œ›_»move
(
Tr›
 *
Œ›
, *
key
)

471 
Tr›Node
 *
node
;

472 
Tr›Node
 *
Ãxt
;

473 
Tr›Node
 **
Ï¡_Ãxt_±r
;

474 *
p
;

475 
c
;

479 
node
 = 
	`Œ›_fšd_’d
(
Œ›
, 
key
);

481 ià(
node
 !ğ
NULL
 &&‚ode->
d©a
 !ğ
TRIE_NULL
) {

482 
node
->
d©a
 = 
TRIE_NULL
;

490 
node
 = 
Œ›
->
roÙ_node
;

491 
Ï¡_Ãxt_±r
 = &
Œ›
->
roÙ_node
;

492 
p
 = 
key
;

498 
c
 = (è*
p
;

499 
Ãxt
 = 
node
->Ãxt[
c
];

503 --
node
->
u£_couÁ
;

505 ià(
node
->
u£_couÁ
 <= 0) {

506 
	`ä“
(
node
);

514 ià(
Ï¡_Ãxt_±r
 !ğ
NULL
) {

515 *
Ï¡_Ãxt_±r
 = 
NULL
;

516 
Ï¡_Ãxt_±r
 = 
NULL
;

522 ià(
c
 == '\0') {

525 ++
p
;

532 ià(
Ï¡_Ãxt_±r
 !ğ
NULL
) {

533 
Ï¡_Ãxt_±r
 = &
node
->
Ãxt
[
c
];

538 
node
 = 
Ãxt
;

544 
	}
}

546 
Tr›V®ue
 
	$Œ›_lookup
(
Tr›
 *
Œ›
, *
key
)

548 
Tr›Node
 *
node
;

550 
node
 = 
	`Œ›_fšd_’d
(
Œ›
, 
key
);

552 ià(
node
 !ğ
NULL
) {

553  
node
->
d©a
;

555  
TRIE_NULL
;

557 
	}
}

559 
Tr›V®ue
 
	$Œ›_lookup_bš¬y
(
Tr›
 *
Œ›
, *
key
, 
key_Ëngth
)

561 
Tr›Node
 *
node
;

563 
node
 = 
	`Œ›_fšd_’d_bš¬y
(
Œ›
, 
key
, 
key_Ëngth
);

565 ià(
node
 !ğ
NULL
) {

566  
node
->
d©a
;

568  
TRIE_NULL
;

570 
	}
}

572 
	$Œ›_num_’Œ›s
(
Tr›
 *
Œ›
)

577 ià(
Œ›
->
roÙ_node
 =ğ
NULL
) {

580  
Œ›
->
roÙ_node
->
u£_couÁ
;

582 
	}
}

	@src/trie.h

40 #iâdeà
ALGORITHM_TRIE_H


41 
	#ALGORITHM_TRIE_H


	)

43 #ifdeà
__ılu¥lus


51 
_Tr›
 
	tTr›
;

57 *
	tTr›V®ue
;

63 
	#TRIE_NULL
 ((*è0)

	)

73 
Tr›
 *
Œ›_Ãw
();

81 
Œ›_ä“
(
Tr›
 *
Œ›
);

95 
Œ›_š£¹
(
Tr›
 *
Œ›
, *
key
, 
Tr›V®ue
 
v®ue
);

110 
Œ›_š£¹_bš¬y
(
Tr›
 *
Œ›
, *
key
,

111 
key_Ëngth
, 
Tr›V®ue
 
v®ue
);

124 
Tr›V®ue
 
Œ›_lookup
(
Tr›
 *
Œ›
, *
key
);

138 
Tr›V®ue
 
Œ›_lookup_bš¬y
(
Tr›
 *
Œ›
, *
key
, 
key_Ëngth
);

151 
Œ›_»move
(
Tr›
 *
Œ›
, *
key
);

165 
Œ›_»move_bš¬y
(
Tr›
 *
Œ›
, *
key
, 
key_Ëngth
);

174 
Œ›_num_’Œ›s
(
Tr›
 *
Œ›
);

176 #ifdeà
__ılu¥lus


	@test/alloc-testing.c

21 
	~<¡dio.h
>

22 
	~<¡dlib.h
>

23 
	~<¡ršg.h
>

25 
	~<as£¹.h
>

27 
	#ALLOC_TESTING_C


	)

29 
	~"®loc-‹¡šg.h
"

33 
	#ALLOC_TEST_MAGIC
 0x72ec82d2

	)

39 
	#MALLOC_PATTERN
 0xBAADF00D

	)

44 
	#FREE_PATTERN
 0xDEADBEEF

	)

51 
_BlockH—d”
 
	tBlockH—d”
;

53 
	s_BlockH—d”
 {

54 
	mmagic_numb”
;

55 
size_t
 
	mby‹s
;

60 
size_t
 
	g®loÿ‹d_by‹s
 = 0;

66 sigÃd 
	g®loÿtiÚ_lim™
 = -1;

70 
BlockH—d”
 *
	$®loc_‹¡_g‘_h—d”
(*
±r
)

72 
BlockH—d”
 *
»suÉ
;

76 
»suÉ
 = ((
BlockH—d”
 *è
±r
) - 1;

78 
	`as£¹
(
»suÉ
->
magic_numb”
 =ğ
ALLOC_TEST_MAGIC
);

80  
»suÉ
;

81 
	}
}

85 
	$®loc_‹¡_ov”wr™e
(*
±r
, 
size_t
 
Ëngth
, 
·‰”n
)

87 *
by‹_±r
;

88 
·‰”n_£q
;

89 
b
;

90 
size_t
 
i
;

92 
by‹_±r
 = 
±r
;

94 
i
=0; i<
Ëngth
; ++i) {

95 
·‰”n_£q
 = (è(
i
 & 3);

96 
b
 = (è((
·‰”n
 >> (8 * 
·‰”n_£q
)) & 0xff);

97 
by‹_±r
[
i
] = 
b
;

99 
	}
}

103 *
	$®loc_‹¡_m®loc
(
size_t
 
by‹s
)

105 
BlockH—d”
 *
h—d”
;

106 *
±r
;

110 ià(
®loÿtiÚ_lim™
 == 0) {

111  
NULL
;

117 
h—d”
 = 
	`m®loc
((
BlockH—d”
è+ 
by‹s
);

119 ià(
h—d”
 =ğ
NULL
) {

120  
NULL
;

123 
h—d”
->
magic_numb”
 = 
ALLOC_TEST_MAGIC
;

124 
h—d”
->
by‹s
 = bytes;

129 
±r
 = 
h—d”
 + 1;

130 
	`®loc_‹¡_ov”wr™e
(
±r
, 
by‹s
, 
MALLOC_PATTERN
);

134 
®loÿ‹d_by‹s
 +ğ
by‹s
;

138 ià(
®loÿtiÚ_lim™
 > 0) {

139 --
®loÿtiÚ_lim™
;

144  
h—d”
 + 1;

145 
	}
}

149 
	$®loc_‹¡_ä“
(*
±r
)

151 
BlockH—d”
 *
h—d”
;

152 
size_t
 
block_size
;

156 ià(
±r
 =ğ
NULL
) {

162 
h—d”
 = 
	`®loc_‹¡_g‘_h—d”
(
±r
);

163 
block_size
 = 
h—d”
->
by‹s
;

164 
	`as£¹
(
®loÿ‹d_by‹s
 >ğ
block_size
);

169 
	`®loc_‹¡_ov”wr™e
(
±r
, 
h—d”
->
by‹s
, 
FREE_PATTERN
);

174 
h—d”
->
magic_numb”
 = 0;

178 
	`ä“
(
h—d”
);

182 
®loÿ‹d_by‹s
 -ğ
block_size
;

183 
	}
}

185 *
	$®loc_‹¡_»®loc
(*
±r
, 
size_t
 
by‹s
)

187 
BlockH—d”
 *
h—d”
;

188 *
Ãw_±r
;

189 
size_t
 
by‹s_to_cİy
;

193 
Ãw_±r
 = 
	`®loc_‹¡_m®loc
(
by‹s
);

195 ià(
Ãw_±r
 =ğ
NULL
) {

196  
NULL
;

201 ià(
±r
 !ğ
NULL
) {

202 
h—d”
 = 
	`®loc_‹¡_g‘_h—d”
(
±r
);

204 
by‹s_to_cİy
 = 
h—d”
->
by‹s
;

206 ià(
by‹s_to_cİy
 > 
by‹s
) {

207 
by‹s_to_cİy
 = 
by‹s
;

210 
	`memıy
(
Ãw_±r
, 
±r
, 
by‹s_to_cİy
);

212 
	`®loc_‹¡_ä“
(
±r
);

215  
Ãw_±r
;

216 
	}
}

218 *
	$®loc_‹¡_ÿÎoc
(
size_t
 
nmemb
, size_ˆ
by‹s
)

220 *
»suÉ
;

221 
size_t
 
tÙ®_by‹s
 = 
nmemb
 * 
by‹s
;

225 
»suÉ
 = 
	`®loc_‹¡_m®loc
(
tÙ®_by‹s
);

227 ià(
»suÉ
 =ğ
NULL
) {

228  
NULL
;

233 
	`mem£t
(
»suÉ
, 0, 
tÙ®_by‹s
);

235  
»suÉ
;

236 
	}
}

238 *
	$®loc_‹¡_¡rdup
(cÚ¡ *
¡ršg
)

240 *
»suÉ
;

242 
»suÉ
 = 
	`®loc_‹¡_m®loc
(
	`¡¾’
(
¡ršg
) + 1);

244 ià(
»suÉ
 =ğ
NULL
) {

245  
NULL
;

248 
	`¡rıy
(
»suÉ
, 
¡ršg
);

250  
»suÉ
;

251 
	}
}

253 
	$®loc_‹¡_£t_lim™
(sigÃd 
®loc_couÁ
)

255 
®loÿtiÚ_lim™
 = 
®loc_couÁ
;

256 
	}
}

258 
size_t
 
	$®loc_‹¡_g‘_®loÿ‹d
()

260  
®loÿ‹d_by‹s
;

261 
	}
}

	@test/alloc-testing.h

33 #iâdeà
ALLOC_TESTING_H


34 
	#ALLOC_TESTING_H


	)

39 #iâdeà
ALLOC_TESTING_C


40 #undeà
m®loc


41 
	#m®loc
 
®loc_‹¡_m®loc


	)

42 #undeà
ä“


43 
	#ä“
 
®loc_‹¡_ä“


	)

44 #undeà
»®loc


45 
	#»®loc
 
®loc_‹¡_»®loc


	)

46 #undeà
ÿÎoc


47 
	#ÿÎoc
 
®loc_‹¡_ÿÎoc


	)

48 #undeà
¡rdup


49 
	#¡rdup
 
®loc_‹¡_¡rdup


	)

60 *
®loc_‹¡_m®loc
(
size_t
 
by‹s
);

68 
®loc_‹¡_ä“
(*
±r
);

80 *
®loc_‹¡_»®loc
(*
±r
, 
size_t
 
by‹s
);

93 *
®loc_‹¡_ÿÎoc
(
size_t
 
nmemb
, size_ˆ
by‹s
);

104 *
®loc_‹¡_¡rdup
(cÚ¡ *
¡ršg
);

118 
®loc_‹¡_£t_lim™
(sigÃd 
®loc_couÁ
);

127 
size_t
 
®loc_‹¡_g‘_®loÿ‹d
();

	@test/framework.c

21 
	~<¡dio.h
>

22 
	~<¡dlib.h
>

24 
	~<as£¹.h
>

26 
	~"®loc-‹¡šg.h
"

27 
	~"äamewÜk.h
"

31 
	$run_‹¡
(
Un™Te¡FunùiÚ
 
‹¡
)

36 
	`®loc_‹¡_£t_lim™
(-1);

40 
	`‹¡
();

45 
	`as£¹
(
	`®loc_‹¡_g‘_®loÿ‹d
() == 0);

46 
	}
}

48 
	$run_‹¡s
(
Un™Te¡FunùiÚ
 *
‹¡s
)

50 
i
;

52 
i
=0; 
‹¡s
[i] !ğ
NULL
; ++i) {

53 
	`run_‹¡
(
‹¡s
[
i
]);

55 
	}
}

	@test/framework.h

21 #iâdeà
TEST_FRAMEWORK_H


22 
	#TEST_FRAMEWORK_H


	)

24 #ifdeà
__ılu¥lus


38 (*
Un™Te¡FunùiÚ
)();

48 
run_‹¡s
(
Un™Te¡FunùiÚ
 *
‹¡s
);

50 #ifdeà
__ılu¥lus


	@test/test-alloc-testing.c

24 
	~<¡dio.h
>

25 
	~<as£¹.h
>

26 
	~<¡ršg.h
>

28 
	~"®loc-‹¡šg.h
"

29 
	~"äamewÜk.h
"

31 
	$‹¡_m®loc_ä“
()

33 *
block
, *
block2
, *
block3
, *
block4
;

34 *
±r
;

35 
i
;

39 
	`as£¹
(
	`®loc_‹¡_g‘_®loÿ‹d
() == 0);

41 
block
 = 
	`m®loc
(1024);

43 
	`as£¹
(
block
 !ğ
NULL
);

44 
	`as£¹
(
	`®loc_‹¡_g‘_®loÿ‹d
() == 1024);

48 
±r
 = 
block
;

50 
i
=0; i<1024; ++i) {

51 
	`as£¹
(
±r
[
i
] != 0);

56 
	`ä“
(
block
);

58 
	`as£¹
(
	`®loc_‹¡_g‘_®loÿ‹d
() == 0);

62 
	`®loc_‹¡_£t_lim™
(3);

64 
block
 = 
	`m®loc
(1024);

65 
	`as£¹
(
block
 !ğ
NULL
);

66 
block2
 = 
	`m®loc
(1024);

67 
	`as£¹
(
block2
 !ğ
NULL
);

68 
block3
 = 
	`m®loc
(1024);

69 
	`as£¹
(
block3
 !ğ
NULL
);

70 
block4
 = 
	`m®loc
(1024);

71 
	`as£¹
(
block4
 =ğ
NULL
);

72 
	`ä“
(
block
);

73 
	`ä“
(
block2
);

74 
	`ä“
(
block3
);

75 
	`ä“
(
block4
);

76 
	}
}

78 
	$‹¡_»®loc
()

80 *
block
;

81 *
block2
;

85 
block2
 = 
	`m®loc
(1024);

89 
block
 = 
	`m®loc
(1024);

91 
	`as£¹
(
block
 !ğ
NULL
);

92 
	`as£¹
(
	`®loc_‹¡_g‘_®loÿ‹d
() == 1024 + 1024);

96 
block
 = 
	`»®loc
(block, 2048);

97 
	`as£¹
(
block
 !ğ
NULL
);

99 
	`as£¹
(
	`®loc_‹¡_g‘_®loÿ‹d
() == 2048 + 1024);

103 
block
 = 
	`»®loc
(block, 1500);

104 
	`as£¹
(
block
 !ğ
NULL
);

106 
	`as£¹
(
	`®loc_‹¡_g‘_®loÿ‹d
() == 1500 + 1024);

108 
	`ä“
(
block
);

110 
	`as£¹
(
	`®loc_‹¡_g‘_®loÿ‹d
() == 0 + 1024);

114 
block
 = 
	`»®loc
(
NULL
, 1024);

116 
	`as£¹
(
block
 !ğ
NULL
);

118 
	`as£¹
(
	`®loc_‹¡_g‘_®loÿ‹d
() == 1024 + 1024);

120 
	`ä“
(
block
);

121 
	`ä“
(
block2
);

123 
	`as£¹
(
	`®loc_‹¡_g‘_®loÿ‹d
() == 0);

127 
block
 = 
	`m®loc
(512);

128 
	`as£¹
(
block
 !ğ
NULL
);

129 
	`as£¹
(
	`®loc_‹¡_g‘_®loÿ‹d
() == 512);

131 
	`®loc_‹¡_£t_lim™
(1);

133 
block
 = 
	`»®loc
(block, 1024);

134 
	`as£¹
(
block
 !ğ
NULL
);

135 
	`as£¹
(
	`®loc_‹¡_g‘_®loÿ‹d
() == 1024);

137 
	`as£¹
(
	`»®loc
(
block
, 2048è=ğ
NULL
);

138 
	`as£¹
(
	`®loc_‹¡_g‘_®loÿ‹d
() == 1024);

140 
	`ä“
(
block
);

141 
	`as£¹
(
	`®loc_‹¡_g‘_®loÿ‹d
() == 0);

145 
	`®loc_‹¡_£t_lim™
(1);

147 
block
 = 
	`»®loc
(
NULL
, 1024);

148 
	`as£¹
(
block
 !ğ
NULL
);

149 
	`as£¹
(
	`®loc_‹¡_g‘_®loÿ‹d
() == 1024);

151 
	`as£¹
(
	`»®loc
(
NULL
, 1024) == NULL);

152 
	`as£¹
(
	`®loc_‹¡_g‘_®loÿ‹d
() == 1024);

154 
	`ä“
(
block
);

155 
	}
}

157 
	$‹¡_ÿÎoc
()

159 *
block
;

160 
i
;

162 
	`as£¹
(
	`®loc_‹¡_g‘_®loÿ‹d
() == 0);

166 
block
 = 
	`ÿÎoc
(16, 64);

168 
	`as£¹
(
	`®loc_‹¡_g‘_®loÿ‹d
() == 1024);

170 
	`as£¹
(
block
 !ğ
NULL
);

174 
i
=0; i<1024; ++i) {

175 
	`as£¹
(
block
[
i
] == 0);

178 
	`ä“
(
block
);

180 
	`as£¹
(
	`®loc_‹¡_g‘_®loÿ‹d
() == 0);

184 
	`®loc_‹¡_£t_lim™
(1);

186 
block
 = 
	`ÿÎoc
(1024, 1);

187 
	`as£¹
(
block
 !ğ
NULL
);

188 
	`as£¹
(
	`®loc_‹¡_g‘_®loÿ‹d
() == 1024);

190 
	`as£¹
(
	`ÿÎoc
(1024, 1è=ğ
NULL
);

191 
	`as£¹
(
	`®loc_‹¡_g‘_®loÿ‹d
() == 1024);

193 
	`ä“
(
block
);

194 
	}
}

196 
	$‹¡_¡rdup
()

198 *
¡r
;

200 
	`as£¹
(
	`®loc_‹¡_g‘_®loÿ‹d
() == 0);

204 
¡r
 = 
	`¡rdup
("hello world");

206 
	`as£¹
(
¡r
 !ğ
NULL
);

207 
	`as£¹
(
	`¡rcmp
(
¡r
, "hello world") == 0);

209 
	`as£¹
(
	`®loc_‹¡_g‘_®loÿ‹d
() == 12);

211 
	`ä“
(
¡r
);

213 
	`as£¹
(
	`®loc_‹¡_g‘_®loÿ‹d
() == 0);

217 
	`®loc_‹¡_£t_lim™
(1);

219 
¡r
 = 
	`¡rdup
("hello world");

220 
	`as£¹
(
¡r
 !ğ
NULL
);

221 
	`as£¹
(
	`®loc_‹¡_g‘_®loÿ‹d
() == 12);

223 
	`as£¹
(
	`¡rdup
("h–lØwÜld"è=ğ
NULL
);

224 
	`as£¹
(
	`®loc_‹¡_g‘_®loÿ‹d
() == 12);

226 
	`ä“
(
¡r
);

227 
	}
}

229 
	$‹¡_lim™s
()

231 *
block
;

235 
block
 = 
	`m®loc
(2048);

236 
	`as£¹
(
block
 !ğ
NULL
);

237 
	`ä“
(
block
);

241 
	`®loc_‹¡_£t_lim™
(1);

242 
block
 = 
	`m®loc
(1024);

243 
	`as£¹
(
block
 !ğ
NULL
);

244 
	`as£¹
(
	`m®loc
(1024è=ğ
NULL
);

245 
	`ä“
(
block
);

249 
	`®loc_‹¡_£t_lim™
(-1);

250 
block
 = 
	`m®loc
(1024);

251 
	`as£¹
(
block
 !ğ
NULL
);

252 
	`ä“
(
block
);

253 
	}
}

255 
Un™Te¡FunùiÚ
 
	g‹¡s
[] = {

256 
‹¡_m®loc_ä“
,

257 
‹¡_»®loc
,

258 
‹¡_ÿÎoc
,

259 
‹¡_¡rdup
,

260 
‹¡_lim™s
,

261 
NULL


264 
	$maš
(
¬gc
, *
¬gv
[])

266 
	`run_‹¡s
(
‹¡s
);

269 
	}
}

	@test/test-arraylist.c

23 
	~<¡dio.h
>

24 
	~<¡dlib.h
>

25 
	~<as£¹.h
>

27 
	~"®loc-‹¡šg.h
"

28 
	~"äamewÜk.h
"

30 
	~"¬¿yli¡.h
"

31 
	~"com·»-št.h
"

33 
	gv¬ŸbË1
, 
	gv¬ŸbË2
, 
	gv¬ŸbË3
, 
	gv¬ŸbË4
;

35 
A¼ayLi¡
 *
	$g’”©e_¬¿yli¡
()

37 
A¼ayLi¡
 *
¬¿yli¡
;

38 
i
;

40 
¬¿yli¡
 = 
	`¬¿yli¡_Ãw
(0);

42 
i
=0; i<4; ++i) {

43 
	`¬¿yli¡_­³nd
(
¬¿yli¡
, &
v¬ŸbË1
);

44 
	`¬¿yli¡_­³nd
(
¬¿yli¡
, &
v¬ŸbË2
);

45 
	`¬¿yli¡_­³nd
(
¬¿yli¡
, &
v¬ŸbË3
);

46 
	`¬¿yli¡_­³nd
(
¬¿yli¡
, &
v¬ŸbË4
);

49  
¬¿yli¡
;

50 
	}
}

52 
	$‹¡_¬¿yli¡_Ãw_ä“
()

54 
A¼ayLi¡
 *
¬¿yli¡
;

58 
¬¿yli¡
 = 
	`¬¿yli¡_Ãw
(0);

59 
	`as£¹
(
¬¿yli¡
 !ğ
NULL
);

60 
	`¬¿yli¡_ä“
(
¬¿yli¡
);

64 
¬¿yli¡
 = 
	`¬¿yli¡_Ãw
(10);

65 
	`as£¹
(
¬¿yli¡
 !ğ
NULL
);

66 
	`¬¿yli¡_ä“
(
¬¿yli¡
);

70 
	`¬¿yli¡_ä“
(
NULL
);

74 
	`®loc_‹¡_£t_lim™
(0);

75 
¬¿yli¡
 = 
	`¬¿yli¡_Ãw
(0);

76 
	`as£¹
(
¬¿yli¡
 =ğ
NULL
);

78 
	`®loc_‹¡_£t_lim™
(1);

79 
¬¿yli¡
 = 
	`¬¿yli¡_Ãw
(100);

80 
	`as£¹
(
¬¿yli¡
 =ğ
NULL
);

81 
	}
}

83 
	$‹¡_¬¿yli¡_­³nd
()

85 
A¼ayLi¡
 *
¬¿yli¡
;

86 
i
;

88 
¬¿yli¡
 = 
	`¬¿yli¡_Ãw
(0);

90 
	`as£¹
(
¬¿yli¡
->
Ëngth
 == 0);

94 
	`as£¹
(
	`¬¿yli¡_­³nd
(
¬¿yli¡
, &
v¬ŸbË1
) != 0);

95 
	`as£¹
(
¬¿yli¡
->
Ëngth
 == 1);

97 
	`as£¹
(
	`¬¿yli¡_­³nd
(
¬¿yli¡
, &
v¬ŸbË2
) != 0);

98 
	`as£¹
(
¬¿yli¡
->
Ëngth
 == 2);

100 
	`as£¹
(
	`¬¿yli¡_­³nd
(
¬¿yli¡
, &
v¬ŸbË3
) != 0);

101 
	`as£¹
(
¬¿yli¡
->
Ëngth
 == 3);

103 
	`as£¹
(
	`¬¿yli¡_­³nd
(
¬¿yli¡
, &
v¬ŸbË4
) != 0);

104 
	`as£¹
(
¬¿yli¡
->
Ëngth
 == 4);

106 
	`as£¹
(
¬¿yli¡
->
d©a
[0] =ğ&
v¬ŸbË1
);

107 
	`as£¹
(
¬¿yli¡
->
d©a
[1] =ğ&
v¬ŸbË2
);

108 
	`as£¹
(
¬¿yli¡
->
d©a
[2] =ğ&
v¬ŸbË3
);

109 
	`as£¹
(
¬¿yli¡
->
d©a
[3] =ğ&
v¬ŸbË4
);

113 
i
=0; i<10000; ++i) {

114 
	`as£¹
(
	`¬¿yli¡_­³nd
(
¬¿yli¡
, 
NULL
) != 0);

117 
	`¬¿yli¡_ä“
(
¬¿yli¡
);

121 
¬¿yli¡
 = 
	`¬¿yli¡_Ãw
(100);

123 
	`®loc_‹¡_£t_lim™
(0);

125 
i
=0; i<100; ++i) {

126 
	`as£¹
(
	`¬¿yli¡_­³nd
(
¬¿yli¡
, 
NULL
) != 0);

129 
	`as£¹
(
¬¿yli¡
->
Ëngth
 == 100);

130 
	`as£¹
(
	`¬¿yli¡_­³nd
(
¬¿yli¡
, 
NULL
) == 0);

131 
	`as£¹
(
¬¿yli¡
->
Ëngth
 == 100);

133 
	`¬¿yli¡_ä“
(
¬¿yli¡
);

134 
	}
}

137 
	$‹¡_¬¿yli¡_´•’d
()

139 
A¼ayLi¡
 *
¬¿yli¡
;

140 
i
;

142 
¬¿yli¡
 = 
	`¬¿yli¡_Ãw
(0);

144 
	`as£¹
(
¬¿yli¡
->
Ëngth
 == 0);

148 
	`as£¹
(
	`¬¿yli¡_´•’d
(
¬¿yli¡
, &
v¬ŸbË1
) != 0);

149 
	`as£¹
(
¬¿yli¡
->
Ëngth
 == 1);

151 
	`as£¹
(
	`¬¿yli¡_´•’d
(
¬¿yli¡
, &
v¬ŸbË2
) != 0);

152 
	`as£¹
(
¬¿yli¡
->
Ëngth
 == 2);

154 
	`as£¹
(
	`¬¿yli¡_´•’d
(
¬¿yli¡
, &
v¬ŸbË3
) != 0);

155 
	`as£¹
(
¬¿yli¡
->
Ëngth
 == 3);

157 
	`as£¹
(
	`¬¿yli¡_´•’d
(
¬¿yli¡
, &
v¬ŸbË4
) != 0);

158 
	`as£¹
(
¬¿yli¡
->
Ëngth
 == 4);

160 
	`as£¹
(
¬¿yli¡
->
d©a
[0] =ğ&
v¬ŸbË4
);

161 
	`as£¹
(
¬¿yli¡
->
d©a
[1] =ğ&
v¬ŸbË3
);

162 
	`as£¹
(
¬¿yli¡
->
d©a
[2] =ğ&
v¬ŸbË2
);

163 
	`as£¹
(
¬¿yli¡
->
d©a
[3] =ğ&
v¬ŸbË1
);

167 
i
=0; i<10000; ++i) {

168 
	`as£¹
(
	`¬¿yli¡_´•’d
(
¬¿yli¡
, 
NULL
) != 0);

171 
	`¬¿yli¡_ä“
(
¬¿yli¡
);

175 
¬¿yli¡
 = 
	`¬¿yli¡_Ãw
(100);

177 
	`®loc_‹¡_£t_lim™
(0);

179 
i
=0; i<100; ++i) {

180 
	`as£¹
(
	`¬¿yli¡_´•’d
(
¬¿yli¡
, 
NULL
) != 0);

183 
	`as£¹
(
¬¿yli¡
->
Ëngth
 == 100);

184 
	`as£¹
(
	`¬¿yli¡_´•’d
(
¬¿yli¡
, 
NULL
) == 0);

185 
	`as£¹
(
¬¿yli¡
->
Ëngth
 == 100);

187 
	`¬¿yli¡_ä“
(
¬¿yli¡
);

188 
	}
}

190 
	$‹¡_¬¿yli¡_š£¹
()

192 
A¼ayLi¡
 *
¬¿yli¡
;

193 
i
;

195 
¬¿yli¡
 = 
	`g’”©e_¬¿yli¡
();

199 
	`as£¹
(
¬¿yli¡
->
Ëngth
 == 16);

200 
	`as£¹
(
	`¬¿yli¡_š£¹
(
¬¿yli¡
, 17, &
v¬ŸbË1
) == 0);

201 
	`as£¹
(
¬¿yli¡
->
Ëngth
 == 16);

205 
	`as£¹
(
¬¿yli¡
->
Ëngth
 == 16);

206 
	`as£¹
(
¬¿yli¡
->
d©a
[4] =ğ&
v¬ŸbË1
);

207 
	`as£¹
(
¬¿yli¡
->
d©a
[5] =ğ&
v¬ŸbË2
);

208 
	`as£¹
(
¬¿yli¡
->
d©a
[6] =ğ&
v¬ŸbË3
);

210 
	`as£¹
(
	`¬¿yli¡_š£¹
(
¬¿yli¡
, 5, &
v¬ŸbË4
) != 0);

212 
	`as£¹
(
¬¿yli¡
->
Ëngth
 == 17);

213 
	`as£¹
(
¬¿yli¡
->
d©a
[4] =ğ&
v¬ŸbË1
);

214 
	`as£¹
(
¬¿yli¡
->
d©a
[5] =ğ&
v¬ŸbË4
);

215 
	`as£¹
(
¬¿yli¡
->
d©a
[6] =ğ&
v¬ŸbË2
);

216 
	`as£¹
(
¬¿yli¡
->
d©a
[7] =ğ&
v¬ŸbË3
);

220 
	`as£¹
(
¬¿yli¡
->
d©a
[0] =ğ&
v¬ŸbË1
);

221 
	`as£¹
(
¬¿yli¡
->
d©a
[1] =ğ&
v¬ŸbË2
);

222 
	`as£¹
(
¬¿yli¡
->
d©a
[2] =ğ&
v¬ŸbË3
);

224 
	`as£¹
(
	`¬¿yli¡_š£¹
(
¬¿yli¡
, 0, &
v¬ŸbË4
) != 0);

226 
	`as£¹
(
¬¿yli¡
->
Ëngth
 == 18);

227 
	`as£¹
(
¬¿yli¡
->
d©a
[0] =ğ&
v¬ŸbË4
);

228 
	`as£¹
(
¬¿yli¡
->
d©a
[1] =ğ&
v¬ŸbË1
);

229 
	`as£¹
(
¬¿yli¡
->
d©a
[2] =ğ&
v¬ŸbË2
);

230 
	`as£¹
(
¬¿yli¡
->
d©a
[3] =ğ&
v¬ŸbË3
);

234 
	`as£¹
(
¬¿yli¡
->
d©a
[15] =ğ&
v¬ŸbË2
);

235 
	`as£¹
(
¬¿yli¡
->
d©a
[16] =ğ&
v¬ŸbË3
);

236 
	`as£¹
(
¬¿yli¡
->
d©a
[17] =ğ&
v¬ŸbË4
);

238 
	`as£¹
(
	`¬¿yli¡_š£¹
(
¬¿yli¡
, 18, &
v¬ŸbË1
) != 0);

240 
	`as£¹
(
¬¿yli¡
->
Ëngth
 == 19);

241 
	`as£¹
(
¬¿yli¡
->
d©a
[15] =ğ&
v¬ŸbË2
);

242 
	`as£¹
(
¬¿yli¡
->
d©a
[16] =ğ&
v¬ŸbË3
);

243 
	`as£¹
(
¬¿yli¡
->
d©a
[17] =ğ&
v¬ŸbË4
);

244 
	`as£¹
(
¬¿yli¡
->
d©a
[18] =ğ&
v¬ŸbË1
);

248 
i
=0; i<10000; ++i) {

249 
	`¬¿yli¡_š£¹
(
¬¿yli¡
, 10, &
v¬ŸbË1
);

252 
	`¬¿yli¡_ä“
(
¬¿yli¡
);

253 
	}
}

255 
	$‹¡_¬¿yli¡_»move_¿nge
()

257 
A¼ayLi¡
 *
¬¿yli¡
;

259 
¬¿yli¡
 = 
	`g’”©e_¬¿yli¡
();

261 
	`as£¹
(
¬¿yli¡
->
Ëngth
 == 16);

262 
	`as£¹
(
¬¿yli¡
->
d©a
[3] =ğ&
v¬ŸbË4
);

263 
	`as£¹
(
¬¿yli¡
->
d©a
[4] =ğ&
v¬ŸbË1
);

264 
	`as£¹
(
¬¿yli¡
->
d©a
[5] =ğ&
v¬ŸbË2
);

265 
	`as£¹
(
¬¿yli¡
->
d©a
[6] =ğ&
v¬ŸbË3
);

267 
	`¬¿yli¡_»move_¿nge
(
¬¿yli¡
, 4, 3);

269 
	`as£¹
(
¬¿yli¡
->
Ëngth
 == 13);

270 
	`as£¹
(
¬¿yli¡
->
d©a
[3] =ğ&
v¬ŸbË4
);

271 
	`as£¹
(
¬¿yli¡
->
d©a
[4] =ğ&
v¬ŸbË4
);

272 
	`as£¹
(
¬¿yli¡
->
d©a
[5] =ğ&
v¬ŸbË1
);

273 
	`as£¹
(
¬¿yli¡
->
d©a
[6] =ğ&
v¬ŸbË2
);

277 
	`¬¿yli¡_»move_¿nge
(
¬¿yli¡
, 10, 10);

278 
	`¬¿yli¡_»move_¿nge
(
¬¿yli¡
, 0, 16);

280 
	`as£¹
(
¬¿yli¡
->
Ëngth
 == 13);

282 
	`¬¿yli¡_ä“
(
¬¿yli¡
);

283 
	}
}

285 
	$‹¡_¬¿yli¡_»move
()

287 
A¼ayLi¡
 *
¬¿yli¡
;

289 
¬¿yli¡
 = 
	`g’”©e_¬¿yli¡
();

291 
	`as£¹
(
¬¿yli¡
->
Ëngth
 == 16);

292 
	`as£¹
(
¬¿yli¡
->
d©a
[3] =ğ&
v¬ŸbË4
);

293 
	`as£¹
(
¬¿yli¡
->
d©a
[4] =ğ&
v¬ŸbË1
);

294 
	`as£¹
(
¬¿yli¡
->
d©a
[5] =ğ&
v¬ŸbË2
);

295 
	`as£¹
(
¬¿yli¡
->
d©a
[6] =ğ&
v¬ŸbË3
);

297 
	`¬¿yli¡_»move
(
¬¿yli¡
, 4);

299 
	`as£¹
(
¬¿yli¡
->
Ëngth
 == 15);

300 
	`as£¹
(
¬¿yli¡
->
d©a
[3] =ğ&
v¬ŸbË4
);

301 
	`as£¹
(
¬¿yli¡
->
d©a
[4] =ğ&
v¬ŸbË2
);

302 
	`as£¹
(
¬¿yli¡
->
d©a
[5] =ğ&
v¬ŸbË3
);

303 
	`as£¹
(
¬¿yli¡
->
d©a
[6] =ğ&
v¬ŸbË4
);

307 
	`¬¿yli¡_»move
(
¬¿yli¡
, 15);

309 
	`as£¹
(
¬¿yli¡
->
Ëngth
 == 15);

311 
	`¬¿yli¡_ä“
(
¬¿yli¡
);

312 
	}
}

314 
	$‹¡_¬¿yli¡_šdex_of
()

316 
’Œ›s
[] = { 89, 4, 23, 42, 16, 15, 8, 99, 50, 30 };

317 
num_’Œ›s
;

318 
A¼ayLi¡
 *
¬¿yli¡
;

319 
i
;

320 
šdex
;

321 
v®
;

325 
num_’Œ›s
 = (
’Œ›s
) / ();

326 
¬¿yli¡
 = 
	`¬¿yli¡_Ãw
(0);

328 
i
=0; i<
num_’Œ›s
; ++i) {

329 
	`¬¿yli¡_­³nd
(
¬¿yli¡
, &
’Œ›s
[
i
]);

334 
i
=0; i<
num_’Œ›s
; ++i) {

336 
v®
 = 
’Œ›s
[
i
];

338 
šdex
 = 
	`¬¿yli¡_šdex_of
(
¬¿yli¡
, 
št_equ®
, &
v®
);

340 
	`as£¹
(
šdex
 =ğ
i
);

345 
v®
 = 0;

346 
	`as£¹
(
	`¬¿yli¡_šdex_of
(
¬¿yli¡
, 
št_equ®
, &
v®
) < 0);

347 
v®
 = 57;

348 
	`as£¹
(
	`¬¿yli¡_šdex_of
(
¬¿yli¡
, 
št_equ®
, &
v®
) < 0);

350 
	`¬¿yli¡_ä“
(
¬¿yli¡
);

351 
	}
}

353 
	$‹¡_¬¿yli¡_ş—r
()

355 
A¼ayLi¡
 *
¬¿yli¡
;

357 
¬¿yli¡
 = 
	`¬¿yli¡_Ãw
(0);

361 
	`¬¿yli¡_ş—r
(
¬¿yli¡
);

362 
	`as£¹
(
¬¿yli¡
->
Ëngth
 == 0);

366 
	`¬¿yli¡_­³nd
(
¬¿yli¡
, &
v¬ŸbË1
);

367 
	`¬¿yli¡_­³nd
(
¬¿yli¡
, &
v¬ŸbË2
);

368 
	`¬¿yli¡_­³nd
(
¬¿yli¡
, &
v¬ŸbË3
);

369 
	`¬¿yli¡_­³nd
(
¬¿yli¡
, &
v¬ŸbË4
);

371 
	`¬¿yli¡_ş—r
(
¬¿yli¡
);

373 
	`as£¹
(
¬¿yli¡
->
Ëngth
 == 0);

375 
	`¬¿yli¡_ä“
(
¬¿yli¡
);

376 
	}
}

378 
	$‹¡_¬¿yli¡_sÜt
()

380 
A¼ayLi¡
 *
¬¿yli¡
;

381 
’Œ›s
[] = { 89, 4, 23, 42, 4, 16, 15, 4, 8, 99, 50, 30, 4 };

382 
sÜ‹d
[] = { 4, 4, 4, 4, 8, 15, 16, 23, 30, 42, 50, 89, 99 };

383 
num_’Œ›s
 = (
’Œ›s
) / ();

384 
i
;

386 
¬¿yli¡
 = 
	`¬¿yli¡_Ãw
(10);

388 
i
=0; i<
num_’Œ›s
; ++i) {

389 
	`¬¿yli¡_´•’d
(
¬¿yli¡
, &
’Œ›s
[
i
]);

392 
	`¬¿yli¡_sÜt
(
¬¿yli¡
, 
št_com·»
);

396 
	`as£¹
(
¬¿yli¡
->
Ëngth
 =ğ
num_’Œ›s
);

400 
i
=0; i<
num_’Œ›s
; ++i) {

401 *
v®ue
;

403 
v®ue
 = (*è
¬¿yli¡
->
d©a
[
i
];

404 
	`as£¹
(*
v®ue
 =ğ
sÜ‹d
[
i
]);

407 
	`¬¿yli¡_ä“
(
¬¿yli¡
);

411 
¬¿yli¡
 = 
	`¬¿yli¡_Ãw
(5);

413 
	`¬¿yli¡_sÜt
(
¬¿yli¡
, 
št_com·»
);

415 
	`as£¹
(
¬¿yli¡
->
Ëngth
 == 0);

417 
	`¬¿yli¡_ä“
(
¬¿yli¡
);

421 
¬¿yli¡
 = 
	`¬¿yli¡_Ãw
(5);

423 
	`¬¿yli¡_´•’d
(
¬¿yli¡
, &
’Œ›s
[0]);

424 
	`¬¿yli¡_sÜt
(
¬¿yli¡
, 
št_com·»
);

426 
	`as£¹
(
¬¿yli¡
->
Ëngth
 == 1);

427 
	`as£¹
(
¬¿yli¡
->
d©a
[0] =ğ&
’Œ›s
[0]);

429 
	`¬¿yli¡_ä“
(
¬¿yli¡
);

430 
	}
}

432 
Un™Te¡FunùiÚ
 
	g‹¡s
[] = {

433 
‹¡_¬¿yli¡_Ãw_ä“
,

434 
‹¡_¬¿yli¡_­³nd
,

435 
‹¡_¬¿yli¡_´•’d
,

436 
‹¡_¬¿yli¡_š£¹
,

437 
‹¡_¬¿yli¡_»move
,

438 
‹¡_¬¿yli¡_»move_¿nge
,

439 
‹¡_¬¿yli¡_šdex_of
,

440 
‹¡_¬¿yli¡_ş—r
,

441 
‹¡_¬¿yli¡_sÜt
,

442 
NULL


445 
	$maš
(
¬gc
, *
¬gv
[])

447 
	`run_‹¡s
(
‹¡s
);

450 
	}
}

	@test/test-avl-tree.c

21 
	~<¡dio.h
>

22 
	~<¡dlib.h
>

23 
	~<as£¹.h
>

25 
	~"®loc-‹¡šg.h
"

26 
	~"äamewÜk.h
"

28 
	~"avl-Œ“.h
"

29 
	~"com·»-št.h
"

31 
	#NUM_TEST_VALUES
 1000

	)

33 
	g‹¡_¬¿y
[
NUM_TEST_VALUES
];

38 
	$´št_Œ“
(
AVLT»eNode
 *
node
, 
d•th
)

40 *
v®ue
;

41 
i
;

43 ià(
node
 =ğ
NULL
) {

47 
	`´št_Œ“
(
	`avl_Œ“_node_chd
(
node
, 
AVL_TREE_NODE_LEFT
), 
d•th
 + 1);

49 
i
=0; i<
d•th
*6; ++i) {

50 
	`´štf
(" ");

53 
v®ue
 = 
	`avl_Œ“_node_key
(
node
);

54 
	`´štf
("%i\n", *
v®ue
);

56 
	`´št_Œ“
(
	`avl_Œ“_node_chd
(
node
, 
AVL_TREE_NODE_RIGHT
), 
d•th
 + 1);

57 
	}
}

60 
	$fšd_subŒ“_height
(
AVLT»eNode
 *
node
)

62 
AVLT»eNode
 *
Ëá_subŒ“
;

63 
AVLT»eNode
 *
right_subŒ“
;

64 
Ëá_height
, 
right_height
;

66 ià(
node
 =ğ
NULL
) {

70 
Ëá_subŒ“
 = 
	`avl_Œ“_node_chd
(
node
, 
AVL_TREE_NODE_LEFT
);

71 
right_subŒ“
 = 
	`avl_Œ“_node_chd
(
node
, 
AVL_TREE_NODE_RIGHT
);

72 
Ëá_height
 = 
	`fšd_subŒ“_height
(
Ëá_subŒ“
);

73 
right_height
 = 
	`fšd_subŒ“_height
(
right_subŒ“
);

75 ià(
Ëá_height
 > 
right_height
) {

76  
Ëá_height
 + 1;

78  
right_height
 + 1;

80 
	}
}

84 
	gcouÁ”
;

86 
	$v®id©e_subŒ“
(
AVLT»eNode
 *
node
)

88 
AVLT»eNode
 *
Ëá_node
, *
right_node
;

89 
Ëá_height
, 
right_height
;

90 *
key
;

92 ià(
node
 =ğ
NULL
) {

96 
Ëá_node
 = 
	`avl_Œ“_node_chd
(
node
, 
AVL_TREE_NODE_LEFT
);

97 
right_node
 = 
	`avl_Œ“_node_chd
(
node
, 
AVL_TREE_NODE_RIGHT
);

101 ià(
Ëá_node
 !ğ
NULL
) {

102 
	`as£¹
(
	`avl_Œ“_node_·»Á
(
Ëá_node
è=ğ
node
);

104 ià(
right_node
 !ğ
NULL
) {

105 
	`as£¹
(
	`avl_Œ“_node_·»Á
(
right_node
è=ğ
node
);

111 
Ëá_height
 = 
	`v®id©e_subŒ“
(
Ëá_node
);

115 
key
 = (*è
	`avl_Œ“_node_key
(
node
);

117 
	`as£¹
(*
key
 > 
couÁ”
);

118 
couÁ”
 = *
key
;

120 
right_height
 = 
	`v®id©e_subŒ“
(
right_node
);

125 
	`as£¹
(
	`avl_Œ“_subŒ“_height
(
Ëá_node
è=ğ
Ëá_height
);

126 
	`as£¹
(
	`avl_Œ“_subŒ“_height
(
right_node
è=ğ
right_height
);

130 
	`as£¹
(
Ëá_height
 - 
right_height
 < 2 &&„ight_height -†eft_height < 2);

134 ià(
Ëá_height
 > 
right_height
) {

135  
Ëá_height
 + 1;

137  
right_height
 + 1;

139 
	}
}

141 
	$v®id©e_Œ“
(
AVLT»e
 *
Œ“
)

143 
AVLT»eNode
 *
roÙ_node
;

144 
height
;

146 
roÙ_node
 = 
	`avl_Œ“_roÙ_node
(
Œ“
);

148 ià(
roÙ_node
 !ğ
NULL
) {

149 
height
 = 
	`fšd_subŒ“_height
(
roÙ_node
);

150 
	`as£¹
(
	`avl_Œ“_subŒ“_height
(
roÙ_node
è=ğ
height
);

153 
couÁ”
 = -1;

154 
	`v®id©e_subŒ“
(
roÙ_node
);

155 
	}
}

157 
AVLT»e
 *
	$ü—‹_Œ“
()

159 
AVLT»e
 *
Œ“
;

160 
i
;

164 
Œ“
 = 
	`avl_Œ“_Ãw
((
AVLT»eCom·»Func
è
št_com·»
);

166 
i
=0; i<
NUM_TEST_VALUES
; ++i) {

167 
‹¡_¬¿y
[
i
] = i;

168 
	`avl_Œ“_š£¹
(
Œ“
, &
‹¡_¬¿y
[
i
], &test_array[i]);

171  
Œ“
;

172 
	}
}

174 
	$‹¡_avl_Œ“_Ãw
()

176 
AVLT»e
 *
Œ“
;

178 
Œ“
 = 
	`avl_Œ“_Ãw
((
AVLT»eCom·»Func
è
št_com·»
);

180 
	`as£¹
(
Œ“
 !ğ
NULL
);

181 
	`as£¹
(
	`avl_Œ“_roÙ_node
(
Œ“
è=ğ
NULL
);

182 
	`as£¹
(
	`avl_Œ“_num_’Œ›s
(
Œ“
) == 0);

184 
	`avl_Œ“_ä“
(
Œ“
);

188 
	`®loc_‹¡_£t_lim™
(0);

190 
Œ“
 = 
	`avl_Œ“_Ãw
((
AVLT»eCom·»Func
è
št_com·»
);

192 
	`as£¹
(
Œ“
 =ğ
NULL
);

194 
	}
}

196 
	$‹¡_avl_Œ“_š£¹_lookup
()

198 
AVLT»e
 *
Œ“
;

199 
AVLT»eNode
 *
node
;

200 
i
;

201 *
v®ue
;

206 
Œ“
 = 
	`avl_Œ“_Ãw
((
AVLT»eCom·»Func
è
št_com·»
);

208 
i
=0; i<
NUM_TEST_VALUES
; ++i) {

209 
‹¡_¬¿y
[
i
] = () i;

210 
	`avl_Œ“_š£¹
(
Œ“
, &
‹¡_¬¿y
[
i
], &test_array[i]);

212 
	`as£¹
(
	`avl_Œ“_num_’Œ›s
(
Œ“
è=ğ
i
 + 1);

213 
	`v®id©e_Œ“
(
Œ“
);

216 
	`as£¹
(
	`avl_Œ“_roÙ_node
(
Œ“
è!ğ
NULL
);

220 
i
=0; i<
NUM_TEST_VALUES
; ++i) {

221 
node
 = 
	`avl_Œ“_lookup_node
(
Œ“
, &
i
);

222 
	`as£¹
(
node
 !ğ
NULL
);

223 
v®ue
 = 
	`avl_Œ“_node_key
(
node
);

224 
	`as£¹
(*
v®ue
 =ğ(è
i
);

225 
v®ue
 = 
	`avl_Œ“_node_v®ue
(
node
);

226 
	`as£¹
(*
v®ue
 =ğ(è
i
);

231 
i
 = 
NUM_TEST_VALUES
 + 100;

232 
	`as£¹
(
	`avl_Œ“_lookup_node
(
Œ“
, &
i
è=ğ
NULL
);

234 
	`avl_Œ“_ä“
(
Œ“
);

235 
	}
}

237 
	$‹¡_avl_Œ“_chd
()

239 
AVLT»e
 *
Œ“
;

240 
AVLT»eNode
 *
roÙ
;

241 
AVLT»eNode
 *
Ëá
;

242 
AVLT»eNode
 *
right
;

243 
v®ues
[] = { 1, 2, 3 };

244 *
p
;

245 
i
;

250 
Œ“
 = 
	`avl_Œ“_Ãw
((
AVLT»eCom·»Func
è
št_com·»
);

252 
i
=0; i<3; ++i) {

253 
	`avl_Œ“_š£¹
(
Œ“
, &
v®ues
[
i
], &values[i]);

258 
roÙ
 = 
	`avl_Œ“_roÙ_node
(
Œ“
);

259 
p
 = 
	`avl_Œ“_node_v®ue
(
roÙ
);

260 
	`as£¹
(*
p
 == 2);

262 
Ëá
 = 
	`avl_Œ“_node_chd
(
roÙ
, 
AVL_TREE_NODE_LEFT
);

263 
p
 = 
	`avl_Œ“_node_v®ue
(
Ëá
);

264 
	`as£¹
(*
p
 == 1);

266 
right
 = 
	`avl_Œ“_node_chd
(
roÙ
, 
AVL_TREE_NODE_RIGHT
);

267 
p
 = 
	`avl_Œ“_node_v®ue
(
right
);

268 
	`as£¹
(*
p
 == 3);

272 
	`as£¹
(
	`avl_Œ“_node_chd
(
roÙ
, -1è=ğ
NULL
);

273 
	`as£¹
(
	`avl_Œ“_node_chd
(
roÙ
, 10000è=ğ
NULL
);

274 
	`as£¹
(
	`avl_Œ“_node_chd
(
roÙ
, 2è=ğ
NULL
);

275 
	`as£¹
(
	`avl_Œ“_node_chd
(
roÙ
, -100000è=ğ
NULL
);

277 
	`avl_Œ“_ä“
(
Œ“
);

278 
	}
}

280 
	$‹¡_out_of_memÜy
()

282 
AVLT»e
 *
Œ“
;

283 
AVLT»eNode
 *
node
;

284 
i
;

288 
Œ“
 = 
	`ü—‹_Œ“
();

292 
	`®loc_‹¡_£t_lim™
(0);

296 
i
=10000; i<20000; ++i) {

297 
node
 = 
	`avl_Œ“_š£¹
(
Œ“
, &
i
, &i);

298 
	`as£¹
(
node
 =ğ
NULL
);

299 
	`v®id©e_Œ“
(
Œ“
);

302 
	`avl_Œ“_ä“
(
Œ“
);

303 
	}
}

305 
	$‹¡_avl_Œ“_ä“
()

307 
AVLT»e
 *
Œ“
;

311 
Œ“
 = 
	`avl_Œ“_Ãw
((
AVLT»eCom·»Func
è
št_com·»
);

312 
	`avl_Œ“_ä“
(
Œ“
);

316 
Œ“
 = 
	`ü—‹_Œ“
();

317 
	`avl_Œ“_ä“
(
Œ“
);

318 
	}
}

320 
	$‹¡_avl_Œ“_lookup
()

322 
AVLT»e
 *
Œ“
;

323 
i
;

324 *
v®ue
;

328 
Œ“
 = 
	`ü—‹_Œ“
();

330 
i
=0; i<
NUM_TEST_VALUES
; ++i) {

331 
v®ue
 = 
	`avl_Œ“_lookup
(
Œ“
, &
i
);

333 
	`as£¹
(
v®ue
 !ğ
NULL
);

334 
	`as£¹
(*
v®ue
 =ğ
i
);

339 
i
 = -1;

340 
	`as£¹
(
	`avl_Œ“_lookup
(
Œ“
, &
i
è=ğ
NULL
);

341 
i
 = 
NUM_TEST_VALUES
 + 1;

342 
	`as£¹
(
	`avl_Œ“_lookup
(
Œ“
, &
i
è=ğ
NULL
);

343 
i
 = 8724897;

344 
	`as£¹
(
	`avl_Œ“_lookup
(
Œ“
, &
i
è=ğ
NULL
);

346 
	`avl_Œ“_ä“
(
Œ“
);

347 
	}
}

349 
	$‹¡_avl_Œ“_»move
()

351 
AVLT»e
 *
Œ“
;

352 
i
;

353 
x
, 
y
, 
z
;

354 
v®ue
;

355 
ex³ùed_’Œ›s
;

357 
Œ“
 = 
	`ü—‹_Œ“
();

361 
i
 = 
NUM_TEST_VALUES
 + 100;

362 
	`as£¹
(
	`avl_Œ“_»move
(
Œ“
, &
i
) == 0);

363 
i
 = -1;

364 
	`as£¹
(
	`avl_Œ“_»move
(
Œ“
, &
i
) == 0);

368 
ex³ùed_’Œ›s
 = 
NUM_TEST_VALUES
;

373 
x
=0; x<10; ++x) {

374 
y
=0; y<10; ++y) {

375 
z
=0; z<10; ++z) {

376 
v®ue
 = 
z
 * 100 + (9 - 
y
è* 10 + 
x
;

377 
	`as£¹
(
	`avl_Œ“_»move
(
Œ“
, &
v®ue
) != 0);

378 
	`v®id©e_Œ“
(
Œ“
);

379 
ex³ùed_’Œ›s
 -= 1;

380 
	`as£¹
(
	`avl_Œ“_num_’Œ›s
(
Œ“
)

381 =ğ
ex³ùed_’Œ›s
);

388 
	`as£¹
(
	`avl_Œ“_roÙ_node
(
Œ“
è=ğ
NULL
);

390 
	`avl_Œ“_ä“
(
Œ“
);

391 
	}
}

393 
	$‹¡_avl_Œ“_to_¬¿y
()

395 
AVLT»e
 *
Œ“
;

396 
’Œ›s
[] = { 89, 23, 42, 4, 16, 15, 8, 99, 50, 30 };

397 
sÜ‹d
[] = { 4, 8, 15, 16, 23, 30, 42, 50, 89, 99 };

398 
num_’Œ›s
 = (
’Œ›s
) / ();

399 
i
;

400 **
¬¿y
;

404 
Œ“
 = 
	`avl_Œ“_Ãw
((
AVLT»eCom·»Func
è
št_com·»
);

406 
i
=0; i<
num_’Œ›s
; ++i) {

407 
	`avl_Œ“_š£¹
(
Œ“
, &
’Œ›s
[
i
], 
NULL
);

410 
	`as£¹
(
	`avl_Œ“_num_’Œ›s
(
Œ“
è=ğ
num_’Œ›s
);

414 
¬¿y
 = (**è
	`avl_Œ“_to_¬¿y
(
Œ“
);

416 
i
=0; i<
num_’Œ›s
; ++i) {

417 
	`as£¹
(*
¬¿y
[
i
] =ğ
sÜ‹d
[i]);

420 
	`ä“
(
¬¿y
);

424 
	`®loc_‹¡_£t_lim™
(0);

426 
¬¿y
 = (**è
	`avl_Œ“_to_¬¿y
(
Œ“
);

427 
	`as£¹
(
¬¿y
 =ğ
NULL
);

428 
	`v®id©e_Œ“
(
Œ“
);

430 
	`avl_Œ“_ä“
(
Œ“
);

431 
	}
}

433 
Un™Te¡FunùiÚ
 
	g‹¡s
[] = {

434 
‹¡_avl_Œ“_Ãw
,

435 
‹¡_avl_Œ“_ä“
,

436 
‹¡_avl_Œ“_chd
,

437 
‹¡_avl_Œ“_š£¹_lookup
,

438 
‹¡_avl_Œ“_lookup
,

439 
‹¡_avl_Œ“_»move
,

440 
‹¡_avl_Œ“_to_¬¿y
,

441 
‹¡_out_of_memÜy
,

442 
NULL


445 
	$maš
(
¬gc
, *
¬gv
[])

447 
	`run_‹¡s
(
‹¡s
);

449 
	}
}

	@test/test-binary-heap.c

21 
	~<¡dlib.h
>

22 
	~<as£¹.h
>

24 
	~"®loc-‹¡šg.h
"

25 
	~"äamewÜk.h
"

27 
	~"bš¬y-h—p.h
"

28 
	~"com·»-št.h
"

30 
	#NUM_TEST_VALUES
 10000

	)

32 
	g‹¡_¬¿y
[
NUM_TEST_VALUES
];

34 
	$‹¡_bš¬y_h—p_Ãw_ä“
()

36 
Bš¬yH—p
 *
h—p
;

37 
i
;

39 
i
=0; i<
NUM_TEST_VALUES
; ++i) {

40 
h—p
 = 
	`bš¬y_h—p_Ãw
(
BINARY_HEAP_TYPE_MIN
, 
št_com·»
);

41 
	`bš¬y_h—p_ä“
(
h—p
);

46 
	`®loc_‹¡_£t_lim™
(0);

47 
h—p
 = 
	`bš¬y_h—p_Ãw
(
BINARY_HEAP_TYPE_MIN
, 
št_com·»
);

48 
	`as£¹
(
h—p
 =ğ
NULL
);

50 
	`®loc_‹¡_£t_lim™
(1);

51 
h—p
 = 
	`bš¬y_h—p_Ãw
(
BINARY_HEAP_TYPE_MIN
, 
št_com·»
);

52 
	`as£¹
(
h—p
 =ğ
NULL
);

53 
	}
}

55 
	$‹¡_bš¬y_h—p_š£¹
()

57 
Bš¬yH—p
 *
h—p
;

58 
i
;

60 
h—p
 = 
	`bš¬y_h—p_Ãw
(
BINARY_HEAP_TYPE_MIN
, 
št_com·»
);

62 
i
=0; i<
NUM_TEST_VALUES
; ++i) {

63 
‹¡_¬¿y
[
i
] = i;

64 
	`as£¹
(
	`bš¬y_h—p_š£¹
(
h—p
, &
‹¡_¬¿y
[
i
]) != 0);

67 
	`as£¹
(
	`bš¬y_h—p_num_’Œ›s
(
h—p
è=ğ
NUM_TEST_VALUES
);

69 
	`bš¬y_h—p_ä“
(
h—p
);

70 
	}
}

72 
	$‹¡_mš_h—p
()

74 
Bš¬yH—p
 *
h—p
;

75 *
v®
;

76 
i
;

78 
h—p
 = 
	`bš¬y_h—p_Ãw
(
BINARY_HEAP_TYPE_MIN
, 
št_com·»
);

82 
i
=0; i<
NUM_TEST_VALUES
; ++i) {

83 
‹¡_¬¿y
[
i
] = i;

84 
	`as£¹
(
	`bš¬y_h—p_š£¹
(
h—p
, &
‹¡_¬¿y
[
i
]) != 0);

89 
i
 = -1;

90 
	`bš¬y_h—p_num_’Œ›s
(
h—p
) > 0) {

91 
v®
 = (*è
	`bš¬y_h—p_pİ
(
h—p
);

93 
	`as£¹
(*
v®
 =ğ
i
 + 1);

94 
i
 = *
v®
;

99 
	`as£¹
(
	`bš¬y_h—p_num_’Œ›s
(
h—p
) == 0);

100 
	`as£¹
(
	`bš¬y_h—p_pİ
(
h—p
è=ğ
BINARY_HEAP_NULL
);

102 
	`bš¬y_h—p_ä“
(
h—p
);

103 
	}
}

105 
	$‹¡_max_h—p
()

107 
Bš¬yH—p
 *
h—p
;

108 *
v®
;

109 
i
;

111 
h—p
 = 
	`bš¬y_h—p_Ãw
(
BINARY_HEAP_TYPE_MAX
, 
št_com·»
);

115 
i
=0; i<
NUM_TEST_VALUES
; ++i) {

116 
‹¡_¬¿y
[
i
] = i;

117 
	`as£¹
(
	`bš¬y_h—p_š£¹
(
h—p
, &
‹¡_¬¿y
[
i
]) != 0);

122 
i
 = 
NUM_TEST_VALUES
;

123 
	`bš¬y_h—p_num_’Œ›s
(
h—p
) > 0) {

124 
v®
 = (*è
	`bš¬y_h—p_pİ
(
h—p
);

126 
	`as£¹
(*
v®
 =ğ
i
 - 1);

127 
i
 = *
v®
;

130 
	`bš¬y_h—p_ä“
(
h—p
);

131 
	}
}

135 
	$‹¡_out_of_memÜy
()

137 
Bš¬yH—p
 *
h—p
;

138 *
v®ue
;

139 
v®ues
[] = { 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0 };

140 
i
;

144 
h—p
 = 
	`bš¬y_h—p_Ãw
(
BINARY_HEAP_TYPE_MIN
, 
št_com·»
);

146 
	`®loc_‹¡_£t_lim™
(0);

148 
i
=0; i<16; ++i) {

149 
	`as£¹
(
	`bš¬y_h—p_š£¹
(
h—p
, &
v®ues
[
i
]) != 0);

152 
	`as£¹
(
	`bš¬y_h—p_num_’Œ›s
(
h—p
) == 16);

156 
i
=0; i<16; ++i) {

157 
	`as£¹
(
	`bš¬y_h—p_š£¹
(
h—p
, &
v®ues
[
i
]) == 0);

158 
	`as£¹
(
	`bš¬y_h—p_num_’Œ›s
(
h—p
) == 16);

164 
i
=0; i<16; ++i) {

165 
v®ue
 = 
	`bš¬y_h—p_pİ
(
h—p
);

166 
	`as£¹
(*
v®ue
 =ğ
i
);

169 
	`as£¹
(
	`bš¬y_h—p_num_’Œ›s
(
h—p
) == 0);

171 
	`bš¬y_h—p_ä“
(
h—p
);

172 
	}
}

174 
Un™Te¡FunùiÚ
 
	g‹¡s
[] = {

175 
‹¡_bš¬y_h—p_Ãw_ä“
,

176 
‹¡_bš¬y_h—p_š£¹
,

177 
‹¡_mš_h—p
,

178 
‹¡_max_h—p
,

179 
‹¡_out_of_memÜy
,

180 
NULL


183 
	$maš
(
¬gc
, *
¬gv
[])

185 
	`run_‹¡s
(
‹¡s
);

188 
	}
}

	@test/test-binomial-heap.c

21 
	~<¡dlib.h
>

22 
	~<as£¹.h
>

24 
	~"®loc-‹¡šg.h
"

25 
	~"äamewÜk.h
"

27 
	~"bšomŸl-h—p.h
"

28 
	~"com·»-št.h
"

30 
	#NUM_TEST_VALUES
 10000

	)

32 
	g‹¡_¬¿y
[
NUM_TEST_VALUES
];

34 
	$‹¡_bšomŸl_h—p_Ãw_ä“
()

36 
BšomŸlH—p
 *
h—p
;

37 
i
;

39 
i
=0; i<
NUM_TEST_VALUES
; ++i) {

40 
h—p
 = 
	`bšomŸl_h—p_Ãw
(
BINOMIAL_HEAP_TYPE_MIN
, 
št_com·»
);

41 
	`bšomŸl_h—p_ä“
(
h—p
);

46 
	`®loc_‹¡_£t_lim™
(0);

48 
	`as£¹
(
	`bšomŸl_h—p_Ãw
(
BINOMIAL_HEAP_TYPE_MIN
, 
št_com·»
è=ğ
NULL
);

49 
	}
}

51 
	$‹¡_bšomŸl_h—p_š£¹
()

53 
BšomŸlH—p
 *
h—p
;

54 
i
;

56 
h—p
 = 
	`bšomŸl_h—p_Ãw
(
BINOMIAL_HEAP_TYPE_MIN
, 
št_com·»
);

58 
i
=0; i<
NUM_TEST_VALUES
; ++i) {

59 
‹¡_¬¿y
[
i
] = i;

60 
	`as£¹
(
	`bšomŸl_h—p_š£¹
(
h—p
, &
‹¡_¬¿y
[
i
]) != 0);

62 
	`as£¹
(
	`bšomŸl_h—p_num_’Œ›s
(
h—p
è=ğ
NUM_TEST_VALUES
);

66 
	`®loc_‹¡_£t_lim™
(0);

67 
	`as£¹
(
	`bšomŸl_h—p_š£¹
(
h—p
, &
i
) == 0);

69 
	`bšomŸl_h—p_ä“
(
h—p
);

70 
	}
}

72 
	$‹¡_mš_h—p
()

74 
BšomŸlH—p
 *
h—p
;

75 *
v®
;

76 
i
;

78 
h—p
 = 
	`bšomŸl_h—p_Ãw
(
BINOMIAL_HEAP_TYPE_MIN
, 
št_com·»
);

82 
i
=0; i<
NUM_TEST_VALUES
; ++i) {

83 
‹¡_¬¿y
[
i
] = i;

84 
	`as£¹
(
	`bšomŸl_h—p_š£¹
(
h—p
, &
‹¡_¬¿y
[
i
]) != 0);

89 
i
 = -1;

90 
	`bšomŸl_h—p_num_’Œ›s
(
h—p
) > 0) {

91 
v®
 = (*è
	`bšomŸl_h—p_pİ
(
h—p
);

93 
	`as£¹
(*
v®
 =ğ
i
 + 1);

94 
i
 = *
v®
;

99 
v®
 = (*è
	`bšomŸl_h—p_pİ
(
h—p
);

100 
	`as£¹
(
v®
 =ğ
NULL
);

102 
	`bšomŸl_h—p_ä“
(
h—p
);

103 
	}
}

105 
	$‹¡_max_h—p
()

107 
BšomŸlH—p
 *
h—p
;

108 *
v®
;

109 
i
;

111 
h—p
 = 
	`bšomŸl_h—p_Ãw
(
BINOMIAL_HEAP_TYPE_MAX
, 
št_com·»
);

115 
i
=0; i<
NUM_TEST_VALUES
; ++i) {

116 
‹¡_¬¿y
[
i
] = i;

117 
	`as£¹
(
	`bšomŸl_h—p_š£¹
(
h—p
, &
‹¡_¬¿y
[
i
]) != 0);

122 
i
 = 
NUM_TEST_VALUES
;

123 
	`bšomŸl_h—p_num_’Œ›s
(
h—p
) > 0) {

124 
v®
 = (*è
	`bšomŸl_h—p_pİ
(
h—p
);

126 
	`as£¹
(*
v®
 =ğ
i
 - 1);

127 
i
 = *
v®
;

132 
v®
 = (*è
	`bšomŸl_h—p_pİ
(
h—p
);

133 
	`as£¹
(
v®
 =ğ
NULL
);

135 
	`bšomŸl_h—p_ä“
(
h—p
);

136 
	}
}

138 
	#TEST_VALUE
 (
NUM_TEST_VALUES
 / 2)

	)

140 
BšomŸlH—p
 *
	$g’”©e_h—p
()

142 
BšomŸlH—p
 *
h—p
;

143 
i
;

145 
h—p
 = 
	`bšomŸl_h—p_Ãw
(
BINOMIAL_HEAP_TYPE_MIN
, 
št_com·»
);

149 
i
=0; i<
NUM_TEST_VALUES
; ++i) {

150 
‹¡_¬¿y
[
i
] = i;

151 ià(
i
 !ğ
TEST_VALUE
) {

152 
	`as£¹
(
	`bšomŸl_h—p_š£¹
(
h—p
, &
‹¡_¬¿y
[
i
]) != 0);

156  
h—p
;

157 
	}
}

162 
	$v”ify_h—p
(
BšomŸlH—p
 *
h—p
)

164 
num_v®s
;

165 *
v®
;

166 
i
;

168 
num_v®s
 = 
	`bšomŸl_h—p_num_’Œ›s
(
h—p
);

169 
	`as£¹
(
num_v®s
 =ğ
NUM_TEST_VALUES
 - 1);

171 
i
=0; i<
NUM_TEST_VALUES
; ++i) {

172 ià(
i
 =ğ
TEST_VALUE
) {

178 
v®
 = 
	`bšomŸl_h—p_pİ
(
h—p
);

179 
	`as£¹
(*
v®
 =ğ
i
);

183 --
num_v®s
;

184 
	`as£¹
(
	`bšomŸl_h—p_num_’Œ›s
(
h—p
è=ğ
num_v®s
);

186 
	}
}

190 
	$‹¡_š£¹_out_of_memÜy
()

192 
BšomŸlH—p
 *
h—p
;

193 
i
;

198 
i
=0; i<6; ++i) {

199 
h—p
 = 
	`g’”©e_h—p
();

203 
	`®loc_‹¡_£t_lim™
(
i
);

204 
‹¡_¬¿y
[
TEST_VALUE
] = TEST_VALUE;

205 
	`as£¹
(
	`bšomŸl_h—p_š£¹
(
h—p
,

206 &
‹¡_¬¿y
[
TEST_VALUE
]) == 0);

207 
	`®loc_‹¡_£t_lim™
(-1);

211 
	`v”ify_h—p
(
h—p
);

213 
	`bšomŸl_h—p_ä“
(
h—p
);

215 
	}
}

219 
	$‹¡_pİ_out_of_memÜy
()

221 
BšomŸlH—p
 *
h—p
;

222 
i
;

228 
i
=0; i<6; ++i) {

229 
h—p
 = 
	`g’”©e_h—p
();

233 
	`®loc_‹¡_£t_lim™
(
i
);

234 
	`as£¹
(
	`bšomŸl_h—p_pİ
(
h—p
è=ğ
NULL
);

235 
	`®loc_‹¡_£t_lim™
(-1);

239 
	`bšomŸl_h—p_ä“
(
h—p
);

241 
	}
}

243 
Un™Te¡FunùiÚ
 
	g‹¡s
[] = {

244 
‹¡_bšomŸl_h—p_Ãw_ä“
,

245 
‹¡_bšomŸl_h—p_š£¹
,

246 
‹¡_mš_h—p
,

247 
‹¡_max_h—p
,

248 
‹¡_š£¹_out_of_memÜy
,

249 
‹¡_pİ_out_of_memÜy
,

250 
NULL


253 
	$maš
(
¬gc
, *
¬gv
[])

255 
	`run_‹¡s
(
‹¡s
);

258 
	}
}

	@test/test-bloom-filter.c

21 
	~<¡dio.h
>

22 
	~<¡dlib.h
>

23 
	~<as£¹.h
>

25 
	~"®loc-‹¡šg.h
"

26 
	~"äamewÜk.h
"

28 
	~"bloom-f‹r.h
"

29 
	~"hash-¡ršg.h
"

31 
	$‹¡_bloom_f‹r_Ãw_ä“
()

33 
BloomF‹r
 *
f‹r
;

37 
f‹r
 = 
	`bloom_f‹r_Ãw
(128, 
¡ršg_hash
, 1);

39 
	`as£¹
(
f‹r
 !ğ
NULL
);

41 
	`bloom_f‹r_ä“
(
f‹r
);

45 
f‹r
 = 
	`bloom_f‹r_Ãw
(128, 
¡ršg_hash
, 64);

47 
	`as£¹
(
f‹r
 !ğ
NULL
);

49 
	`bloom_f‹r_ä“
(
f‹r
);

53 
f‹r
 = 
	`bloom_f‹r_Ãw
(128, 
¡ršg_hash
, 50000);

55 
	`as£¹
(
f‹r
 =ğ
NULL
);

59 
	`®loc_‹¡_£t_lim™
(0);

61 
f‹r
 = 
	`bloom_f‹r_Ãw
(128, 
¡ršg_hash
, 1);

63 
	`as£¹
(
f‹r
 =ğ
NULL
);

65 
	`®loc_‹¡_£t_lim™
(1);

67 
f‹r
 = 
	`bloom_f‹r_Ãw
(128, 
¡ršg_hash
, 1);

69 
	`as£¹
(
f‹r
 =ğ
NULL
);

70 
	}
}

72 
	$‹¡_bloom_f‹r_š£¹_qu”y
()

74 
BloomF‹r
 *
f‹r
;

78 
f‹r
 = 
	`bloom_f‹r_Ãw
(128, 
¡ršg_hash
, 4);

82 
	`as£¹
(
	`bloom_f‹r_qu”y
(
f‹r
, "test 1") == 0);

83 
	`as£¹
(
	`bloom_f‹r_qu”y
(
f‹r
, "test 2") == 0);

87 
	`bloom_f‹r_š£¹
(
f‹r
, "test 1");

88 
	`bloom_f‹r_š£¹
(
f‹r
, "test 2");

92 
	`as£¹
(
	`bloom_f‹r_qu”y
(
f‹r
, "test 1") != 0);

93 
	`as£¹
(
	`bloom_f‹r_qu”y
(
f‹r
, "test 2") != 0);

95 
	`bloom_f‹r_ä“
(
f‹r
);

96 
	}
}

98 
	$‹¡_bloom_f‹r_»ad_lßd
()

100 
BloomF‹r
 *
f‹r1
;

101 
BloomF‹r
 *
f‹r2
;

102 
¡©e
[16];

106 
f‹r1
 = 
	`bloom_f‹r_Ãw
(128, 
¡ršg_hash
, 4);

108 
	`bloom_f‹r_š£¹
(
f‹r1
, "test 1");

109 
	`bloom_f‹r_š£¹
(
f‹r1
, "test 2");

113 
	`bloom_f‹r_»ad
(
f‹r1
, 
¡©e
);

115 
	`bloom_f‹r_ä“
(
f‹r1
);

119 
f‹r2
 = 
	`bloom_f‹r_Ãw
(128, 
¡ršg_hash
, 4);

121 
	`bloom_f‹r_lßd
(
f‹r2
, 
¡©e
);

125 
	`as£¹
(
	`bloom_f‹r_qu”y
(
f‹r2
, "test 1") != 0);

126 
	`as£¹
(
	`bloom_f‹r_qu”y
(
f‹r2
, "test 2") != 0);

128 
	`bloom_f‹r_ä“
(
f‹r2
);

129 
	}
}

131 
	$‹¡_bloom_f‹r_š‹r£ùiÚ
()

133 
BloomF‹r
 *
f‹r1
;

134 
BloomF‹r
 *
f‹r2
;

135 
BloomF‹r
 *
»suÉ
;

139 
f‹r1
 = 
	`bloom_f‹r_Ãw
(128, 
¡ršg_hash
, 4);

141 
	`bloom_f‹r_š£¹
(
f‹r1
, "test 1");

142 
	`bloom_f‹r_š£¹
(
f‹r1
, "test 2");

146 
f‹r2
 = 
	`bloom_f‹r_Ãw
(128, 
¡ršg_hash
, 4);

148 
	`bloom_f‹r_š£¹
(
f‹r2
, "test 1");

154 
	`as£¹
(
	`bloom_f‹r_qu”y
(
f‹r2
, "test 2") == 0);

158 
»suÉ
 = 
	`bloom_f‹r_š‹r£ùiÚ
(
f‹r1
, 
f‹r2
);

163 
	`as£¹
(
	`bloom_f‹r_qu”y
(
»suÉ
, "test 1") != 0);

164 
	`as£¹
(
	`bloom_f‹r_qu”y
(
»suÉ
, "test 2") == 0);

166 
	`bloom_f‹r_ä“
(
»suÉ
);

170 
	`®loc_‹¡_£t_lim™
(0);

171 
»suÉ
 = 
	`bloom_f‹r_š‹r£ùiÚ
(
f‹r1
, 
f‹r2
);

172 
	`as£¹
(
»suÉ
 =ğ
NULL
);

174 
	`bloom_f‹r_ä“
(
f‹r1
);

175 
	`bloom_f‹r_ä“
(
f‹r2
);

176 
	}
}

178 
	$‹¡_bloom_f‹r_uniÚ
()

180 
BloomF‹r
 *
f‹r1
;

181 
BloomF‹r
 *
f‹r2
;

182 
BloomF‹r
 *
»suÉ
;

186 
f‹r1
 = 
	`bloom_f‹r_Ãw
(128, 
¡ršg_hash
, 4);

188 
	`bloom_f‹r_š£¹
(
f‹r1
, "test 1");

192 
f‹r2
 = 
	`bloom_f‹r_Ãw
(128, 
¡ršg_hash
, 4);

194 
	`bloom_f‹r_š£¹
(
f‹r2
, "test 2");

198 
»suÉ
 = 
	`bloom_f‹r_uniÚ
(
f‹r1
, 
f‹r2
);

202 
	`as£¹
(
	`bloom_f‹r_qu”y
(
»suÉ
, "test 1") != 0);

203 
	`as£¹
(
	`bloom_f‹r_qu”y
(
»suÉ
, "test 2") != 0);

205 
	`bloom_f‹r_ä“
(
»suÉ
);

209 
	`®loc_‹¡_£t_lim™
(0);

210 
»suÉ
 = 
	`bloom_f‹r_uniÚ
(
f‹r1
, 
f‹r2
);

211 
	`as£¹
(
»suÉ
 =ğ
NULL
);

213 
	`bloom_f‹r_ä“
(
f‹r1
);

214 
	`bloom_f‹r_ä“
(
f‹r2
);

215 
	}
}

219 
	$‹¡_bloom_f‹r_mism©ch
()

221 
BloomF‹r
 *
f‹r1
;

222 
BloomF‹r
 *
f‹r2
;

226 
f‹r1
 = 
	`bloom_f‹r_Ãw
(128, 
¡ršg_hash
, 4);

230 
f‹r2
 = 
	`bloom_f‹r_Ãw
(64, 
¡ršg_hash
, 4);

231 
	`as£¹
(
	`bloom_f‹r_š‹r£ùiÚ
(
f‹r1
, 
f‹r2
è=ğ
NULL
);

232 
	`as£¹
(
	`bloom_f‹r_uniÚ
(
f‹r1
, 
f‹r2
è=ğ
NULL
);

233 
	`bloom_f‹r_ä“
(
f‹r2
);

237 
f‹r2
 = 
	`bloom_f‹r_Ãw
(128, 
¡ršg_noÿ£_hash
, 4);

238 
	`as£¹
(
	`bloom_f‹r_š‹r£ùiÚ
(
f‹r1
, 
f‹r2
è=ğ
NULL
);

239 
	`as£¹
(
	`bloom_f‹r_uniÚ
(
f‹r1
, 
f‹r2
è=ğ
NULL
);

240 
	`bloom_f‹r_ä“
(
f‹r2
);

244 
f‹r2
 = 
	`bloom_f‹r_Ãw
(128, 
¡ršg_hash
, 32);

245 
	`as£¹
(
	`bloom_f‹r_š‹r£ùiÚ
(
f‹r1
, 
f‹r2
è=ğ
NULL
);

246 
	`as£¹
(
	`bloom_f‹r_uniÚ
(
f‹r1
, 
f‹r2
è=ğ
NULL
);

247 
	`bloom_f‹r_ä“
(
f‹r2
);

249 
	`bloom_f‹r_ä“
(
f‹r1
);

250 
	}
}

252 
Un™Te¡FunùiÚ
 
	g‹¡s
[] = {

253 
‹¡_bloom_f‹r_Ãw_ä“
,

254 
‹¡_bloom_f‹r_š£¹_qu”y
,

255 
‹¡_bloom_f‹r_»ad_lßd
,

256 
‹¡_bloom_f‹r_š‹r£ùiÚ
,

257 
‹¡_bloom_f‹r_uniÚ
,

258 
‹¡_bloom_f‹r_mism©ch
,

259 
NULL


262 
	$maš
(
¬gc
, *
¬gv
[])

264 
	`run_‹¡s
(
‹¡s
);

267 
	}
}

	@test/test-compare-functions.c

23 
	~<¡dio.h
>

24 
	~<¡dlib.h
>

25 
	~<as£¹.h
>

27 
	~"®loc-‹¡šg.h
"

28 
	~"äamewÜk.h
"

30 
	~"com·»-št.h
"

31 
	~"com·»-poš‹r.h
"

32 
	~"com·»-¡ršg.h
"

34 
	$‹¡_št_com·»
()

36 
a
 = 4;

37 
b
 = 8;

38 
c
 = 4;

42 
	`as£¹
(
	`št_com·»
(&
a
, &
b
) < 0);

46 
	`as£¹
(
	`št_com·»
(&
b
, &
a
) > 0);

50 
	`as£¹
(
	`št_com·»
(&
a
, &
c
) == 0);

51 
	}
}

53 
	$‹¡_št_equ®
()

55 
a
 = 4;

56 
b
 = 8;

57 
c
 = 4;

61 
	`as£¹
(
	`št_equ®
(&
a
, &
c
) != 0);

65 
	`as£¹
(
	`št_equ®
(&
a
, &
b
) == 0);

66 
	}
}

68 
	$‹¡_poš‹r_com·»
()

70 
¬¿y
[5];

75 
	`as£¹
(
	`poš‹r_com·»
(&
¬¿y
[0], &array[4]) < 0);

80 
	`as£¹
(
	`poš‹r_com·»
(&
¬¿y
[3], &array[2]) > 0);

84 
	`as£¹
(
	`poš‹r_com·»
(&
¬¿y
[4], &array[4]) == 0);

85 
	}
}

87 
	$‹¡_poš‹r_equ®
()

89 
a
, 
b
;

93 
	`as£¹
(
	`poš‹r_equ®
(&
a
, &a) != 0);

97 
	`as£¹
(
	`poš‹r_equ®
(&
a
, &
b
) == 0);

98 
	}
}

100 
	$‹¡_¡ršg_com·»
()

102 
‹¡1
[] = "Apple";

103 
‹¡2
[] = "Orange";

104 
‹¡3
[] = "Apple";

108 
	`as£¹
(
	`¡ršg_com·»
(
‹¡1
, 
‹¡2
) < 0);

112 
	`as£¹
(
	`¡ršg_com·»
(
‹¡2
, 
‹¡1
) > 0);

116 
	`as£¹
(
	`¡ršg_com·»
(
‹¡1
, 
‹¡3
) == 0);

117 
	}
}

119 
	$‹¡_¡ršg_equ®
()

121 
‹¡1
[] = "this is‡est string";

122 
‹¡2
[] = "this is‡est string ";

123 
‹¡3
[] = "this is‡est strin";

124 
‹¡4
[] = "this is‡est strinG";

125 
‹¡5
[] = "this is‡est string";

129 
	`as£¹
(
	`¡ršg_equ®
(
‹¡1
, 
‹¡5
) != 0);

134 
	`as£¹
(
	`¡ršg_equ®
(
‹¡1
, 
‹¡2
) == 0);

135 
	`as£¹
(
	`¡ršg_equ®
(
‹¡1
, 
‹¡3
) == 0);

138 
	`as£¹
(
	`¡ršg_equ®
(
‹¡1
, 
‹¡4
) == 0);

139 
	}
}

141 
	$‹¡_¡ršg_noÿ£_com·»
()

143 
‹¡1
[] = "Apple";

144 
‹¡2
[] = "Orange";

145 
‹¡3
[] = "Apple";

146 
‹¡4
[] = "Alpha";

147 
‹¡5
[] = "bravo";

148 
‹¡6
[] = "Charlie";

152 
	`as£¹
(
	`¡ršg_noÿ£_com·»
(
‹¡1
, 
‹¡2
) < 0);

156 
	`as£¹
(
	`¡ršg_noÿ£_com·»
(
‹¡2
, 
‹¡1
) > 0);

160 
	`as£¹
(
	`¡ršg_noÿ£_com·»
(
‹¡1
, 
‹¡3
) == 0);

164 
	`as£¹
(
	`¡ršg_noÿ£_com·»
(
‹¡4
, 
‹¡5
) < 0);

165 
	`as£¹
(
	`¡ršg_noÿ£_com·»
(
‹¡5
, 
‹¡6
) < 0);

166 
	}
}

168 
	$‹¡_¡ršg_noÿ£_equ®
()

170 
‹¡1
[] = "this is‡est string";

171 
‹¡2
[] = "this is‡est string ";

172 
‹¡3
[] = "this is‡est strin";

173 
‹¡4
[] = "this is‡est strinG";

174 
‹¡5
[] = "this is‡est string";

178 
	`as£¹
(
	`¡ršg_noÿ£_equ®
(
‹¡1
, 
‹¡5
) != 0);

183 
	`as£¹
(
	`¡ršg_noÿ£_equ®
(
‹¡1
, 
‹¡2
) == 0);

184 
	`as£¹
(
	`¡ršg_noÿ£_equ®
(
‹¡1
, 
‹¡3
) == 0);

187 
	`as£¹
(
	`¡ršg_noÿ£_equ®
(
‹¡1
, 
‹¡4
) != 0);

188 
	}
}

190 
Un™Te¡FunùiÚ
 
	g‹¡s
[] = {

191 
‹¡_št_com·»
,

192 
‹¡_št_equ®
,

193 
‹¡_poš‹r_com·»
,

194 
‹¡_poš‹r_equ®
,

195 
‹¡_¡ršg_com·»
,

196 
‹¡_¡ršg_equ®
,

197 
‹¡_¡ršg_noÿ£_com·»
,

198 
‹¡_¡ršg_noÿ£_equ®
,

199 
NULL


202 
	$maš
(
¬gc
, *
¬gv
[])

204 
	`run_‹¡s
(
‹¡s
);

207 
	}
}

	@test/test-hash-functions.c

21 
	~<¡dio.h
>

22 
	~<¡dlib.h
>

23 
	~<as£¹.h
>

25 
	~"®loc-‹¡šg.h
"

26 
	~"äamewÜk.h
"

28 
	~"hash-poš‹r.h
"

29 
	~"hash-št.h
"

30 
	~"hash-¡ršg.h
"

32 
	#NUM_TEST_VALUES
 200

	)

34 
	$‹¡_poš‹r_hash
()

36 
¬¿y
[
NUM_TEST_VALUES
];

37 
i
, 
j
;

41 
i
=0; i<
NUM_TEST_VALUES
; ++i) {

42 
¬¿y
[
i
] = 0;

47 
i
=0; i<
NUM_TEST_VALUES
; ++i) {

48 
j
=
i
+1; j<
NUM_TEST_VALUES
; ++j) {

49 
	`as£¹
(
	`poš‹r_hash
(&
¬¿y
[
i
]è!ğpoš‹r_hash(&¬¿y[
j
]));

52 
	}
}

54 
	$‹¡_št_hash
()

56 
¬¿y
[
NUM_TEST_VALUES
];

57 
i
, 
j
;

61 
i
=0; i<
NUM_TEST_VALUES
; ++i) {

62 
¬¿y
[
i
] = i;

67 
i
=0; i<
NUM_TEST_VALUES
; ++i) {

68 
j
=
i
+1; j<
NUM_TEST_VALUES
; ++j) {

69 
	`as£¹
(
	`št_hash
(&
¬¿y
[
i
]è!ğšt_hash(&¬¿y[
j
]));

75 
i
 = 5000;

76 
j
 = 5000;

78 
	`as£¹
(
	`št_hash
(&
i
è=ğšt_hash(&
j
));

79 
	}
}

81 
	$‹¡_¡ršg_hash
()

83 
‹¡1
[] = "this is‡est";

84 
‹¡2
[] = "this is‡esu";

85 
‹¡3
[] = "this is‡est ";

86 
‹¡4
[] = "this is‡est";

87 
‹¡5
[] = "This is‡est";

91 
	`as£¹
(
	`¡ršg_hash
(
‹¡1
è!ğ¡ršg_hash(
‹¡2
));

95 
	`as£¹
(
	`¡ršg_hash
(
‹¡1
è!ğ¡ršg_hash(
‹¡3
));

99 
	`as£¹
(
	`¡ršg_hash
(
‹¡1
è!ğ¡ršg_hash(
‹¡5
));

103 
	`as£¹
(
	`¡ršg_hash
(
‹¡1
è=ğ¡ršg_hash(
‹¡4
));

104 
	}
}

106 
	$‹¡_¡ršg_noÿ£_hash
()

108 
‹¡1
[] = "this is‡est";

109 
‹¡2
[] = "this is‡esu";

110 
‹¡3
[] = "this is‡est ";

111 
‹¡4
[] = "this is‡est";

112 
‹¡5
[] = "This is‡est";

116 
	`as£¹
(
	`¡ršg_noÿ£_hash
(
‹¡1
è!ğ¡ršg_noÿ£_hash(
‹¡2
));

120 
	`as£¹
(
	`¡ršg_noÿ£_hash
(
‹¡1
è!ğ¡ršg_noÿ£_hash(
‹¡3
));

124 
	`as£¹
(
	`¡ršg_noÿ£_hash
(
‹¡1
è=ğ¡ršg_noÿ£_hash(
‹¡5
));

128 
	`as£¹
(
	`¡ršg_noÿ£_hash
(
‹¡1
è=ğ¡ršg_noÿ£_hash(
‹¡4
));

129 
	}
}

131 
Un™Te¡FunùiÚ
 
	g‹¡s
[] = {

132 
‹¡_poš‹r_hash
,

133 
‹¡_št_hash
,

134 
‹¡_¡ršg_hash
,

135 
‹¡_¡ršg_noÿ£_hash
,

136 
NULL


139 
	$maš
(
¬gc
, *
¬gv
[])

141 
	`run_‹¡s
(
‹¡s
);

144 
	}
}

	@test/test-hash-table.c

21 
	~<¡dio.h
>

22 
	~<¡dlib.h
>

23 
	~<¡ršg.h
>

24 
	~<as£¹.h
>

26 
	~"®loc-‹¡šg.h
"

27 
	~"äamewÜk.h
"

29 
	~"hash-bË.h
"

30 
	~"hash-št.h
"

31 
	~"com·»-št.h
"

32 
	~"hash-¡ršg.h
"

33 
	~"com·»-¡ršg.h
"

35 
	#NUM_TEST_VALUES
 10000

	)

37 
	gv®ue1
 = 1, 
	gv®ue2
 = 2, 
	gv®ue3
 = 3, 
	gv®ue4
 = 4;

38 
	g®loÿ‹d_keys
 = 0;

39 
	g®loÿ‹d_v®ues
 = 0;

43 
HashTabË
 *
	$g’”©e_hash_bË
()

45 
HashTabË
 *
hash_bË
;

46 
buf
[10];

47 *
v®ue
;

48 
i
;

55 
hash_bË
 = 
	`hash_bË_Ãw
(
¡ršg_hash
, 
¡ršg_equ®
);

59 
i
=0; i<
NUM_TEST_VALUES
; ++i) {

60 
	`¥rštf
(
buf
, "%i", 
i
);

62 
v®ue
 = 
	`¡rdup
(
buf
);

64 
	`hash_bË_š£¹
(
hash_bË
, 
v®ue
, value);

69 
	`hash_bË_»gi¡”_ä“_funùiÚs
(
hash_bË
, 
NULL
, 
ä“
);

71  
hash_bË
;

72 
	}
}

76 
	$‹¡_hash_bË_Ãw_ä“
()

78 
HashTabË
 *
hash_bË
;

80 
hash_bË
 = 
	`hash_bË_Ãw
(
št_hash
, 
št_equ®
);

82 
	`as£¹
(
hash_bË
 !ğ
NULL
);

86 
	`hash_bË_š£¹
(
hash_bË
, &
v®ue1
, &value1);

87 
	`hash_bË_š£¹
(
hash_bË
, &
v®ue2
, &value2);

88 
	`hash_bË_š£¹
(
hash_bË
, &
v®ue3
, &value3);

89 
	`hash_bË_š£¹
(
hash_bË
, &
v®ue4
, &value4);

93 
	`hash_bË_ä“
(
hash_bË
);

97 
	`®loc_‹¡_£t_lim™
(0);

98 
hash_bË
 = 
	`hash_bË_Ãw
(
št_hash
, 
št_equ®
);

99 
	`as£¹
(
hash_bË
 =ğ
NULL
);

100 
	`as£¹
(
	`®loc_‹¡_g‘_®loÿ‹d
() == 0);

102 
	`®loc_‹¡_£t_lim™
(1);

103 
hash_bË
 = 
	`hash_bË_Ãw
(
št_hash
, 
št_equ®
);

104 
	`as£¹
(
hash_bË
 =ğ
NULL
);

105 
	`as£¹
(
	`®loc_‹¡_g‘_®loÿ‹d
() == 0);

106 
	}
}

110 
	$‹¡_hash_bË_š£¹_lookup
()

112 
HashTabË
 *
hash_bË
;

113 
buf
[10];

114 *
v®ue
;

115 
i
;

119 
hash_bË
 = 
	`g’”©e_hash_bË
();

121 
	`as£¹
(
	`hash_bË_num_’Œ›s
(
hash_bË
è=ğ
NUM_TEST_VALUES
);

125 
i
=0; i<
NUM_TEST_VALUES
; ++i) {

126 
	`¥rštf
(
buf
, "%i", 
i
);

127 
v®ue
 = 
	`hash_bË_lookup
(
hash_bË
, 
buf
);

129 
	`as£¹
(
	`¡rcmp
(
v®ue
, 
buf
) == 0);

134 
	`¥rštf
(
buf
, "%i", -1);

135 
	`as£¹
(
	`hash_bË_lookup
(
hash_bË
, 
buf
è=ğ
NULL
);

136 
	`¥rštf
(
buf
, "%i", 
NUM_TEST_VALUES
);

137 
	`as£¹
(
	`hash_bË_lookup
(
hash_bË
, 
buf
è=ğ
NULL
);

141 
	`¥rštf
(
buf
, "%i", 12345);

142 
	`hash_bË_š£¹
(
hash_bË
, 
buf
, 
	`¡rdup
("hello world"));

143 
v®ue
 = 
	`hash_bË_lookup
(
hash_bË
, 
buf
);

144 
	`as£¹
(
	`¡rcmp
(
v®ue
, "hello world") == 0);

146 
	`hash_bË_ä“
(
hash_bË
);

147 
	}
}

149 
	$‹¡_hash_bË_»move
()

151 
HashTabË
 *
hash_bË
;

152 
buf
[10];

154 
hash_bË
 = 
	`g’”©e_hash_bË
();

156 
	`as£¹
(
	`hash_bË_num_’Œ›s
(
hash_bË
è=ğ
NUM_TEST_VALUES
);

157 
	`¥rštf
(
buf
, "%i", 5000);

158 
	`as£¹
(
	`hash_bË_lookup
(
hash_bË
, 
buf
è!ğ
NULL
);

162 
	`hash_bË_»move
(
hash_bË
, 
buf
);

166 
	`as£¹
(
	`hash_bË_num_’Œ›s
(
hash_bË
) == 9999);

170 
	`as£¹
(
	`hash_bË_lookup
(
hash_bË
, 
buf
è=ğ
NULL
);

174 
	`¥rštf
(
buf
, "%i", -1);

175 
	`hash_bË_»move
(
hash_bË
, 
buf
);

177 
	`as£¹
(
	`hash_bË_num_’Œ›s
(
hash_bË
) == 9999);

179 
	`hash_bË_ä“
(
hash_bË
);

180 
	}
}

182 
	$‹¡_hash_bË_™”©šg
()

184 
HashTabË
 *
hash_bË
;

185 
HashTabËI‹¿tÜ
 
™”©Ü
;

186 
couÁ
;

188 
hash_bË
 = 
	`g’”©e_hash_bË
();

192 
couÁ
 = 0;

194 
	`hash_bË_™”©e
(
hash_bË
, &
™”©Ü
);

196 
	`hash_bË_™”_has_mÜe
(&
™”©Ü
)) {

197 
	`hash_bË_™”_Ãxt
(&
™”©Ü
);

199 ++
couÁ
;

202 
	`as£¹
(
couÁ
 =ğ
NUM_TEST_VALUES
);

206 
	`as£¹
(
	`hash_bË_™”_Ãxt
(&
™”©Ü
è=ğ
HASH_TABLE_NULL
);

208 
	`hash_bË_ä“
(
hash_bË
);

212 
hash_bË
 = 
	`hash_bË_Ãw
(
št_hash
, 
št_equ®
);

214 
	`hash_bË_™”©e
(
hash_bË
, &
™”©Ü
);

216 
	`as£¹
(
	`hash_bË_™”_has_mÜe
(&
™”©Ü
) == 0);

218 
	`hash_bË_ä“
(
hash_bË
);

219 
	}
}

225 
	$‹¡_hash_bË_™”©šg_»move
()

227 
HashTabË
 *
hash_bË
;

228 
HashTabËI‹¿tÜ
 
™”©Ü
;

229 
buf
[10];

230 *
v®
;

231 
couÁ
;

232 
»moved
;

233 
i
;

235 
hash_bË
 = 
	`g’”©e_hash_bË
();

239 
couÁ
 = 0;

240 
»moved
 = 0;

242 
	`hash_bË_™”©e
(
hash_bË
, &
™”©Ü
);

244 
	`hash_bË_™”_has_mÜe
(&
™”©Ü
)) {

248 
v®
 = 
	`hash_bË_™”_Ãxt
(&
™”©Ü
);

252 ià((
	`©oi
(
v®
) % 100) == 0) {

253 
	`hash_bË_»move
(
hash_bË
, 
v®
);

254 ++
»moved
;

257 ++
couÁ
;

262 
	`as£¹
(
»moved
 == 100);

263 
	`as£¹
(
couÁ
 =ğ
NUM_TEST_VALUES
);

265 
	`as£¹
(
	`hash_bË_num_’Œ›s
(
hash_bË
è=ğ
NUM_TEST_VALUES
 - 
»moved
);

269 
i
=0; i<
NUM_TEST_VALUES
; ++i) {

270 
	`¥rštf
(
buf
, "%i", 
i
);

272 ià(
i
 % 100 == 0) {

273 
	`as£¹
(
	`hash_bË_lookup
(
hash_bË
, 
buf
è=ğ
NULL
);

275 
	`as£¹
(
	`hash_bË_lookup
(
hash_bË
, 
buf
è!ğ
NULL
);

279 
	`hash_bË_ä“
(
hash_bË
);

280 
	}
}

284 *
	$Ãw_key
(
v®ue
)

286 *
»suÉ
;

288 
»suÉ
 = 
	`m®loc
(());

289 *
»suÉ
 = 
v®ue
;

291 ++
®loÿ‹d_keys
;

293  
»suÉ
;

294 
	}
}

298 
	$ä“_key
(*
key
)

300 
	`ä“
(
key
);

302 --
®loÿ‹d_keys
;

303 
	}
}

307 *
	$Ãw_v®ue
(
v®ue
)

309 *
»suÉ
;

311 
»suÉ
 = 
	`m®loc
(());

312 *
»suÉ
 = 
v®ue
;

314 ++
®loÿ‹d_v®ues
;

316  
»suÉ
;

317 
	}
}

321 
	$ä“_v®ue
(*
v®ue
)

323 
	`ä“
(
v®ue
);

325 --
®loÿ‹d_v®ues
;

326 
	}
}

330 
	$‹¡_hash_bË_ä“_funùiÚs
()

332 
HashTabË
 *
hash_bË
;

333 *
key
;

334 *
v®ue
;

335 
i
;

339 
hash_bË
 = 
	`hash_bË_Ãw
(
št_hash
, 
št_equ®
);

341 
	`hash_bË_»gi¡”_ä“_funùiÚs
(
hash_bË
, 
ä“_key
, 
ä“_v®ue
);

343 
®loÿ‹d_v®ues
 = 0;

345 
i
=0; i<
NUM_TEST_VALUES
; ++i) {

346 
key
 = 
	`Ãw_key
(
i
);

347 
v®ue
 = 
	`Ãw_v®ue
(99);

349 
	`hash_bË_š£¹
(
hash_bË
, 
key
, 
v®ue
);

352 
	`as£¹
(
®loÿ‹d_keys
 =ğ
NUM_TEST_VALUES
);

353 
	`as£¹
(
®loÿ‹d_v®ues
 =ğ
NUM_TEST_VALUES
);

357 
i
 = 
NUM_TEST_VALUES
 / 2;

358 
	`hash_bË_»move
(
hash_bË
, &
i
);

360 
	`as£¹
(
®loÿ‹d_keys
 =ğ
NUM_TEST_VALUES
 - 1);

361 
	`as£¹
(
®loÿ‹d_v®ues
 =ğ
NUM_TEST_VALUES
 - 1);

365 
key
 = 
	`Ãw_key
(
NUM_TEST_VALUES
 / 3);

366 
v®ue
 = 
	`Ãw_v®ue
(999);

368 
	`as£¹
(
®loÿ‹d_keys
 =ğ
NUM_TEST_VALUES
);

369 
	`as£¹
(
®loÿ‹d_v®ues
 =ğ
NUM_TEST_VALUES
);

371 
	`hash_bË_š£¹
(
hash_bË
, 
key
, 
v®ue
);

373 
	`as£¹
(
®loÿ‹d_keys
 =ğ
NUM_TEST_VALUES
 - 1);

374 
	`as£¹
(
®loÿ‹d_v®ues
 =ğ
NUM_TEST_VALUES
 - 1);

378 
	`hash_bË_ä“
(
hash_bË
);

380 
	`as£¹
(
®loÿ‹d_keys
 == 0);

381 
	`as£¹
(
®loÿ‹d_v®ues
 == 0);

382 
	}
}

386 
	$‹¡_hash_bË_out_of_memÜy
()

388 
HashTabË
 *
hash_bË
;

389 
v®ues
[66];

390 
i
;

392 
hash_bË
 = 
	`hash_bË_Ãw
(
št_hash
, 
št_equ®
);

396 
	`®loc_‹¡_£t_lim™
(0);

397 
v®ues
[0] = 0;

398 
	`as£¹
(
	`hash_bË_š£¹
(
hash_bË
, &
v®ues
[0], &values[0]) == 0);

399 
	`as£¹
(
	`hash_bË_num_’Œ›s
(
hash_bË
) == 0);

401 
	`®loc_‹¡_£t_lim™
(-1);

408 
i
=0; i<65; ++i) {

409 
v®ues
[
i
] = () i;

411 
	`as£¹
(
	`hash_bË_š£¹
(
hash_bË
,

412 &
v®ues
[
i
], &values[i]) != 0);

413 
	`as£¹
(
	`hash_bË_num_’Œ›s
(
hash_bË
è=ğ
i
 + 1);

416 
	`as£¹
(
	`hash_bË_num_’Œ›s
(
hash_bË
) == 65);

420 
	`®loc_‹¡_£t_lim™
(0);

422 
v®ues
[65] = 65;

424 
	`as£¹
(
	`hash_bË_š£¹
(
hash_bË
, &
v®ues
[65], &values[65]) == 0);

425 
	`as£¹
(
	`hash_bË_num_’Œ›s
(
hash_bË
) == 65);

427 
	`hash_bË_ä“
(
hash_bË
);

428 
	}
}

430 
Un™Te¡FunùiÚ
 
	g‹¡s
[] = {

431 
‹¡_hash_bË_Ãw_ä“
,

432 
‹¡_hash_bË_š£¹_lookup
,

433 
‹¡_hash_bË_»move
,

434 
‹¡_hash_bË_™”©šg
,

435 
‹¡_hash_bË_™”©šg_»move
,

436 
‹¡_hash_bË_ä“_funùiÚs
,

437 
‹¡_hash_bË_out_of_memÜy
,

438 
NULL


441 
	$maš
(
¬gc
, *
¬gv
[])

443 
	`run_‹¡s
(
‹¡s
);

446 
	}
}

	@test/test-list.c

21 
	~<¡dio.h
>

22 
	~<¡dlib.h
>

23 
	~<as£¹.h
>

25 
	~"®loc-‹¡šg.h
"

26 
	~"äamewÜk.h
"

28 
	~"li¡.h
"

29 
	~"com·»-št.h
"

31 
	gv¬ŸbË1
 = 50, 
	gv¬ŸbË2
, 
	gv¬ŸbË3
, 
	gv¬ŸbË4
;

35 
Li¡EÁry
 *
	$g’”©e_li¡
()

37 
Li¡EÁry
 *
li¡
 = 
NULL
;

39 
	`as£¹
(
	`li¡_­³nd
(&
li¡
, &
v¬ŸbË1
è!ğ
NULL
);

40 
	`as£¹
(
	`li¡_­³nd
(&
li¡
, &
v¬ŸbË2
è!ğ
NULL
);

41 
	`as£¹
(
	`li¡_­³nd
(&
li¡
, &
v¬ŸbË3
è!ğ
NULL
);

42 
	`as£¹
(
	`li¡_­³nd
(&
li¡
, &
v¬ŸbË4
è!ğ
NULL
);

44  
li¡
;

45 
	}
}

47 
	$check_li¡_š‹gr™y
(
Li¡EÁry
 *
li¡
)

49 
Li¡EÁry
 *
´ev
;

50 
Li¡EÁry
 *
rov”
;

52 
´ev
 = 
NULL
;

53 
rov”
 = 
li¡
;

55 
rov”
 !ğ
NULL
) {

56 
	`as£¹
(
	`li¡_´ev
(
rov”
è=ğ
´ev
);

57 
´ev
 = 
rov”
;

58 
rov”
 = 
	`li¡_Ãxt
(rover);

60 
	}
}

62 
	$‹¡_li¡_­³nd
()

64 
Li¡EÁry
 *
li¡
 = 
NULL
;

66 
	`as£¹
(
	`li¡_­³nd
(&
li¡
, &
v¬ŸbË1
è!ğ
NULL
);

67 
	`check_li¡_š‹gr™y
(
li¡
);

68 
	`as£¹
(
	`li¡_­³nd
(&
li¡
, &
v¬ŸbË2
è!ğ
NULL
);

69 
	`check_li¡_š‹gr™y
(
li¡
);

70 
	`as£¹
(
	`li¡_­³nd
(&
li¡
, &
v¬ŸbË3
è!ğ
NULL
);

71 
	`check_li¡_š‹gr™y
(
li¡
);

72 
	`as£¹
(
	`li¡_­³nd
(&
li¡
, &
v¬ŸbË4
è!ğ
NULL
);

73 
	`check_li¡_š‹gr™y
(
li¡
);

75 
	`as£¹
(
	`li¡_Ëngth
(
li¡
) == 4);

77 
	`as£¹
(
	`li¡_Áh_d©a
(
li¡
, 0è=ğ&
v¬ŸbË1
);

78 
	`as£¹
(
	`li¡_Áh_d©a
(
li¡
, 1è=ğ&
v¬ŸbË2
);

79 
	`as£¹
(
	`li¡_Áh_d©a
(
li¡
, 2è=ğ&
v¬ŸbË3
);

80 
	`as£¹
(
	`li¡_Áh_d©a
(
li¡
, 3è=ğ&
v¬ŸbË4
);

84 
	`®loc_‹¡_£t_lim™
(0);

85 
	`as£¹
(
	`li¡_Ëngth
(
li¡
) == 4);

86 
	`as£¹
(
	`li¡_­³nd
(&
li¡
, &
v¬ŸbË1
è=ğ
NULL
);

87 
	`as£¹
(
	`li¡_Ëngth
(
li¡
) == 4);

88 
	`check_li¡_š‹gr™y
(
li¡
);

90 
	`li¡_ä“
(
li¡
);

91 
	}
}

93 
	$‹¡_li¡_´•’d
()

95 
Li¡EÁry
 *
li¡
 = 
NULL
;

97 
	`as£¹
(
	`li¡_´•’d
(&
li¡
, &
v¬ŸbË1
è!ğ
NULL
);

98 
	`check_li¡_š‹gr™y
(
li¡
);

99 
	`as£¹
(
	`li¡_´•’d
(&
li¡
, &
v¬ŸbË2
è!ğ
NULL
);

100 
	`check_li¡_š‹gr™y
(
li¡
);

101 
	`as£¹
(
	`li¡_´•’d
(&
li¡
, &
v¬ŸbË3
è!ğ
NULL
);

102 
	`check_li¡_š‹gr™y
(
li¡
);

103 
	`as£¹
(
	`li¡_´•’d
(&
li¡
, &
v¬ŸbË4
è!ğ
NULL
);

104 
	`check_li¡_š‹gr™y
(
li¡
);

106 
	`as£¹
(
	`li¡_Áh_d©a
(
li¡
, 0è=ğ&
v¬ŸbË4
);

107 
	`as£¹
(
	`li¡_Áh_d©a
(
li¡
, 1è=ğ&
v¬ŸbË3
);

108 
	`as£¹
(
	`li¡_Áh_d©a
(
li¡
, 2è=ğ&
v¬ŸbË2
);

109 
	`as£¹
(
	`li¡_Áh_d©a
(
li¡
, 3è=ğ&
v¬ŸbË1
);

113 
	`®loc_‹¡_£t_lim™
(0);

114 
	`as£¹
(
	`li¡_Ëngth
(
li¡
) == 4);

115 
	`as£¹
(
	`li¡_´•’d
(&
li¡
, &
v¬ŸbË1
è=ğ
NULL
);

116 
	`as£¹
(
	`li¡_Ëngth
(
li¡
) == 4);

117 
	`check_li¡_š‹gr™y
(
li¡
);

119 
	`li¡_ä“
(
li¡
);

120 
	}
}

122 
	$‹¡_li¡_ä“
()

124 
Li¡EÁry
 *
li¡
;

128 
li¡
 = 
	`g’”©e_li¡
();

130 
	`li¡_ä“
(
li¡
);

134 
	`li¡_ä“
(
NULL
);

135 
	}
}

137 
	$‹¡_li¡_Ãxt
()

139 
Li¡EÁry
 *
li¡
;

140 
Li¡EÁry
 *
rov”
;

142 
li¡
 = 
	`g’”©e_li¡
();

144 
rov”
 = 
li¡
;

145 
	`as£¹
(
	`li¡_d©a
(
rov”
è=ğ&
v¬ŸbË1
);

146 
rov”
 = 
	`li¡_Ãxt
(rover);

147 
	`as£¹
(
	`li¡_d©a
(
rov”
è=ğ&
v¬ŸbË2
);

148 
rov”
 = 
	`li¡_Ãxt
(rover);

149 
	`as£¹
(
	`li¡_d©a
(
rov”
è=ğ&
v¬ŸbË3
);

150 
rov”
 = 
	`li¡_Ãxt
(rover);

151 
	`as£¹
(
	`li¡_d©a
(
rov”
è=ğ&
v¬ŸbË4
);

152 
rov”
 = 
	`li¡_Ãxt
(rover);

153 
	`as£¹
(
rov”
 =ğ
NULL
);

155 
	`li¡_ä“
(
li¡
);

156 
	}
}

158 
	$‹¡_li¡_Áh_’Œy
()

160 
Li¡EÁry
 *
li¡
;

161 
Li¡EÁry
 *
’Œy
;

163 
li¡
 = 
	`g’”©e_li¡
();

167 
’Œy
 = 
	`li¡_Áh_’Œy
(
li¡
, 0);

168 
	`as£¹
(
	`li¡_d©a
(
’Œy
è=ğ&
v¬ŸbË1
);

169 
’Œy
 = 
	`li¡_Áh_’Œy
(
li¡
, 1);

170 
	`as£¹
(
	`li¡_d©a
(
’Œy
è=ğ&
v¬ŸbË2
);

171 
’Œy
 = 
	`li¡_Áh_’Œy
(
li¡
, 2);

172 
	`as£¹
(
	`li¡_d©a
(
’Œy
è=ğ&
v¬ŸbË3
);

173 
’Œy
 = 
	`li¡_Áh_’Œy
(
li¡
, 3);

174 
	`as£¹
(
	`li¡_d©a
(
’Œy
è=ğ&
v¬ŸbË4
);

178 
’Œy
 = 
	`li¡_Áh_’Œy
(
li¡
, 4);

179 
	`as£¹
(
’Œy
 =ğ
NULL
);

180 
’Œy
 = 
	`li¡_Áh_’Œy
(
li¡
, 400);

181 
	`as£¹
(
’Œy
 =ğ
NULL
);

183 
	`li¡_ä“
(
li¡
);

184 
	}
}

186 
	$‹¡_li¡_Áh_d©a
()

188 
Li¡EÁry
 *
li¡
;

190 
li¡
 = 
	`g’”©e_li¡
();

194 
	`as£¹
(
	`li¡_Áh_d©a
(
li¡
, 0è=ğ&
v¬ŸbË1
);

195 
	`as£¹
(
	`li¡_Áh_d©a
(
li¡
, 1è=ğ&
v¬ŸbË2
);

196 
	`as£¹
(
	`li¡_Áh_d©a
(
li¡
, 2è=ğ&
v¬ŸbË3
);

197 
	`as£¹
(
	`li¡_Áh_d©a
(
li¡
, 3è=ğ&
v¬ŸbË4
);

201 
	`as£¹
(
	`li¡_Áh_d©a
(
li¡
, 4è=ğ
NULL
);

202 
	`as£¹
(
	`li¡_Áh_d©a
(
li¡
, 400è=ğ
NULL
);

204 
	`li¡_ä“
(
li¡
);

205 
	}
}

207 
	$‹¡_li¡_Ëngth
()

209 
Li¡EÁry
 *
li¡
;

213 
li¡
 = 
	`g’”©e_li¡
();

215 
	`as£¹
(
	`li¡_Ëngth
(
li¡
) == 4);

219 
	`as£¹
(
	`li¡_´•’d
(&
li¡
, &
v¬ŸbË1
è!ğ
NULL
);

221 
	`as£¹
(
	`li¡_Ëngth
(
li¡
) == 5);

223 
	`li¡_ä“
(
li¡
);

227 
	`as£¹
(
	`li¡_Ëngth
(
NULL
) == 0);

228 
	}
}

230 
	$‹¡_li¡_»move_’Œy
()

232 
Li¡EÁry
 *
em±y_li¡
 = 
NULL
;

233 
Li¡EÁry
 *
li¡
;

234 
Li¡EÁry
 *
’Œy
;

236 
li¡
 = 
	`g’”©e_li¡
();

240 
’Œy
 = 
	`li¡_Áh_’Œy
(
li¡
, 2);

241 
	`as£¹
(
	`li¡_»move_’Œy
(&
li¡
, 
’Œy
) != 0);

242 
	`as£¹
(
	`li¡_Ëngth
(
li¡
) == 3);

243 
	`check_li¡_š‹gr™y
(
li¡
);

247 
’Œy
 = 
	`li¡_Áh_’Œy
(
li¡
, 0);

248 
	`as£¹
(
	`li¡_»move_’Œy
(&
li¡
, 
’Œy
) != 0);

249 
	`as£¹
(
	`li¡_Ëngth
(
li¡
) == 2);

250 
	`check_li¡_š‹gr™y
(
li¡
);

256 
	`as£¹
(
	`li¡_»move_’Œy
(&
li¡
, 
NULL
) == 0);

260 
	`as£¹
(
	`li¡_»move_’Œy
(&
em±y_li¡
, 
NULL
) == 0);

262 
	`li¡_ä“
(
li¡
);

266 
li¡
 = 
NULL
;

267 
	`as£¹
(
	`li¡_­³nd
(&
li¡
, &
v¬ŸbË1
è!ğ
NULL
);

268 
	`as£¹
(
li¡
 !ğ
NULL
);

269 
	`as£¹
(
	`li¡_»move_’Œy
(&
li¡
,†ist) != 0);

270 
	`as£¹
(
li¡
 =ğ
NULL
);

274 
li¡
 = 
	`g’”©e_li¡
();

275 
’Œy
 = 
	`li¡_Áh_’Œy
(
li¡
, 3);

276 
	`as£¹
(
	`li¡_»move_’Œy
(&
li¡
, 
’Œy
) != 0);

277 
	`check_li¡_š‹gr™y
(
li¡
);

278 
	`li¡_ä“
(
li¡
);

279 
	}
}

281 
	$‹¡_li¡_»move_d©a
()

283 
’Œ›s
[] = { 89, 4, 23, 42, 4, 16, 15, 4, 8, 99, 50, 30, 4 };

284 
num_’Œ›s
 = (
’Œ›s
) / ();

285 
v®
;

286 
Li¡EÁry
 *
li¡
;

287 
i
;

291 
li¡
 = 
NULL
;

293 
i
=0; i<
num_’Œ›s
; ++i) {

294 
	`as£¹
(
	`li¡_´•’d
(&
li¡
, &
’Œ›s
[
i
]è!ğ
NULL
);

299 
v®
 = 0;

300 
	`as£¹
(
	`li¡_»move_d©a
(&
li¡
, 
št_equ®
, &
v®
) == 0);

301 
v®
 = 56;

302 
	`as£¹
(
	`li¡_»move_d©a
(&
li¡
, 
št_equ®
, &
v®
) == 0);

303 
	`check_li¡_š‹gr™y
(
li¡
);

307 
v®
 = 8;

308 
	`as£¹
(
	`li¡_»move_d©a
(&
li¡
, 
št_equ®
, &
v®
) == 1);

309 
	`as£¹
(
	`li¡_Ëngth
(
li¡
è=ğ
num_’Œ›s
 - 1);

310 
	`check_li¡_š‹gr™y
(
li¡
);

314 
v®
 = 4;

315 
	`as£¹
(
	`li¡_»move_d©a
(&
li¡
, 
št_equ®
, &
v®
) == 4);

316 
	`as£¹
(
	`li¡_Ëngth
(
li¡
è=ğ
num_’Œ›s
 - 5);

317 
	`check_li¡_š‹gr™y
(
li¡
);

321 
v®
 = 89;

322 
	`as£¹
(
	`li¡_»move_d©a
(&
li¡
, 
št_equ®
, &
v®
) == 1);

323 
	`as£¹
(
	`li¡_Ëngth
(
li¡
è=ğ
num_’Œ›s
 - 6);

324 
	`check_li¡_š‹gr™y
(
li¡
);

326 
	`li¡_ä“
(
li¡
);

327 
	}
}

329 
	$‹¡_li¡_sÜt
()

331 
Li¡EÁry
 *
li¡
;

332 
’Œ›s
[] = { 89, 4, 23, 42, 4, 16, 15, 4, 8, 99, 50, 30, 4 };

333 
sÜ‹d
[] = { 4, 4, 4, 4, 8, 15, 16, 23, 30, 42, 50, 89, 99 };

334 
num_’Œ›s
 = (
’Œ›s
) / ();

335 
i
;

337 
li¡
 = 
NULL
;

339 
i
=0; i<
num_’Œ›s
; ++i) {

340 
	`as£¹
(
	`li¡_´•’d
(&
li¡
, &
’Œ›s
[
i
]è!ğ
NULL
);

343 
	`li¡_sÜt
(&
li¡
, 
št_com·»
);

347 
	`as£¹
(
	`li¡_Ëngth
(
li¡
è=ğ
num_’Œ›s
);

351 
i
=0; i<
num_’Œ›s
; ++i) {

352 *
v®ue
;

354 
v®ue
 = (*è
	`li¡_Áh_d©a
(
li¡
, 
i
);

355 
	`as£¹
(*
v®ue
 =ğ
sÜ‹d
[
i
]);

358 
	`li¡_ä“
(
li¡
);

362 
li¡
 = 
NULL
;

364 
	`li¡_sÜt
(&
li¡
, 
št_com·»
);

366 
	`as£¹
(
li¡
 =ğ
NULL
);

367 
	}
}

369 
	$‹¡_li¡_fšd_d©a
()

371 
’Œ›s
[] = { 89, 23, 42, 16, 15, 4, 8, 99, 50, 30 };

372 
num_’Œ›s
 = (
’Œ›s
) / ();

373 
Li¡EÁry
 *
li¡
;

374 
Li¡EÁry
 *
»suÉ
;

375 
i
;

376 
v®
;

377 *
d©a
;

381 
li¡
 = 
NULL
;

382 
i
=0; i<
num_’Œ›s
; ++i) {

383 
	`as£¹
(
	`li¡_­³nd
(&
li¡
, &
’Œ›s
[
i
]è!ğ
NULL
);

388 
i
=0; i<
num_’Œ›s
; ++i) {

390 
v®
 = 
’Œ›s
[
i
];

392 
»suÉ
 = 
	`li¡_fšd_d©a
(
li¡
, 
št_equ®
, &
v®
);

394 
	`as£¹
(
»suÉ
 !ğ
NULL
);

396 
d©a
 = (*è
	`li¡_d©a
(
»suÉ
);

397 
	`as£¹
(*
d©a
 =ğ
v®
);

402 
v®
 = 0;

403 
	`as£¹
(
	`li¡_fšd_d©a
(
li¡
, 
št_equ®
, &
v®
è=ğ
NULL
);

404 
v®
 = 56;

405 
	`as£¹
(
	`li¡_fšd_d©a
(
li¡
, 
št_equ®
, &
v®
è=ğ
NULL
);

407 
	`li¡_ä“
(
li¡
);

408 
	}
}

410 
	$‹¡_li¡_to_¬¿y
()

412 
Li¡EÁry
 *
li¡
;

413 **
¬¿y
;

415 
li¡
 = 
	`g’”©e_li¡
();

417 
¬¿y
 = 
	`li¡_to_¬¿y
(
li¡
);

419 
	`as£¹
(
¬¿y
[0] =ğ&
v¬ŸbË1
);

420 
	`as£¹
(
¬¿y
[1] =ğ&
v¬ŸbË2
);

421 
	`as£¹
(
¬¿y
[2] =ğ&
v¬ŸbË3
);

422 
	`as£¹
(
¬¿y
[3] =ğ&
v¬ŸbË4
);

424 
	`ä“
(
¬¿y
);

428 
	`®loc_‹¡_£t_lim™
(0);

430 
¬¿y
 = 
	`li¡_to_¬¿y
(
li¡
);

431 
	`as£¹
(
¬¿y
 =ğ
NULL
);

433 
	`li¡_ä“
(
li¡
);

434 
	}
}

436 
	$‹¡_li¡_™”©e
()

438 
Li¡EÁry
 *
li¡
;

439 
Li¡I‹¿tÜ
 
™”
;

440 
i
;

441 
a
;

442 
couÁ”
;

443 *
d©a
;

447 
li¡
 = 
NULL
;

449 
i
=0; i<50; ++i) {

450 
	`as£¹
(
	`li¡_´•’d
(&
li¡
, &
a
è!ğ
NULL
);

455 
couÁ”
 = 0;

457 
	`li¡_™”©e
(&
li¡
, &
™”
);

461 
	`li¡_™”_»move
(&
™”
);

465 
	`li¡_™”_has_mÜe
(&
™”
)) {

466 
d©a
 = (*è
	`li¡_™”_Ãxt
(&
™”
);

467 ++
couÁ”
;

469 ià((
couÁ”
 % 2) == 0) {

472 
	`li¡_™”_»move
(&
™”
);

476 
	`li¡_™”_»move
(&
™”
);

482 
	`as£¹
(
	`li¡_™”_Ãxt
(&
™”
è=ğ
NULL
);

486 
	`li¡_™”_»move
(&
™”
);

488 
	`as£¹
(
couÁ”
 == 50);

489 
	`as£¹
(
	`li¡_Ëngth
(
li¡
) == 25);

491 
	`li¡_ä“
(
li¡
);

495 
li¡
 = 
NULL
;

496 
couÁ”
 = 0;

498 
	`li¡_™”©e
(&
li¡
, &
™”
);

500 
	`li¡_™”_has_mÜe
(&
™”
)) {

501 
d©a
 = (*è
	`li¡_™”_Ãxt
(&
™”
);

502 ++
couÁ”
;

505 
	`as£¹
(
couÁ”
 == 0);

506 
	}
}

511 
	$‹¡_li¡_™”©e_bad_»move
()

513 
Li¡EÁry
 *
li¡
;

514 
Li¡I‹¿tÜ
 
™”
;

515 
v®ues
[49];

516 
i
;

517 *
v®
;

521 
li¡
 = 
NULL
;

523 
i
=0; i<49; ++i) {

524 
v®ues
[
i
] = i;

525 
	`as£¹
(
	`li¡_´•’d
(&
li¡
, &
v®ues
[
i
]è!ğ
NULL
);

532 
	`li¡_™”©e
(&
li¡
, &
™”
);

534 
	`li¡_™”_has_mÜe
(&
™”
)) {

535 
v®
 = 
	`li¡_™”_Ãxt
(&
™”
);

541 ià((*
v®
 % 2) == 0) {

542 
	`as£¹
(
	`li¡_»move_d©a
(&
li¡
, 
št_equ®
, 
v®
) != 0);

543 
	`li¡_™”_»move
(&
™”
);

547 
	`li¡_ä“
(
li¡
);

548 
	}
}

550 
Un™Te¡FunùiÚ
 
	g‹¡s
[] = {

551 
‹¡_li¡_­³nd
,

552 
‹¡_li¡_´•’d
,

553 
‹¡_li¡_ä“
,

554 
‹¡_li¡_Ãxt
,

555 
‹¡_li¡_Áh_’Œy
,

556 
‹¡_li¡_Áh_d©a
,

557 
‹¡_li¡_Ëngth
,

558 
‹¡_li¡_»move_’Œy
,

559 
‹¡_li¡_»move_d©a
,

560 
‹¡_li¡_sÜt
,

561 
‹¡_li¡_fšd_d©a
,

562 
‹¡_li¡_to_¬¿y
,

563 
‹¡_li¡_™”©e
,

564 
‹¡_li¡_™”©e_bad_»move
,

565 
NULL


568 
	$maš
(
¬gc
, *
¬gv
[])

570 
	`run_‹¡s
(
‹¡s
);

573 
	}
}

	@test/test-queue.c

21 
	~<¡dio.h
>

22 
	~<¡dlib.h
>

23 
	~<as£¹.h
>

25 
	~"®loc-‹¡šg.h
"

26 
	~"äamewÜk.h
"

28 
	~"queue.h
"

30 
	gv¬ŸbË1
, 
	gv¬ŸbË2
, 
	gv¬ŸbË3
, 
	gv¬ŸbË4
;

32 
Queue
 *
	$g’”©e_queue
()

34 
Queue
 *
queue
;

35 
i
;

37 
queue
 = 
	`queue_Ãw
();

41 
i
=0; i<1000; ++i) {

42 
	`queue_push_h—d
(
queue
, &
v¬ŸbË1
);

43 
	`queue_push_h—d
(
queue
, &
v¬ŸbË2
);

44 
	`queue_push_h—d
(
queue
, &
v¬ŸbË3
);

45 
	`queue_push_h—d
(
queue
, &
v¬ŸbË4
);

48  
queue
;

49 
	}
}

53 
	$‹¡_queue_Ãw_ä“
()

55 
i
;

56 
Queue
 *
queue
;

60 
queue
 = 
	`queue_Ãw
();

62 
	`queue_ä“
(
queue
);

66 
queue
 = 
	`queue_Ãw
();

68 
i
=0; i<1000; ++i) {

69 
	`queue_push_h—d
(
queue
, &
v¬ŸbË1
);

72 
	`queue_ä“
(
queue
);

76 
	`®loc_‹¡_£t_lim™
(0);

77 
queue
 = 
	`queue_Ãw
();

78 
	`as£¹
(
queue
 =ğ
NULL
);

79 
	}
}

81 
	$‹¡_queue_push_h—d
()

83 
Queue
 *
queue
;

84 
i
;

86 
queue
 = 
	`queue_Ãw
();

90 
i
=0; i<1000; ++i) {

91 
	`queue_push_h—d
(
queue
, &
v¬ŸbË1
);

92 
	`queue_push_h—d
(
queue
, &
v¬ŸbË2
);

93 
	`queue_push_h—d
(
queue
, &
v¬ŸbË3
);

94 
	`queue_push_h—d
(
queue
, &
v¬ŸbË4
);

97 
	`as£¹
(!
	`queue_is_em±y
(
queue
));

101 
	`as£¹
(
	`queue_pİ_
(
queue
è=ğ&
v¬ŸbË1
);

102 
	`as£¹
(
	`queue_pİ_
(
queue
è=ğ&
v¬ŸbË2
);

103 
	`as£¹
(
	`queue_pİ_
(
queue
è=ğ&
v¬ŸbË3
);

104 
	`as£¹
(
	`queue_pİ_
(
queue
è=ğ&
v¬ŸbË4
);

108 
	`as£¹
(
	`queue_pİ_h—d
(
queue
è=ğ&
v¬ŸbË4
);

109 
	`as£¹
(
	`queue_pİ_h—d
(
queue
è=ğ&
v¬ŸbË3
);

110 
	`as£¹
(
	`queue_pİ_h—d
(
queue
è=ğ&
v¬ŸbË2
);

111 
	`as£¹
(
	`queue_pİ_h—d
(
queue
è=ğ&
v¬ŸbË1
);

113 
	`queue_ä“
(
queue
);

117 
queue
 = 
	`queue_Ãw
();

119 
	`®loc_‹¡_£t_lim™
(0);

120 
	`as£¹
(!
	`queue_push_h—d
(
queue
, &
v¬ŸbË1
));

122 
	`queue_ä“
(
queue
);

123 
	}
}

125 
	$‹¡_queue_pİ_h—d
()

127 
Queue
 *
queue
;

131 
queue
 = 
	`queue_Ãw
();

133 
	`as£¹
(
	`queue_pİ_h—d
(
queue
è=ğ
NULL
);

135 
	`queue_ä“
(
queue
);

139 
queue
 = 
	`g’”©e_queue
();

141 !
	`queue_is_em±y
(
queue
)) {

142 
	`as£¹
(
	`queue_pİ_h—d
(
queue
è=ğ&
v¬ŸbË4
);

143 
	`as£¹
(
	`queue_pİ_h—d
(
queue
è=ğ&
v¬ŸbË3
);

144 
	`as£¹
(
	`queue_pİ_h—d
(
queue
è=ğ&
v¬ŸbË2
);

145 
	`as£¹
(
	`queue_pİ_h—d
(
queue
è=ğ&
v¬ŸbË1
);

148 
	`as£¹
(
	`queue_pİ_h—d
(
queue
è=ğ
NULL
);

150 
	`queue_ä“
(
queue
);

151 
	}
}

153 
	$‹¡_queue_³ek_h—d
()

155 
Queue
 *
queue
;

159 
queue
 = 
	`queue_Ãw
();

161 
	`as£¹
(
	`queue_³ek_h—d
(
queue
è=ğ
NULL
);

163 
	`queue_ä“
(
queue
);

168 
queue
 = 
	`g’”©e_queue
();

170 !
	`queue_is_em±y
(
queue
)) {

171 
	`as£¹
(
	`queue_³ek_h—d
(
queue
è=ğ&
v¬ŸbË4
);

172 
	`as£¹
(
	`queue_pİ_h—d
(
queue
è=ğ&
v¬ŸbË4
);

173 
	`as£¹
(
	`queue_³ek_h—d
(
queue
è=ğ&
v¬ŸbË3
);

174 
	`as£¹
(
	`queue_pİ_h—d
(
queue
è=ğ&
v¬ŸbË3
);

175 
	`as£¹
(
	`queue_³ek_h—d
(
queue
è=ğ&
v¬ŸbË2
);

176 
	`as£¹
(
	`queue_pİ_h—d
(
queue
è=ğ&
v¬ŸbË2
);

177 
	`as£¹
(
	`queue_³ek_h—d
(
queue
è=ğ&
v¬ŸbË1
);

178 
	`as£¹
(
	`queue_pİ_h—d
(
queue
è=ğ&
v¬ŸbË1
);

181 
	`as£¹
(
	`queue_³ek_h—d
(
queue
è=ğ
NULL
);

183 
	`queue_ä“
(
queue
);

184 
	}
}

186 
	$‹¡_queue_push_
()

188 
Queue
 *
queue
;

189 
i
;

191 
queue
 = 
	`queue_Ãw
();

195 
i
=0; i<1000; ++i) {

196 
	`queue_push_
(
queue
, &
v¬ŸbË1
);

197 
	`queue_push_
(
queue
, &
v¬ŸbË2
);

198 
	`queue_push_
(
queue
, &
v¬ŸbË3
);

199 
	`queue_push_
(
queue
, &
v¬ŸbË4
);

202 
	`as£¹
(!
	`queue_is_em±y
(
queue
));

206 
	`as£¹
(
	`queue_pİ_h—d
(
queue
è=ğ&
v¬ŸbË1
);

207 
	`as£¹
(
	`queue_pİ_h—d
(
queue
è=ğ&
v¬ŸbË2
);

208 
	`as£¹
(
	`queue_pİ_h—d
(
queue
è=ğ&
v¬ŸbË3
);

209 
	`as£¹
(
	`queue_pİ_h—d
(
queue
è=ğ&
v¬ŸbË4
);

213 
	`as£¹
(
	`queue_pİ_
(
queue
è=ğ&
v¬ŸbË4
);

214 
	`as£¹
(
	`queue_pİ_
(
queue
è=ğ&
v¬ŸbË3
);

215 
	`as£¹
(
	`queue_pİ_
(
queue
è=ğ&
v¬ŸbË2
);

216 
	`as£¹
(
	`queue_pİ_
(
queue
è=ğ&
v¬ŸbË1
);

218 
	`queue_ä“
(
queue
);

222 
queue
 = 
	`queue_Ãw
();

224 
	`®loc_‹¡_£t_lim™
(0);

225 
	`as£¹
(!
	`queue_push_
(
queue
, &
v¬ŸbË1
));

227 
	`queue_ä“
(
queue
);

228 
	}
}

230 
	$‹¡_queue_pİ_
()

232 
Queue
 *
queue
;

236 
queue
 = 
	`queue_Ãw
();

238 
	`as£¹
(
	`queue_pİ_
(
queue
è=ğ
NULL
);

240 
	`queue_ä“
(
queue
);

244 
queue
 = 
	`g’”©e_queue
();

246 !
	`queue_is_em±y
(
queue
)) {

247 
	`as£¹
(
	`queue_pİ_
(
queue
è=ğ&
v¬ŸbË1
);

248 
	`as£¹
(
	`queue_pİ_
(
queue
è=ğ&
v¬ŸbË2
);

249 
	`as£¹
(
	`queue_pİ_
(
queue
è=ğ&
v¬ŸbË3
);

250 
	`as£¹
(
	`queue_pİ_
(
queue
è=ğ&
v¬ŸbË4
);

253 
	`as£¹
(
	`queue_pİ_
(
queue
è=ğ
NULL
);

255 
	`queue_ä“
(
queue
);

256 
	}
}

258 
	$‹¡_queue_³ek_
()

260 
Queue
 *
queue
;

264 
queue
 = 
	`queue_Ãw
();

266 
	`as£¹
(
	`queue_³ek_
(
queue
è=ğ
NULL
);

268 
	`queue_ä“
(
queue
);

273 
queue
 = 
	`g’”©e_queue
();

275 !
	`queue_is_em±y
(
queue
)) {

276 
	`as£¹
(
	`queue_³ek_
(
queue
è=ğ&
v¬ŸbË1
);

277 
	`as£¹
(
	`queue_pİ_
(
queue
è=ğ&
v¬ŸbË1
);

278 
	`as£¹
(
	`queue_³ek_
(
queue
è=ğ&
v¬ŸbË2
);

279 
	`as£¹
(
	`queue_pİ_
(
queue
è=ğ&
v¬ŸbË2
);

280 
	`as£¹
(
	`queue_³ek_
(
queue
è=ğ&
v¬ŸbË3
);

281 
	`as£¹
(
	`queue_pİ_
(
queue
è=ğ&
v¬ŸbË3
);

282 
	`as£¹
(
	`queue_³ek_
(
queue
è=ğ&
v¬ŸbË4
);

283 
	`as£¹
(
	`queue_pİ_
(
queue
è=ğ&
v¬ŸbË4
);

286 
	`as£¹
(
	`queue_³ek_
(
queue
è=ğ
NULL
);

288 
	`queue_ä“
(
queue
);

289 
	}
}

291 
	$‹¡_queue_is_em±y
()

293 
Queue
 *
queue
;

295 
queue
 = 
	`queue_Ãw
();

297 
	`as£¹
(
	`queue_is_em±y
(
queue
));

299 
	`queue_push_h—d
(
queue
, &
v¬ŸbË1
);

301 
	`as£¹
(!
	`queue_is_em±y
(
queue
));

303 
	`queue_pİ_h—d
(
queue
);

305 
	`as£¹
(
	`queue_is_em±y
(
queue
));

307 
	`queue_push_
(
queue
, &
v¬ŸbË1
);

309 
	`as£¹
(!
	`queue_is_em±y
(
queue
));

311 
	`queue_pİ_
(
queue
);

313 
	`as£¹
(
	`queue_is_em±y
(
queue
));

315 
	`queue_ä“
(
queue
);

316 
	}
}

318 
Un™Te¡FunùiÚ
 
	g‹¡s
[] = {

319 
‹¡_queue_Ãw_ä“
,

320 
‹¡_queue_push_h—d
,

321 
‹¡_queue_pİ_h—d
,

322 
‹¡_queue_³ek_h—d
,

323 
‹¡_queue_push_
,

324 
‹¡_queue_pİ_
,

325 
‹¡_queue_³ek_
,

326 
‹¡_queue_is_em±y
,

327 
NULL


330 
	$maš
(
¬gc
, *
¬gv
[])

332 
	`run_‹¡s
(
‹¡s
);

335 
	}
}

	@test/test-rb-tree.c

21 
	~<¡dio.h
>

22 
	~<¡dlib.h
>

23 
	~<as£¹.h
>

25 
	~"®loc-‹¡šg.h
"

26 
	~"äamewÜk.h
"

28 
	~"rb-Œ“.h
"

29 
	~"com·»-št.h
"

31 
	#NUM_TEST_VALUES
 1000

	)

33 
	g‹¡_¬¿y
[
NUM_TEST_VALUES
];

38 
	$´št_Œ“
(
RBT»eNode
 *
node
, 
d•th
)

40 *
v®ue
;

41 
i
;

43 ià(
node
 =ğ
NULL
) {

47 
	`´št_Œ“
(
	`rb_Œ“_node_chd
(
node
, 
RB_TREE_NODE_LEFT
), 
d•th
 + 1);

49 
i
=0; i<
d•th
*6; ++i) {

50 
	`´štf
(" ");

53 
v®ue
 = 
	`rb_Œ“_node_key
(
node
);

54 
	`´štf
("%i\n", *
v®ue
);

56 
	`´št_Œ“
(
	`rb_Œ“_node_chd
(
node
, 
RB_TREE_NODE_RIGHT
), 
d•th
 + 1);

57 
	}
}

60 
	$fšd_subŒ“_height
(
RBT»eNode
 *
node
)

62 
RBT»eNode
 *
Ëá_subŒ“
;

63 
RBT»eNode
 *
right_subŒ“
;

64 
Ëá_height
, 
right_height
;

66 ià(
node
 =ğ
NULL
) {

70 
Ëá_subŒ“
 = 
	`rb_Œ“_node_chd
(
node
, 
RB_TREE_NODE_LEFT
);

71 
right_subŒ“
 = 
	`rb_Œ“_node_chd
(
node
, 
RB_TREE_NODE_RIGHT
);

72 
Ëá_height
 = 
	`fšd_subŒ“_height
(
Ëá_subŒ“
);

73 
right_height
 = 
	`fšd_subŒ“_height
(
right_subŒ“
);

75 ià(
Ëá_height
 > 
right_height
) {

76  
Ëá_height
 + 1;

78  
right_height
 + 1;

80 
	}
}

82 
	$v®id©e_Œ“
(
RBT»e
 *
Œ“
)

84 
	}
}

86 
RBT»e
 *
	$ü—‹_Œ“
()

88 
RBT»e
 *
Œ“
;

89 
i
;

93 
Œ“
 = 
	`rb_Œ“_Ãw
((
RBT»eCom·»Func
è
št_com·»
);

95 
i
=0; i<
NUM_TEST_VALUES
; ++i) {

96 
‹¡_¬¿y
[
i
] = i;

97 
	`rb_Œ“_š£¹
(
Œ“
, &
‹¡_¬¿y
[
i
], &test_array[i]);

100  
Œ“
;

101 
	}
}

103 
	$‹¡_rb_Œ“_Ãw
()

105 
RBT»e
 *
Œ“
;

107 
Œ“
 = 
	`rb_Œ“_Ãw
((
RBT»eCom·»Func
è
št_com·»
);

109 
	`as£¹
(
Œ“
 !ğ
NULL
);

110 
	`as£¹
(
	`rb_Œ“_roÙ_node
(
Œ“
è=ğ
NULL
);

111 
	`as£¹
(
	`rb_Œ“_num_’Œ›s
(
Œ“
) == 0);

113 
	`rb_Œ“_ä“
(
Œ“
);

117 
	`®loc_‹¡_£t_lim™
(0);

119 
Œ“
 = 
	`rb_Œ“_Ãw
((
RBT»eCom·»Func
è
št_com·»
);

121 
	`as£¹
(
Œ“
 =ğ
NULL
);

123 
	}
}

125 
	$‹¡_rb_Œ“_š£¹_lookup
()

127 
RBT»e
 *
Œ“
;

128 
RBT»eNode
 *
node
;

129 
i
;

130 *
v®ue
;

135 
Œ“
 = 
	`rb_Œ“_Ãw
((
RBT»eCom·»Func
è
št_com·»
);

137 
i
=0; i<
NUM_TEST_VALUES
; ++i) {

138 
‹¡_¬¿y
[
i
] = i;

139 
	`rb_Œ“_š£¹
(
Œ“
, &
‹¡_¬¿y
[
i
], &test_array[i]);

141 
	`as£¹
(
	`rb_Œ“_num_’Œ›s
(
Œ“
è=ğ
i
 + 1);

142 
	`v®id©e_Œ“
(
Œ“
);

145 
	`as£¹
(
	`rb_Œ“_roÙ_node
(
Œ“
è!ğ
NULL
);

149 
i
=0; i<
NUM_TEST_VALUES
; ++i) {

150 
node
 = 
	`rb_Œ“_lookup_node
(
Œ“
, &
i
);

151 
	`as£¹
(
node
 !ğ
NULL
);

152 
v®ue
 = 
	`rb_Œ“_node_key
(
node
);

153 
	`as£¹
(*
v®ue
 =ğ
i
);

154 
v®ue
 = 
	`rb_Œ“_node_v®ue
(
node
);

155 
	`as£¹
(*
v®ue
 =ğ
i
);

160 
i
 = -1;

161 
	`as£¹
(
	`rb_Œ“_lookup_node
(
Œ“
, &
i
è=ğ
NULL
);

162 
i
 = 
NUM_TEST_VALUES
 + 100;

163 
	`as£¹
(
	`rb_Œ“_lookup_node
(
Œ“
, &
i
è=ğ
NULL
);

165 
	`rb_Œ“_ä“
(
Œ“
);

166 
	}
}

168 
	$‹¡_rb_Œ“_chd
()

170 
RBT»e
 *
Œ“
;

171 
RBT»eNode
 *
roÙ
;

172 
RBT»eNode
 *
Ëá
;

173 
RBT»eNode
 *
right
;

174 
v®ues
[] = { 1, 2, 3 };

175 *
p
;

176 
i
;

181 
Œ“
 = 
	`rb_Œ“_Ãw
((
RBT»eCom·»Func
è
št_com·»
);

183 
i
=0; i<3; ++i) {

184 
	`rb_Œ“_š£¹
(
Œ“
, &
v®ues
[
i
], &values[i]);

189 
roÙ
 = 
	`rb_Œ“_roÙ_node
(
Œ“
);

190 
p
 = 
	`rb_Œ“_node_v®ue
(
roÙ
);

191 
	`as£¹
(*
p
 == 2);

193 
Ëá
 = 
	`rb_Œ“_node_chd
(
roÙ
, 
RB_TREE_NODE_LEFT
);

194 
p
 = 
	`rb_Œ“_node_v®ue
(
Ëá
);

195 
	`as£¹
(*
p
 == 1);

197 
right
 = 
	`rb_Œ“_node_chd
(
roÙ
, 
RB_TREE_NODE_RIGHT
);

198 
p
 = 
	`rb_Œ“_node_v®ue
(
right
);

199 
	`as£¹
(*
p
 == 3);

203 
	`as£¹
(
	`rb_Œ“_node_chd
(
roÙ
, -1è=ğ
NULL
);

204 
	`as£¹
(
	`rb_Œ“_node_chd
(
roÙ
, 10000è=ğ
NULL
);

205 
	`as£¹
(
	`rb_Œ“_node_chd
(
roÙ
, 2è=ğ
NULL
);

206 
	`as£¹
(
	`rb_Œ“_node_chd
(
roÙ
, -100000è=ğ
NULL
);

208 
	`rb_Œ“_ä“
(
Œ“
);

209 
	}
}

211 
	$‹¡_out_of_memÜy
()

213 
RBT»e
 *
Œ“
;

214 
RBT»eNode
 *
node
;

215 
i
;

219 
Œ“
 = 
	`ü—‹_Œ“
();

223 
	`®loc_‹¡_£t_lim™
(0);

227 
i
=10000; i<20000; ++i) {

228 
node
 = 
	`rb_Œ“_š£¹
(
Œ“
, &
i
, &i);

229 
	`as£¹
(
node
 =ğ
NULL
);

230 
	`v®id©e_Œ“
(
Œ“
);

233 
	`rb_Œ“_ä“
(
Œ“
);

234 
	}
}

236 
	$‹¡_rb_Œ“_ä“
()

238 
RBT»e
 *
Œ“
;

242 
Œ“
 = 
	`rb_Œ“_Ãw
((
RBT»eCom·»Func
è
št_com·»
);

243 
	`rb_Œ“_ä“
(
Œ“
);

247 
Œ“
 = 
	`ü—‹_Œ“
();

248 
	`rb_Œ“_ä“
(
Œ“
);

249 
	}
}

251 
	$‹¡_rb_Œ“_lookup
()

253 
RBT»e
 *
Œ“
;

254 
i
;

255 *
v®ue
;

259 
Œ“
 = 
	`ü—‹_Œ“
();

261 
i
=0; i<
NUM_TEST_VALUES
; ++i) {

262 
v®ue
 = 
	`rb_Œ“_lookup
(
Œ“
, &
i
);

264 
	`as£¹
(
v®ue
 !ğ
NULL
);

265 
	`as£¹
(*
v®ue
 =ğ
i
);

270 
i
 = -1;

271 
	`as£¹
(
	`rb_Œ“_lookup
(
Œ“
, &
i
è=ğ
NULL
);

272 
i
 = 
NUM_TEST_VALUES
 + 1;

273 
	`as£¹
(
	`rb_Œ“_lookup
(
Œ“
, &
i
è=ğ
NULL
);

274 
i
 = 8724897;

275 
	`as£¹
(
	`rb_Œ“_lookup
(
Œ“
, &
i
è=ğ
NULL
);

277 
	`rb_Œ“_ä“
(
Œ“
);

278 
	}
}

280 
	$‹¡_rb_Œ“_»move
()

282 
RBT»e
 *
Œ“
;

283 
i
;

284 
x
, 
y
, 
z
;

285 
v®ue
;

286 
ex³ùed_’Œ›s
;

288 
Œ“
 = 
	`ü—‹_Œ“
();

292 
i
 = 
NUM_TEST_VALUES
 + 100;

293 
	`as£¹
(
	`rb_Œ“_»move
(
Œ“
, &
i
) == 0);

294 
i
 = -1;

295 
	`as£¹
(
	`rb_Œ“_»move
(
Œ“
, &
i
) == 0);

299 
ex³ùed_’Œ›s
 = 
NUM_TEST_VALUES
;

304 
x
=0; x<10; ++x) {

305 
y
=0; y<10; ++y) {

306 
z
=0; z<10; ++z) {

307 
v®ue
 = 
z
 * 100 + (9 - 
y
è* 10 + 
x
;

308 
	`as£¹
(
	`rb_Œ“_»move
(
Œ“
, &
v®ue
) != 0);

309 
	`v®id©e_Œ“
(
Œ“
);

310 
ex³ùed_’Œ›s
 -= 1;

311 
	`as£¹
(
	`rb_Œ“_num_’Œ›s
(
Œ“
)

312 =ğ
ex³ùed_’Œ›s
);

319 
	`as£¹
(
	`rb_Œ“_roÙ_node
(
Œ“
è=ğ
NULL
);

321 
	`rb_Œ“_ä“
(
Œ“
);

322 
	}
}

324 
	$‹¡_rb_Œ“_to_¬¿y
()

326 
RBT»e
 *
Œ“
;

327 
’Œ›s
[] = { 89, 23, 42, 4, 16, 15, 8, 99, 50, 30 };

328 
sÜ‹d
[] = { 4, 8, 15, 16, 23, 30, 42, 50, 89, 99 };

329 
num_’Œ›s
 = (
’Œ›s
) / ();

330 
i
;

331 **
¬¿y
;

335 
Œ“
 = 
	`rb_Œ“_Ãw
((
RBT»eCom·»Func
è
št_com·»
);

337 
i
=0; i<
num_’Œ›s
; ++i) {

338 
	`rb_Œ“_š£¹
(
Œ“
, &
’Œ›s
[
i
], 
NULL
);

341 
	`as£¹
(
	`rb_Œ“_num_’Œ›s
(
Œ“
è=ğ
num_’Œ›s
);

345 
¬¿y
 = (**è
	`rb_Œ“_to_¬¿y
(
Œ“
);

347 
i
=0; i<
num_’Œ›s
; ++i) {

348 
	`as£¹
(*
¬¿y
[
i
] =ğ
sÜ‹d
[i]);

351 
	`ä“
(
¬¿y
);

355 
	`®loc_‹¡_£t_lim™
(0);

357 
¬¿y
 = (**è
	`rb_Œ“_to_¬¿y
(
Œ“
);

358 
	`as£¹
(
¬¿y
 =ğ
NULL
);

359 
	`v®id©e_Œ“
(
Œ“
);

361 
	`rb_Œ“_ä“
(
Œ“
);

362 
	}
}

364 
Un™Te¡FunùiÚ
 
	g‹¡s
[] = {

365 
‹¡_rb_Œ“_Ãw
,

366 
‹¡_rb_Œ“_ä“
,

367 
‹¡_rb_Œ“_chd
,

368 
‹¡_rb_Œ“_š£¹_lookup
,

369 
‹¡_rb_Œ“_lookup
,

372 
‹¡_out_of_memÜy
,

373 
NULL


376 
	$maš
(
¬gc
, *
¬gv
[])

378 
	`run_‹¡s
(
‹¡s
);

380 
	}
}

	@test/test-set.c

21 
	~<¡dio.h
>

22 
	~<¡dlib.h
>

23 
	~<¡ršg.h
>

24 
	~<as£¹.h
>

26 
	~"®loc-‹¡šg.h
"

27 
	~"äamewÜk.h
"

29 
	~"£t.h
"

30 
	~"com·»-št.h
"

31 
	~"hash-št.h
"

32 
	~"com·»-poš‹r.h
"

33 
	~"hash-poš‹r.h
"

34 
	~"com·»-¡ršg.h
"

35 
	~"hash-¡ršg.h
"

37 
	g®loÿ‹d_v®ues
;

39 
S‘
 *
	$g’”©e_£t
()

41 
S‘
 *
£t
;

42 
buf
[10];

43 
i
;

44 *
v®ue
;

46 
£t
 = 
	`£t_Ãw
(
¡ršg_hash
, 
¡ršg_equ®
);

51 
i
=0; i<10000; ++i) {

52 
	`¥rštf
(
buf
, "%i", 
i
);

53 
v®ue
 = 
	`¡rdup
(
buf
);

55 
	`£t_š£¹
(
£t
, 
v®ue
);

57 
	`as£¹
(
	`£t_num_’Œ›s
(
£t
è=ğ
i
 + 1);

60 
	`£t_»gi¡”_ä“_funùiÚ
(
£t
, 
ä“
);

62  
£t
;

63 
	}
}

65 
	$‹¡_£t_Ãw_ä“
()

67 
S‘
 *
£t
;

68 
i
;

69 *
v®ue
;

71 
£t
 = 
	`£t_Ãw
(
št_hash
, 
št_equ®
);

73 
	`£t_»gi¡”_ä“_funùiÚ
(
£t
, 
ä“
);

75 
	`as£¹
(
£t
 !ğ
NULL
);

79 
i
=0; i<10000; ++i) {

80 
v®ue
 = (*è
	`m®loc
(());

82 *
v®ue
 = 
i
;

84 
	`£t_š£¹
(
£t
, 
v®ue
);

89 
	`£t_ä“
(
£t
);

93 
	`®loc_‹¡_£t_lim™
(0);

94 
£t
 = 
	`£t_Ãw
(
št_hash
, 
št_equ®
);

95 
	`as£¹
(
£t
 =ğ
NULL
);

97 
	`®loc_‹¡_£t_lim™
(1);

98 
£t
 = 
	`£t_Ãw
(
št_hash
, 
št_equ®
);

99 
	`as£¹
(
£t
 =ğ
NULL
);

100 
	`as£¹
(
	`®loc_‹¡_g‘_®loÿ‹d
() == 0);

101 
	}
}

103 
	$‹¡_£t_š£¹
()

105 
S‘
 *
£t
;

106 
numb”s1
[] = { 1, 2, 3, 4, 5, 6 };

107 
numb”s2
[] = { 5, 6, 7, 8, 9, 10 };

108 
i
;

113 
£t
 = 
	`£t_Ãw
(
št_hash
, 
št_equ®
);

115 
i
=0; i<6; ++i) {

116 
	`£t_š£¹
(
£t
, &
numb”s1
[
i
]);

118 
i
=0; i<6; ++i) {

119 
	`£t_š£¹
(
£t
, &
numb”s2
[
i
]);

122 
	`as£¹
(
	`£t_num_’Œ›s
(
£t
) == 10);

124 
	`£t_ä“
(
£t
);

125 
	}
}

127 
	$‹¡_£t_qu”y
()

129 
S‘
 *
£t
;

130 
buf
[10];

131 
i
;

133 
£t
 = 
	`g’”©e_£t
();

137 
i
=0; i<10000; ++i) {

138 
	`¥rštf
(
buf
, "%i", 
i
);

139 
	`as£¹
(
	`£t_qu”y
(
£t
, 
buf
) != 0);

144 
	`as£¹
(
	`£t_qu”y
(
£t
, "-1") == 0);

145 
	`as£¹
(
	`£t_qu”y
(
£t
, "100001") == 0);

147 
	`£t_ä“
(
£t
);

148 
	}
}

150 
	$‹¡_£t_»move
()

152 
S‘
 *
£t
;

153 
buf
[10];

154 
i
;

155 
num_’Œ›s
;

157 
£t
 = 
	`g’”©e_£t
();

159 
num_’Œ›s
 = 
	`£t_num_’Œ›s
(
£t
);

160 
	`as£¹
(
num_’Œ›s
 == 10000);

164 
i
=4000; i<6000; ++i) {

166 
	`¥rštf
(
buf
, "%i", 
i
);

170 
	`as£¹
(
	`£t_qu”y
(
£t
, 
buf
) != 0);

174 
	`as£¹
(
	`£t_»move
(
£t
, 
buf
) != 0);

178 
	`as£¹
(
	`£t_num_’Œ›s
(
£t
è=ğ
num_’Œ›s
 - 1);

182 
	`as£¹
(
	`£t_qu”y
(
£t
, 
buf
) == 0);

184 --
num_’Œ›s
;

189 
i
=-1000; i<-500; ++i) {

190 
	`¥rštf
(
buf
, "%i", 
i
);

192 
	`as£¹
(
	`£t_»move
(
£t
, 
buf
) == 0);

193 
	`as£¹
(
	`£t_num_’Œ›s
(
£t
è=ğ
num_’Œ›s
);

196 
i
=50000; i<51000; ++i) {

197 
	`¥rštf
(
buf
, "%i", 
i
);

199 
	`as£¹
(
	`£t_»move
(
£t
, 
buf
) == 0);

200 
	`as£¹
(
	`£t_num_’Œ›s
(
£t
è=ğ
num_’Œ›s
);

203 
	`£t_ä“
(
£t
);

204 
	}
}

206 
	$‹¡_£t_uniÚ
()

208 
numb”s1
[] = {1, 2, 3, 4, 5, 6, 7};

209 
numb”s2
[] = {5, 6, 7, 8, 9, 10, 11};

210 
»suÉ
[] = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11};

211 
i
;

212 
S‘
 *
£t1
;

213 
S‘
 *
£t2
;

214 
S‘
 *
»suÉ_£t
;

215 
size_t
 
®loÿ‹d
;

219 
£t1
 = 
	`£t_Ãw
(
št_hash
, 
št_equ®
);

221 
i
=0; i<7; ++i) {

222 
	`£t_š£¹
(
£t1
, &
numb”s1
[
i
]);

227 
£t2
 = 
	`£t_Ãw
(
št_hash
, 
št_equ®
);

229 
i
=0; i<7; ++i) {

230 
	`£t_š£¹
(
£t2
, &
numb”s2
[
i
]);

235 
»suÉ_£t
 = 
	`£t_uniÚ
(
£t1
, 
£t2
);

237 
	`as£¹
(
	`£t_num_’Œ›s
(
»suÉ_£t
) == 11);

239 
i
=0; i<11; ++i) {

240 
	`as£¹
(
	`£t_qu”y
(
»suÉ_£t
, &
»suÉ
[
i
]) != 0);

243 
	`£t_ä“
(
»suÉ_£t
);

247 
	`®loc_‹¡_£t_lim™
(0);

248 
	`as£¹
(
	`£t_uniÚ
(
£t1
, 
£t2
è=ğ
NULL
);

252 
	`®loc_‹¡_£t_lim™
(2 + 2);

253 
®loÿ‹d
 = 
	`®loc_‹¡_g‘_®loÿ‹d
();

254 
	`as£¹
(
	`£t_uniÚ
(
£t1
, 
£t2
è=ğ
NULL
);

255 
	`as£¹
(
	`®loc_‹¡_g‘_®loÿ‹d
(è=ğ
®loÿ‹d
);

260 
	`®loc_‹¡_£t_lim™
(2 + 7 + 2);

261 
®loÿ‹d
 = 
	`®loc_‹¡_g‘_®loÿ‹d
();

262 
	`as£¹
(
	`£t_uniÚ
(
£t1
, 
£t2
è=ğ
NULL
);

263 
	`as£¹
(
	`®loc_‹¡_g‘_®loÿ‹d
(è=ğ
®loÿ‹d
);

265 
	`£t_ä“
(
£t1
);

266 
	`£t_ä“
(
£t2
);

267 
	}
}

269 
	$‹¡_£t_š‹r£ùiÚ
()

271 
numb”s1
[] = {1, 2, 3, 4, 5, 6, 7};

272 
numb”s2
[] = {5, 6, 7, 8, 9, 10, 11};

273 
»suÉ
[] = {5, 6, 7};

274 
i
;

275 
S‘
 *
£t1
;

276 
S‘
 *
£t2
;

277 
S‘
 *
»suÉ_£t
;

278 
size_t
 
®loÿ‹d
;

282 
£t1
 = 
	`£t_Ãw
(
št_hash
, 
št_equ®
);

284 
i
=0; i<7; ++i) {

285 
	`£t_š£¹
(
£t1
, &
numb”s1
[
i
]);

290 
£t2
 = 
	`£t_Ãw
(
št_hash
, 
št_equ®
);

292 
i
=0; i<7; ++i) {

293 
	`£t_š£¹
(
£t2
, &
numb”s2
[
i
]);

298 
»suÉ_£t
 = 
	`£t_š‹r£ùiÚ
(
£t1
, 
£t2
);

300 
	`as£¹
(
	`£t_num_’Œ›s
(
»suÉ_£t
) == 3);

302 
i
=0; i<3; ++i) {

303 
	`as£¹
(
	`£t_qu”y
(
»suÉ_£t
, &
»suÉ
[
i
]) != 0);

308 
	`®loc_‹¡_£t_lim™
(0);

309 
	`as£¹
(
	`£t_š‹r£ùiÚ
(
£t1
, 
£t2
è=ğ
NULL
);

313 
	`®loc_‹¡_£t_lim™
(2 + 2);

314 
®loÿ‹d
 = 
	`®loc_‹¡_g‘_®loÿ‹d
();

315 
	`as£¹
(
	`£t_š‹r£ùiÚ
(
£t1
, 
£t2
è=ğ
NULL
);

316 
	`as£¹
(
	`®loc_‹¡_g‘_®loÿ‹d
(è=ğ
®loÿ‹d
);

318 
	`£t_ä“
(
£t1
);

319 
	`£t_ä“
(
£t2
);

320 
	`£t_ä“
(
»suÉ_£t
);

321 
	}
}

323 
	$‹¡_£t_to_¬¿y
()

325 
S‘
 *
£t
;

326 
v®ues
[100];

327 **
¬¿y
;

328 
i
;

333 
£t
 = 
	`£t_Ãw
(
poš‹r_hash
, 
poš‹r_equ®
);

335 
i
=0; i<100; ++i) {

336 
v®ues
[
i
] = 1;

337 
	`£t_š£¹
(
£t
, &
v®ues
[
i
]);

340 
¬¿y
 = (**è
	`£t_to_¬¿y
(
£t
);

344 
i
=0; i<100; ++i) {

345 
	`as£¹
(*
¬¿y
[
i
] == 1);

346 *
¬¿y
[
i
] = 0;

351 
	`®loc_‹¡_£t_lim™
(0);

352 
	`as£¹
(
	`£t_to_¬¿y
(
£t
è=ğ
NULL
);

354 
	`ä“
(
¬¿y
);

355 
	`£t_ä“
(
£t
);

356 
	}
}

358 
	$‹¡_£t_™”©šg
()

360 
S‘
 *
£t
;

361 
S‘I‹¿tÜ
 
™”©Ü
;

362 
couÁ
;

364 
£t
 = 
	`g’”©e_£t
();

368 
couÁ
 = 0;

369 
	`£t_™”©e
(
£t
, &
™”©Ü
);

371 
	`£t_™”_has_mÜe
(&
™”©Ü
)) {

373 
	`£t_™”_Ãxt
(&
™”©Ü
);

375 ++
couÁ
;

380 
	`as£¹
(
	`£t_™”_Ãxt
(&
™”©Ü
è=ğ
NULL
);

384 
	`as£¹
(
couÁ
 == 10000);

386 
	`£t_ä“
(
£t
);

390 
£t
 = 
	`£t_Ãw
(
št_hash
, 
št_equ®
);

392 
	`£t_™”©e
(
£t
, &
™”©Ü
);

394 
	`as£¹
(
	`£t_™”_has_mÜe
(&
™”©Ü
) == 0);

396 
	`£t_ä“
(
£t
);

397 
	}
}

403 
	$‹¡_£t_™”©šg_»move
()

405 
S‘
 *
£t
;

406 
S‘I‹¿tÜ
 
™”©Ü
;

407 
couÁ
;

408 
»moved
;

409 *
v®ue
;

411 
£t
 = 
	`g’”©e_£t
();

413 
couÁ
 = 0;

414 
»moved
 = 0;

418 
	`£t_™”©e
(
£t
, &
™”©Ü
);

420 
	`£t_™”_has_mÜe
(&
™”©Ü
)) {

422 
v®ue
 = 
	`£t_™”_Ãxt
(&
™”©Ü
);

424 ià((
	`©oi
(
v®ue
) % 100) == 0) {

428 
	`£t_»move
(
£t
, 
v®ue
);

430 ++
»moved
;

433 ++
couÁ
;

438 
	`as£¹
(
couÁ
 == 10000);

439 
	`as£¹
(
»moved
 == 100);

440 
	`as£¹
(
	`£t_num_’Œ›s
(
£t
è=ğ10000 - 
»moved
);

442 
	`£t_ä“
(
£t
);

443 
	}
}

445 *
	$Ãw_v®ue
(
v®ue
)

447 *
»suÉ
;

449 
»suÉ
 = 
	`m®loc
(());

450 *
»suÉ
 = 
v®ue
;

452 ++
®loÿ‹d_v®ues
;

454  
»suÉ
;

455 
	}
}

457 
	$ä“_v®ue
(*
v®ue
)

459 
	`ä“
(
v®ue
);

461 --
®loÿ‹d_v®ues
;

462 
	}
}

464 
	$‹¡_£t_ä“_funùiÚ
()

466 
S‘
 *
£t
;

467 
i
;

468 *
v®ue
;

472 
£t
 = 
	`£t_Ãw
(
št_hash
, 
št_equ®
);

474 
	`£t_»gi¡”_ä“_funùiÚ
(
£t
, 
ä“_v®ue
);

476 
®loÿ‹d_v®ues
 = 0;

478 
i
=0; i<1000; ++i) {

479 
v®ue
 = 
	`Ãw_v®ue
(
i
);

481 
	`£t_š£¹
(
£t
, 
v®ue
);

484 
	`as£¹
(
®loÿ‹d_v®ues
 == 1000);

488 
i
 = 500;

489 
	`£t_»move
(
£t
, &
i
);

491 
	`as£¹
(
®loÿ‹d_v®ues
 == 999);

495 
	`£t_ä“
(
£t
);

497 
	`as£¹
(
®loÿ‹d_v®ues
 == 0);

498 
	}
}

502 
	$‹¡_£t_out_of_memÜy
()

504 
S‘
 *
£t
;

505 
v®ues
[66];

506 
i
;

508 
£t
 = 
	`£t_Ãw
(
št_hash
, 
št_equ®
);

512 
	`®loc_‹¡_£t_lim™
(0);

513 
v®ues
[0] = 0;

514 
	`as£¹
(
	`£t_š£¹
(
£t
, &
v®ues
[0]) == 0);

515 
	`as£¹
(
	`£t_num_’Œ›s
(
£t
) == 0);

517 
	`®loc_‹¡_£t_lim™
(-1);

524 
i
=0; i<65; ++i) {

525 
v®ues
[
i
] = () i;

527 
	`as£¹
(
	`£t_š£¹
(
£t
, &
v®ues
[
i
]) != 0);

528 
	`as£¹
(
	`£t_num_’Œ›s
(
£t
è=ğ
i
 + 1);

531 
	`as£¹
(
	`£t_num_’Œ›s
(
£t
) == 65);

535 
	`®loc_‹¡_£t_lim™
(0);

537 
v®ues
[65] = 65;

539 
	`as£¹
(
	`£t_š£¹
(
£t
, &
v®ues
[65]) == 0);

540 
	`as£¹
(
	`£t_num_’Œ›s
(
£t
) == 65);

542 
	`£t_ä“
(
£t
);

543 
	}
}

546 
Un™Te¡FunùiÚ
 
	g‹¡s
[] = {

547 
‹¡_£t_Ãw_ä“
,

548 
‹¡_£t_š£¹
,

549 
‹¡_£t_qu”y
,

550 
‹¡_£t_»move
,

551 
‹¡_£t_š‹r£ùiÚ
,

552 
‹¡_£t_uniÚ
,

553 
‹¡_£t_™”©šg
,

554 
‹¡_£t_™”©šg_»move
,

555 
‹¡_£t_to_¬¿y
,

556 
‹¡_£t_ä“_funùiÚ
,

557 
‹¡_£t_out_of_memÜy
,

558 
NULL


561 
	$maš
(
¬gc
, *
¬gv
[])

563 
	`run_‹¡s
(
‹¡s
);

566 
	}
}

	@test/test-slist.c

21 
	~<¡dio.h
>

22 
	~<¡dlib.h
>

23 
	~<as£¹.h
>

25 
	~"®loc-‹¡šg.h
"

26 
	~"äamewÜk.h
"

28 
	~"¦i¡.h
"

29 
	~"com·»-št.h
"

31 
	gv¬ŸbË1
 = 50, 
	gv¬ŸbË2
, 
	gv¬ŸbË3
, 
	gv¬ŸbË4
;

35 
SLi¡EÁry
 *
	$g’”©e_li¡
()

37 
SLi¡EÁry
 *
li¡
 = 
NULL
;

39 
	`as£¹
(
	`¦i¡_­³nd
(&
li¡
, &
v¬ŸbË1
è!ğ
NULL
);

40 
	`as£¹
(
	`¦i¡_­³nd
(&
li¡
, &
v¬ŸbË2
è!ğ
NULL
);

41 
	`as£¹
(
	`¦i¡_­³nd
(&
li¡
, &
v¬ŸbË3
è!ğ
NULL
);

42 
	`as£¹
(
	`¦i¡_­³nd
(&
li¡
, &
v¬ŸbË4
è!ğ
NULL
);

44  
li¡
;

45 
	}
}

47 
	$‹¡_¦i¡_­³nd
()

49 
SLi¡EÁry
 *
li¡
 = 
NULL
;

51 
	`as£¹
(
	`¦i¡_­³nd
(&
li¡
, &
v¬ŸbË1
è!ğ
NULL
);

52 
	`as£¹
(
	`¦i¡_­³nd
(&
li¡
, &
v¬ŸbË2
è!ğ
NULL
);

53 
	`as£¹
(
	`¦i¡_­³nd
(&
li¡
, &
v¬ŸbË3
è!ğ
NULL
);

54 
	`as£¹
(
	`¦i¡_­³nd
(&
li¡
, &
v¬ŸbË4
è!ğ
NULL
);

55 
	`as£¹
(
	`¦i¡_Ëngth
(
li¡
) == 4);

57 
	`as£¹
(
	`¦i¡_Áh_d©a
(
li¡
, 0è=ğ&
v¬ŸbË1
);

58 
	`as£¹
(
	`¦i¡_Áh_d©a
(
li¡
, 1è=ğ&
v¬ŸbË2
);

59 
	`as£¹
(
	`¦i¡_Áh_d©a
(
li¡
, 2è=ğ&
v¬ŸbË3
);

60 
	`as£¹
(
	`¦i¡_Áh_d©a
(
li¡
, 3è=ğ&
v¬ŸbË4
);

64 
	`®loc_‹¡_£t_lim™
(0);

65 
	`as£¹
(
	`¦i¡_Ëngth
(
li¡
) == 4);

66 
	`as£¹
(
	`¦i¡_­³nd
(&
li¡
, &
v¬ŸbË1
è=ğ
NULL
);

67 
	`as£¹
(
	`¦i¡_Ëngth
(
li¡
) == 4);

69 
	`¦i¡_ä“
(
li¡
);

70 
	}
}

72 
	$‹¡_¦i¡_´•’d
()

74 
SLi¡EÁry
 *
li¡
 = 
NULL
;

76 
	`as£¹
(
	`¦i¡_´•’d
(&
li¡
, &
v¬ŸbË1
è!ğ
NULL
);

77 
	`as£¹
(
	`¦i¡_´•’d
(&
li¡
, &
v¬ŸbË2
è!ğ
NULL
);

78 
	`as£¹
(
	`¦i¡_´•’d
(&
li¡
, &
v¬ŸbË3
è!ğ
NULL
);

79 
	`as£¹
(
	`¦i¡_´•’d
(&
li¡
, &
v¬ŸbË4
è!ğ
NULL
);

81 
	`as£¹
(
	`¦i¡_Áh_d©a
(
li¡
, 0è=ğ&
v¬ŸbË4
);

82 
	`as£¹
(
	`¦i¡_Áh_d©a
(
li¡
, 1è=ğ&
v¬ŸbË3
);

83 
	`as£¹
(
	`¦i¡_Áh_d©a
(
li¡
, 2è=ğ&
v¬ŸbË2
);

84 
	`as£¹
(
	`¦i¡_Áh_d©a
(
li¡
, 3è=ğ&
v¬ŸbË1
);

88 
	`®loc_‹¡_£t_lim™
(0);

89 
	`as£¹
(
	`¦i¡_Ëngth
(
li¡
) == 4);

90 
	`as£¹
(
	`¦i¡_´•’d
(&
li¡
, &
v¬ŸbË1
è=ğ
NULL
);

91 
	`as£¹
(
	`¦i¡_Ëngth
(
li¡
) == 4);

93 
	`¦i¡_ä“
(
li¡
);

94 
	}
}

96 
	$‹¡_¦i¡_ä“
()

98 
SLi¡EÁry
 *
li¡
;

102 
li¡
 = 
	`g’”©e_li¡
();

104 
	`¦i¡_ä“
(
li¡
);

108 
	`¦i¡_ä“
(
NULL
);

109 
	}
}

111 
	$‹¡_¦i¡_Ãxt
()

113 
SLi¡EÁry
 *
li¡
;

114 
SLi¡EÁry
 *
rov”
;

116 
li¡
 = 
	`g’”©e_li¡
();

118 
rov”
 = 
li¡
;

119 
	`as£¹
(
	`¦i¡_d©a
(
rov”
è=ğ&
v¬ŸbË1
);

120 
rov”
 = 
	`¦i¡_Ãxt
(rover);

121 
	`as£¹
(
	`¦i¡_d©a
(
rov”
è=ğ&
v¬ŸbË2
);

122 
rov”
 = 
	`¦i¡_Ãxt
(rover);

123 
	`as£¹
(
	`¦i¡_d©a
(
rov”
è=ğ&
v¬ŸbË3
);

124 
rov”
 = 
	`¦i¡_Ãxt
(rover);

125 
	`as£¹
(
	`¦i¡_d©a
(
rov”
è=ğ&
v¬ŸbË4
);

126 
rov”
 = 
	`¦i¡_Ãxt
(rover);

127 
	`as£¹
(
rov”
 =ğ
NULL
);

129 
	`¦i¡_ä“
(
li¡
);

130 
	}
}

132 
	$‹¡_¦i¡_Áh_’Œy
()

134 
SLi¡EÁry
 *
li¡
;

135 
SLi¡EÁry
 *
’Œy
;

137 
li¡
 = 
	`g’”©e_li¡
();

141 
’Œy
 = 
	`¦i¡_Áh_’Œy
(
li¡
, 0);

142 
	`as£¹
(
	`¦i¡_d©a
(
’Œy
è=ğ&
v¬ŸbË1
);

143 
’Œy
 = 
	`¦i¡_Áh_’Œy
(
li¡
, 1);

144 
	`as£¹
(
	`¦i¡_d©a
(
’Œy
è=ğ&
v¬ŸbË2
);

145 
’Œy
 = 
	`¦i¡_Áh_’Œy
(
li¡
, 2);

146 
	`as£¹
(
	`¦i¡_d©a
(
’Œy
è=ğ&
v¬ŸbË3
);

147 
’Œy
 = 
	`¦i¡_Áh_’Œy
(
li¡
, 3);

148 
	`as£¹
(
	`¦i¡_d©a
(
’Œy
è=ğ&
v¬ŸbË4
);

152 
’Œy
 = 
	`¦i¡_Áh_’Œy
(
li¡
, 4);

153 
	`as£¹
(
’Œy
 =ğ
NULL
);

154 
’Œy
 = 
	`¦i¡_Áh_’Œy
(
li¡
, 400);

155 
	`as£¹
(
’Œy
 =ğ
NULL
);

157 
	`¦i¡_ä“
(
li¡
);

158 
	}
}

160 
	$‹¡_¦i¡_Áh_d©a
()

162 
SLi¡EÁry
 *
li¡
;

164 
li¡
 = 
	`g’”©e_li¡
();

168 
	`as£¹
(
	`¦i¡_Áh_d©a
(
li¡
, 0è=ğ&
v¬ŸbË1
);

169 
	`as£¹
(
	`¦i¡_Áh_d©a
(
li¡
, 1è=ğ&
v¬ŸbË2
);

170 
	`as£¹
(
	`¦i¡_Áh_d©a
(
li¡
, 2è=ğ&
v¬ŸbË3
);

171 
	`as£¹
(
	`¦i¡_Áh_d©a
(
li¡
, 3è=ğ&
v¬ŸbË4
);

175 
	`as£¹
(
	`¦i¡_Áh_d©a
(
li¡
, 4è=ğ
NULL
);

176 
	`as£¹
(
	`¦i¡_Áh_d©a
(
li¡
, 400è=ğ
NULL
);

178 
	`¦i¡_ä“
(
li¡
);

179 
	}
}

181 
	$‹¡_¦i¡_Ëngth
()

183 
SLi¡EÁry
 *
li¡
;

187 
li¡
 = 
	`g’”©e_li¡
();

189 
	`as£¹
(
	`¦i¡_Ëngth
(
li¡
) == 4);

193 
	`¦i¡_´•’d
(&
li¡
, &
v¬ŸbË1
);

195 
	`as£¹
(
	`¦i¡_Ëngth
(
li¡
) == 5);

199 
	`as£¹
(
	`¦i¡_Ëngth
(
NULL
) == 0);

201 
	`¦i¡_ä“
(
li¡
);

202 
	}
}

204 
	$‹¡_¦i¡_»move_’Œy
()

206 
SLi¡EÁry
 *
em±y_li¡
 = 
NULL
;

207 
SLi¡EÁry
 *
li¡
;

208 
SLi¡EÁry
 *
’Œy
;

210 
li¡
 = 
	`g’”©e_li¡
();

214 
’Œy
 = 
	`¦i¡_Áh_’Œy
(
li¡
, 2);

215 
	`as£¹
(
	`¦i¡_»move_’Œy
(&
li¡
, 
’Œy
) != 0);

216 
	`as£¹
(
	`¦i¡_Ëngth
(
li¡
) == 3);

220 
’Œy
 = 
	`¦i¡_Áh_’Œy
(
li¡
, 0);

221 
	`as£¹
(
	`¦i¡_»move_’Œy
(&
li¡
, 
’Œy
) != 0);

222 
	`as£¹
(
	`¦i¡_Ëngth
(
li¡
) == 2);

228 
	`as£¹
(
	`¦i¡_»move_’Œy
(&
li¡
, 
’Œy
) == 0);

232 
	`as£¹
(
	`¦i¡_»move_’Œy
(&
li¡
, 
NULL
) == 0);

236 
	`as£¹
(
	`¦i¡_»move_’Œy
(&
em±y_li¡
, 
NULL
) == 0);

238 
	`¦i¡_ä“
(
li¡
);

239 
	}
}

241 
	$‹¡_¦i¡_»move_d©a
()

243 
’Œ›s
[] = { 89, 4, 23, 42, 4, 16, 15, 4, 8, 99, 50, 30, 4 };

244 
num_’Œ›s
 = (
’Œ›s
) / ();

245 
v®
;

246 
SLi¡EÁry
 *
li¡
;

247 
i
;

251 
li¡
 = 
NULL
;

253 
i
=0; i<
num_’Œ›s
; ++i) {

254 
	`¦i¡_´•’d
(&
li¡
, &
’Œ›s
[
i
]);

259 
v®
 = 0;

260 
	`as£¹
(
	`¦i¡_»move_d©a
(&
li¡
, 
št_equ®
, &
v®
) == 0);

261 
v®
 = 56;

262 
	`as£¹
(
	`¦i¡_»move_d©a
(&
li¡
, 
št_equ®
, &
v®
) == 0);

266 
v®
 = 8;

267 
	`as£¹
(
	`¦i¡_»move_d©a
(&
li¡
, 
št_equ®
, &
v®
) == 1);

268 
	`as£¹
(
	`¦i¡_Ëngth
(
li¡
è=ğ
num_’Œ›s
 - 1);

272 
v®
 = 4;

273 
	`as£¹
(
	`¦i¡_»move_d©a
(&
li¡
, 
št_equ®
, &
v®
) == 4);

274 
	`as£¹
(
	`¦i¡_Ëngth
(
li¡
è=ğ
num_’Œ›s
 - 5);

278 
v®
 = 89;

279 
	`as£¹
(
	`¦i¡_»move_d©a
(&
li¡
, 
št_equ®
, &
v®
) == 1);

280 
	`as£¹
(
	`¦i¡_Ëngth
(
li¡
è=ğ
num_’Œ›s
 - 6);

282 
	`¦i¡_ä“
(
li¡
);

283 
	}
}

285 
	$‹¡_¦i¡_sÜt
()

287 
SLi¡EÁry
 *
li¡
;

288 
’Œ›s
[] = { 89, 4, 23, 42, 4, 16, 15, 4, 8, 99, 50, 30, 4 };

289 
sÜ‹d
[] = { 4, 4, 4, 4, 8, 15, 16, 23, 30, 42, 50, 89, 99 };

290 
num_’Œ›s
 = (
’Œ›s
) / ();

291 
i
;

293 
li¡
 = 
NULL
;

295 
i
=0; i<
num_’Œ›s
; ++i) {

296 
	`¦i¡_´•’d
(&
li¡
, &
’Œ›s
[
i
]);

299 
	`¦i¡_sÜt
(&
li¡
, 
št_com·»
);

303 
	`as£¹
(
	`¦i¡_Ëngth
(
li¡
è=ğ
num_’Œ›s
);

307 
i
=0; i<
num_’Œ›s
; ++i) {

308 *
v®ue
;

310 
v®ue
 = (*è
	`¦i¡_Áh_d©a
(
li¡
, 
i
);

311 
	`as£¹
(*
v®ue
 =ğ
sÜ‹d
[
i
]);

314 
	`¦i¡_ä“
(
li¡
);

318 
li¡
 = 
NULL
;

320 
	`¦i¡_sÜt
(&
li¡
, 
št_com·»
);

322 
	`as£¹
(
li¡
 =ğ
NULL
);

323 
	}
}

325 
	$‹¡_¦i¡_fšd_d©a
()

327 
’Œ›s
[] = { 89, 23, 42, 16, 15, 4, 8, 99, 50, 30 };

328 
num_’Œ›s
 = (
’Œ›s
) / ();

329 
SLi¡EÁry
 *
li¡
;

330 
SLi¡EÁry
 *
»suÉ
;

331 
i
;

332 
v®
;

333 *
d©a
;

337 
li¡
 = 
NULL
;

338 
i
=0; i<
num_’Œ›s
; ++i) {

339 
	`¦i¡_­³nd
(&
li¡
, &
’Œ›s
[
i
]);

344 
i
=0; i<
num_’Œ›s
; ++i) {

346 
v®
 = 
’Œ›s
[
i
];

348 
»suÉ
 = 
	`¦i¡_fšd_d©a
(
li¡
, 
št_equ®
, &
v®
);

350 
	`as£¹
(
»suÉ
 !ğ
NULL
);

352 
d©a
 = (*è
	`¦i¡_d©a
(
»suÉ
);

353 
	`as£¹
(*
d©a
 =ğ
v®
);

358 
v®
 = 0;

359 
	`as£¹
(
	`¦i¡_fšd_d©a
(
li¡
, 
št_equ®
, &
v®
è=ğ
NULL
);

360 
v®
 = 56;

361 
	`as£¹
(
	`¦i¡_fšd_d©a
(
li¡
, 
št_equ®
, &
v®
è=ğ
NULL
);

363 
	`¦i¡_ä“
(
li¡
);

364 
	}
}

366 
	$‹¡_¦i¡_to_¬¿y
()

368 
SLi¡EÁry
 *
li¡
;

369 **
¬¿y
;

371 
li¡
 = 
	`g’”©e_li¡
();

373 
¬¿y
 = 
	`¦i¡_to_¬¿y
(
li¡
);

375 
	`as£¹
(
¬¿y
[0] =ğ&
v¬ŸbË1
);

376 
	`as£¹
(
¬¿y
[1] =ğ&
v¬ŸbË2
);

377 
	`as£¹
(
¬¿y
[2] =ğ&
v¬ŸbË3
);

378 
	`as£¹
(
¬¿y
[3] =ğ&
v¬ŸbË4
);

380 
	`ä“
(
¬¿y
);

384 
	`®loc_‹¡_£t_lim™
(0);

386 
¬¿y
 = 
	`¦i¡_to_¬¿y
(
li¡
);

387 
	`as£¹
(
¬¿y
 =ğ
NULL
);

389 
	`¦i¡_ä“
(
li¡
);

390 
	}
}

392 
	$‹¡_¦i¡_™”©e
()

394 
SLi¡EÁry
 *
li¡
;

395 
SLi¡I‹¿tÜ
 
™”
;

396 *
d©a
;

397 
a
;

398 
i
;

399 
couÁ”
;

403 
li¡
 = 
NULL
;

405 
i
=0; i<50; ++i) {

406 
	`¦i¡_´•’d
(&
li¡
, &
a
);

411 
couÁ”
 = 0;

413 
	`¦i¡_™”©e
(&
li¡
, &
™”
);

417 
	`¦i¡_™”_»move
(&
™”
);

421 
	`¦i¡_™”_has_mÜe
(&
™”
)) {

423 
d©a
 = (*è
	`¦i¡_™”_Ãxt
(&
™”
);

425 ++
couÁ”
;

429 ià((
couÁ”
 % 2) == 0) {

430 
	`¦i¡_™”_»move
(&
™”
);

434 
	`¦i¡_™”_»move
(&
™”
);

440 
	`as£¹
(
	`¦i¡_™”_Ãxt
(&
™”
è=ğ
SLIST_NULL
);

444 
	`¦i¡_™”_»move
(&
™”
);

446 
	`as£¹
(
couÁ”
 == 50);

447 
	`as£¹
(
	`¦i¡_Ëngth
(
li¡
) == 25);

449 
	`¦i¡_ä“
(
li¡
);

453 
li¡
 = 
NULL
;

454 
couÁ”
 = 0;

456 
	`¦i¡_™”©e
(&
li¡
, &
™”
);

458 
	`¦i¡_™”_has_mÜe
(&
™”
)) {

460 
d©a
 = (*è
	`¦i¡_™”_Ãxt
(&
™”
);

462 ++
couÁ”
;

466 ià((
couÁ”
 % 2) == 0) {

467 
	`¦i¡_™”_»move
(&
™”
);

471 
	`as£¹
(
couÁ”
 == 0);

472 
	}
}

477 
	$‹¡_¦i¡_™”©e_bad_»move
()

479 
SLi¡EÁry
 *
li¡
;

480 
SLi¡I‹¿tÜ
 
™”
;

481 
v®ues
[49];

482 
i
;

483 *
v®
;

487 
li¡
 = 
NULL
;

489 
i
=0; i<49; ++i) {

490 
v®ues
[
i
] = i;

491 
	`¦i¡_´•’d
(&
li¡
, &
v®ues
[
i
]);

498 
	`¦i¡_™”©e
(&
li¡
, &
™”
);

500 
	`¦i¡_™”_has_mÜe
(&
™”
)) {

501 
v®
 = 
	`¦i¡_™”_Ãxt
(&
™”
);

507 ià((*
v®
 % 2) == 0) {

508 
	`as£¹
(
	`¦i¡_»move_d©a
(&
li¡
, 
št_equ®
, 
v®
) != 0);

509 
	`¦i¡_™”_»move
(&
™”
);

513 
	`¦i¡_ä“
(
li¡
);

514 
	}
}

516 
Un™Te¡FunùiÚ
 
	g‹¡s
[] = {

517 
‹¡_¦i¡_­³nd
,

518 
‹¡_¦i¡_´•’d
,

519 
‹¡_¦i¡_ä“
,

520 
‹¡_¦i¡_Ãxt
,

521 
‹¡_¦i¡_Áh_’Œy
,

522 
‹¡_¦i¡_Áh_d©a
,

523 
‹¡_¦i¡_Ëngth
,

524 
‹¡_¦i¡_»move_’Œy
,

525 
‹¡_¦i¡_»move_d©a
,

526 
‹¡_¦i¡_sÜt
,

527 
‹¡_¦i¡_fšd_d©a
,

528 
‹¡_¦i¡_to_¬¿y
,

529 
‹¡_¦i¡_™”©e
,

530 
‹¡_¦i¡_™”©e_bad_»move
,

531 
NULL


534 
	$maš
(
¬gc
, *
¬gv
[])

536 
	`run_‹¡s
(
‹¡s
);

539 
	}
}

	@test/test-trie.c

21 
	~<¡dio.h
>

22 
	~<¡dlib.h
>

23 
	~<¡ršg.h
>

24 
	~<as£¹.h
>

26 
	~"®loc-‹¡šg.h
"

27 
	~"äamewÜk.h
"

29 
	~"Œ›.h
"

31 
	#NUM_TEST_VALUES
 10000

	)

33 
	g‹¡_¬¿y
[
NUM_TEST_VALUES
];

34 
	g‹¡_¡ršgs
[
NUM_TEST_VALUES
][10];

35 
	gbš_key
[] = { 'a', 'b', 'c', 0, 1, 2, 0xff };

36 
	gbš_key2
[] = { 'a', 'b', 'c', 0, 1, 2, 0xff, 0 };

37 
	gbš_key3
[] = { 'a', 'b', 'c' };

38 
	gbš_key4
[] = { 'z', 0, 'z', 'z' };

40 
Tr›
 *
	$g’”©e_Œ›
()

42 
Tr›
 *
Œ›
;

43 
i
;

44 
’Œ›s
;

48 
Œ›
 = 
	`Œ›_Ãw
();

49 
’Œ›s
 = 0;

51 
i
=0; i<
NUM_TEST_VALUES
; ++i) {

56 
‹¡_¬¿y
[
i
] = i;

57 
	`¥rštf
(
‹¡_¡ršgs
[
i
], "%i", i);

59 
	`as£¹
(
	`Œ›_š£¹
(
Œ›
, 
‹¡_¡ršgs
[
i
], &
‹¡_¬¿y
[i]) != 0);

61 ++
’Œ›s
;

63 
	`as£¹
(
	`Œ›_num_’Œ›s
(
Œ›
è=ğ
’Œ›s
);

66  
Œ›
;

67 
	}
}

69 
	$‹¡_Œ›_Ãw_ä“
()

71 
Tr›
 *
Œ›
;

75 
Œ›
 = 
	`Œ›_Ãw
();

77 
	`as£¹
(
Œ›
 !ğ
NULL
);

79 
	`Œ›_ä“
(
Œ›
);

83 
Œ›
 = 
	`Œ›_Ãw
();

85 
	`as£¹
(
	`Œ›_š£¹
(
Œ›
, "hello", "there") != 0);

86 
	`as£¹
(
	`Œ›_š£¹
(
Œ›
, "hell", "testing") != 0);

87 
	`as£¹
(
	`Œ›_š£¹
(
Œ›
, "testing", "testing") != 0);

88 
	`as£¹
(
	`Œ›_š£¹
(
Œ›
, "", "asfasf") != 0);

90 
	`Œ›_ä“
(
Œ›
);

94 
Œ›
 = 
	`Œ›_Ãw
();

96 
	`as£¹
(
	`Œ›_š£¹
(
Œ›
, "hello", "there") != 0);

97 
	`as£¹
(
	`Œ›_»move
(
Œ›
, "hello") != 0);

99 
	`Œ›_ä“
(
Œ›
);

103 
	`®loc_‹¡_£t_lim™
(0);

104 
Œ›
 = 
	`Œ›_Ãw
();

105 
	`as£¹
(
Œ›
 =ğ
NULL
);

106 
	}
}

108 
	$‹¡_Œ›_š£¹
()

110 
Tr›
 *
Œ›
;

111 
’Œ›s
;

112 
size_t
 
®loÿ‹d
;

114 
Œ›
 = 
	`g’”©e_Œ›
();

118 
’Œ›s
 = 
	`Œ›_num_’Œ›s
(
Œ›
);

119 
	`as£¹
(
	`Œ›_š£¹
(
Œ›
, "h–lØwÜld", 
NULL
) == 0);

120 
	`as£¹
(
	`Œ›_num_’Œ›s
(
Œ›
è=ğ
’Œ›s
);

124 
®loÿ‹d
 = 
	`®loc_‹¡_g‘_®loÿ‹d
();

125 
	`®loc_‹¡_£t_lim™
(0);

126 
	`as£¹
(
	`Œ›_š£¹
(
Œ›
, "a", "test value") == 0);

127 
	`as£¹
(
	`Œ›_num_’Œ›s
(
Œ›
è=ğ
’Œ›s
);

131 
	`®loc_‹¡_£t_lim™
(5);

132 
	`as£¹
(
	`Œ›_š£¹
(
Œ›
, "hello world", "test value") == 0);

133 
	`as£¹
(
	`®loc_‹¡_g‘_®loÿ‹d
(è=ğ
®loÿ‹d
);

134 
	`as£¹
(
	`Œ›_num_’Œ›s
(
Œ›
è=ğ
’Œ›s
);

136 
	`Œ›_ä“
(
Œ›
);

137 
	}
}

139 
	$‹¡_Œ›_lookup
()

141 
Tr›
 *
Œ›
;

142 
buf
[10];

143 *
v®
;

144 
i
;

146 
Œ›
 = 
	`g’”©e_Œ›
();

150 
	`as£¹
(
	`Œ›_lookup
(
Œ›
, "000000000000000"è=ğ
TRIE_NULL
);

151 
	`as£¹
(
	`Œ›_lookup
(
Œ›
, ""è=ğ
TRIE_NULL
);

155 
i
=0; i<
NUM_TEST_VALUES
; ++i) {

157 
	`¥rštf
(
buf
, "%i", 
i
);

159 
v®
 = (*è
	`Œ›_lookup
(
Œ›
, 
buf
);

161 
	`as£¹
(*
v®
 =ğ
i
);

164 
	`Œ›_ä“
(
Œ›
);

165 
	}
}

167 
	$‹¡_Œ›_»move
()

169 
Tr›
 *
Œ›
;

170 
buf
[10];

171 
i
;

172 
’Œ›s
;

174 
Œ›
 = 
	`g’”©e_Œ›
();

178 
	`as£¹
(
	`Œ›_»move
(
Œ›
, "000000000000000") == 0);

179 
	`as£¹
(
	`Œ›_»move
(
Œ›
, "") == 0);

181 
’Œ›s
 = 
	`Œ›_num_’Œ›s
(
Œ›
);

183 
	`as£¹
(
’Œ›s
 =ğ
NUM_TEST_VALUES
);

187 
i
=0; i<
NUM_TEST_VALUES
; ++i) {

189 
	`¥rštf
(
buf
, "%i", 
i
);

193 
	`as£¹
(
	`Œ›_»move
(
Œ›
, 
buf
) != 0);

194 --
’Œ›s
;

195 
	`as£¹
(
	`Œ›_num_’Œ›s
(
Œ›
è=ğ
’Œ›s
);

198 
	`Œ›_ä“
(
Œ›
);

199 
	}
}

201 
	$‹¡_Œ›_»¶aû
()

203 
Tr›
 *
Œ›
;

204 *
v®
;

206 
Œ›
 = 
	`g’”©e_Œ›
();

210 
v®
 = 
	`m®loc
(());

211 *
v®
 = 999;

212 
	`as£¹
(
	`Œ›_š£¹
(
Œ›
, "999", 
v®
) != 0);

213 
	`as£¹
(
	`Œ›_num_’Œ›s
(
Œ›
è=ğ
NUM_TEST_VALUES
);

215 
	`as£¹
(
	`Œ›_lookup
(
Œ›
, "999"è=ğ
v®
);

216 
	`ä“
(
v®
);

217 
	`Œ›_ä“
(
Œ›
);

218 
	}
}

220 
	$‹¡_Œ›_š£¹_em±y
()

222 
Tr›
 *
Œ›
;

223 
buf
[10];

225 
Œ›
 = 
	`Œ›_Ãw
();

229 
	`as£¹
(
	`Œ›_š£¹
(
Œ›
, "", 
buf
) != 0);

230 
	`as£¹
(
	`Œ›_num_’Œ›s
(
Œ›
) != 0);

231 
	`as£¹
(
	`Œ›_lookup
(
Œ›
, ""è=ğ
buf
);

232 
	`as£¹
(
	`Œ›_»move
(
Œ›
, "") != 0);

234 
	`as£¹
(
	`Œ›_num_’Œ›s
(
Œ›
) == 0);

236 
	`Œ›_ä“
(
Œ›
);

237 
	}
}

239 
	#LONG_STRING_LEN
 4096

	)

240 
	$‹¡_Œ›_ä“_lÚg
()

242 *
lÚg_¡ršg
;

243 
Tr›
 *
Œ›
;

247 
lÚg_¡ršg
 = 
	`m®loc
(
LONG_STRING_LEN
);

248 
	`mem£t
(
lÚg_¡ršg
, 'A', 
LONG_STRING_LEN
);

249 
lÚg_¡ršg
[
LONG_STRING_LEN
 - 1] = '\0';

253 
Œ›
 = 
	`Œ›_Ãw
();

254 
	`Œ›_š£¹
(
Œ›
, 
lÚg_¡ršg
,†ong_string);

256 
	`Œ›_ä“
(
Œ›
);

258 
	`ä“
(
lÚg_¡ršg
);

259 
	}
}

264 
	$‹¡_Œ›_Ãg©ive_keys
()

266 
my_key
[] = { 'a', 'b', 'c', -50, -20, '\0' };

267 
Tr›
 *
Œ›
;

268 *
v®ue
;

270 
Œ›
 = 
	`Œ›_Ãw
();

272 
	`as£¹
(
	`Œ›_š£¹
(
Œ›
, 
my_key
, "hello world") != 0);

274 
v®ue
 = 
	`Œ›_lookup
(
Œ›
, 
my_key
);

276 
	`as£¹
(!
	`¡rcmp
(
v®ue
, "hello world"));

278 
	`as£¹
(
	`Œ›_»move
(
Œ›
, 
my_key
) != 0);

279 
	`as£¹
(
	`Œ›_»move
(
Œ›
, 
my_key
) == 0);

280 
	`as£¹
(
	`Œ›_lookup
(
Œ›
, 
my_key
è=ğ
NULL
);

282 
	`Œ›_ä“
(
Œ›
);

283 
	}
}

285 
Tr›
 *
	$g’”©e_bš¬y_Œ›
()

287 
Tr›
 *
Œ›
;

289 
Œ›
 = 
	`Œ›_Ãw
();

293 
	`as£¹
(
	`Œ›_š£¹_bš¬y
(
Œ›
,

294 
bš_key2
, (bin_key2),

296 
	`as£¹
(
	`Œ›_š£¹_bš¬y
(
Œ›
,

297 
bš_key
, (bin_key),

300  
Œ›
;

301 
	}
}

303 
	$‹¡_Œ›_š£¹_bš¬y
()

305 
Tr›
 *
Œ›
;

306 *
v®ue
;

308 
Œ›
 = 
	`g’”©e_bš¬y_Œ›
();

312 
	`as£¹
(
	`Œ›_š£¹_bš¬y
(
Œ›
,

313 
bš_key
, (bin_key),

318 
	`as£¹
(
	`Œ›_š£¹_bš¬y
(
Œ›
, 
bš_key3
, (bš_key3), 
NULL
) == 0);

322 
v®ue
 = 
	`Œ›_lookup_bš¬y
(
Œ›
, 
bš_key
, (bin_key));

323 
	`as£¹
(!
	`¡rcmp
(
v®ue
, "hi world"));

325 
v®ue
 = 
	`Œ›_lookup_bš¬y
(
Œ›
, 
bš_key2
, (bin_key2));

326 
	`as£¹
(!
	`¡rcmp
(
v®ue
, "goodbye world"));

328 
	`Œ›_ä“
(
Œ›
);

329 
	}
}

331 
	$‹¡_Œ›_š£¹_out_of_memÜy
()

333 
Tr›
 *
Œ›
;

335 
Œ›
 = 
	`g’”©e_bš¬y_Œ›
();

337 
	`®loc_‹¡_£t_lim™
(3);

339 
	`as£¹
(
	`Œ›_š£¹_bš¬y
(
Œ›
,

340 
bš_key4
, (bin_key4),

343 
	`as£¹
(
	`Œ›_lookup_bš¬y
(
Œ›
, 
bš_key4
, (bš_key4)è=ğ
NULL
);

344 
	`as£¹
(
	`Œ›_num_’Œ›s
(
Œ›
) == 2);

346 
	`Œ›_ä“
(
Œ›
);

347 
	}
}

349 
	$‹¡_Œ›_»move_bš¬y
()

351 
Tr›
 *
Œ›
;

352 *
v®ue
;

354 
Œ›
 = 
	`g’”©e_bš¬y_Œ›
();

358 
v®ue
 = 
	`Œ›_lookup_bš¬y
(
Œ›
, 
bš_key3
, (bin_key3));

359 
	`as£¹
(
v®ue
 =ğ
NULL
);

361 
	`as£¹
(
	`Œ›_»move_bš¬y
(
Œ›
, 
bš_key3
, (bin_key3)) == 0);

363 
	`as£¹
(
	`Œ›_lookup_bš¬y
(
Œ›
, 
bš_key4
, (bin_key4)) == 0);

364 
	`as£¹
(
	`Œ›_»move_bš¬y
(
Œ›
, 
bš_key4
, (bin_key4)) == 0);

368 
	`as£¹
(
	`Œ›_»move_bš¬y
(
Œ›
, 
bš_key2
, (bin_key2)) != 0);

369 
	`as£¹
(
	`Œ›_lookup_bš¬y
(
Œ›
, 
bš_key2
, (bš_key2)è=ğ
NULL
);

370 
	`as£¹
(
	`Œ›_lookup_bš¬y
(
Œ›
, 
bš_key
, (bš_key)è!ğ
NULL
);

372 
	`as£¹
(
	`Œ›_»move_bš¬y
(
Œ›
, 
bš_key
, (bin_key)) != 0);

373 
	`as£¹
(
	`Œ›_lookup_bš¬y
(
Œ›
, 
bš_key
, (bš_key)è=ğ
NULL
);

375 
	`Œ›_ä“
(
Œ›
);

376 
	}
}

378 
Un™Te¡FunùiÚ
 
	g‹¡s
[] = {

379 
‹¡_Œ›_Ãw_ä“
,

380 
‹¡_Œ›_š£¹
,

381 
‹¡_Œ›_lookup
,

382 
‹¡_Œ›_»move
,

383 
‹¡_Œ›_»¶aû
,

384 
‹¡_Œ›_š£¹_em±y
,

385 
‹¡_Œ›_ä“_lÚg
,

386 
‹¡_Œ›_Ãg©ive_keys
,

387 
‹¡_Œ›_š£¹_bš¬y
,

388 
‹¡_Œ›_š£¹_out_of_memÜy
,

389 
‹¡_Œ›_»move_bš¬y
,

390 
NULL


393 
	$maš
(
¬gc
, *
¬gv
[])

395 
	`run_‹¡s
(
‹¡s
);

398 
	}
}

	@
1
.
0
58
1017
config.h
doc/intro.h
src/arraylist.c
src/arraylist.h
src/avl-tree.c
src/avl-tree.h
src/binary-heap.c
src/binary-heap.h
src/binomial-heap.c
src/binomial-heap.h
src/bloom-filter.c
src/bloom-filter.h
src/compare-int.c
src/compare-int.h
src/compare-pointer.c
src/compare-pointer.h
src/compare-string.c
src/compare-string.h
src/hash-int.c
src/hash-int.h
src/hash-pointer.c
src/hash-pointer.h
src/hash-string.c
src/hash-string.h
src/hash-table.c
src/hash-table.h
src/libcalg.h
src/list.c
src/list.h
src/queue.c
src/queue.h
src/rb-tree.c
src/rb-tree.h
src/set.c
src/set.h
src/slist.c
src/slist.h
src/trie.c
src/trie.h
test/alloc-testing.c
test/alloc-testing.h
test/framework.c
test/framework.h
test/test-alloc-testing.c
test/test-arraylist.c
test/test-avl-tree.c
test/test-binary-heap.c
test/test-binomial-heap.c
test/test-bloom-filter.c
test/test-compare-functions.c
test/test-hash-functions.c
test/test-hash-table.c
test/test-list.c
test/test-queue.c
test/test-rb-tree.c
test/test-set.c
test/test-slist.c
test/test-trie.c
